<!DOCTYPE html><html lang=en><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><style>@charset "UTF-8";@keyframes unsupported-appear{0%,to{visibility:hidden}}@keyframes hold-visibility{0%,to{visibility:visible}}@keyframes loading-progress-before{0%{transform:translate(-50%)}to{transform:translate(100vw) translate(-50%)}}@keyframes equalizer-morph{0%{transform:scaleY(1)}25%{transform:scaleY(.3)}50%{transform:scaleY(.7)}75%{transform:scaleY(.15)}}.overflow-hidden{overflow:hidden}*,::after,::before{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}:focus{outline:1px solid #3740ff}.w-force-focus{outline:0!important}div,form,li,ol,th,ul{margin:0;padding:0}td{margin:0}input,q{hyphens:none}code,input,q{-moz-hyphens:none;-webkit-hyphens:none}:not([href])[id]::before{content:" ";display:block;height:calc(64px + 1.5rem);margin-top:calc(-64px - 1.5rem);pointer-events:none;visibility:hidden}:root{--flow-space:1em}body,html{font:400 12px/1.5 Segoe UI,system-ui,-apple-system,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;text-rendering:optimizeSpeed;margin:0;overflow-wrap:break-word;padding:0;word-wrap:break-word}@media (min-width:241px){body,html{font:400 14px/1.5 Segoe UI,system-ui,-apple-system,sans-serif}}@media (min-width:321px){body,html{font:400 16px/1.5 Segoe UI,system-ui,-apple-system,sans-serif}}h1,h2,h3{color:#202124;margin:0;overflow:visible}h3,h4{font:500 13.5px/1.4814814815 "Google Sans",sans-serif}h4{margin:0;overflow:visible;margin-top:24px;margin-bottom:6px;color:#5f6368}h1{font:500 38px/1.3157894737 "Google Sans",sans-serif;letter-spacing:-.5px;margin-top:0;margin-bottom:9px}@media (min-width:241px){h1{font:500 49px/1.3265306122 "Google Sans",sans-serif;letter-spacing:-.5px;margin-top:0;margin-bottom:10px}}@media (min-width:321px){h1{font:500 56px/1.3214285714 "Google Sans",sans-serif;letter-spacing:-.5px;margin-top:0;margin-bottom:11px}}h2{font:400 18px/1.3333333333 "Google Sans",sans-serif;margin-top:48px;margin-bottom:24px}@media (min-width:241px){h2{font:400 21px/1.3333333333 "Google Sans",sans-serif;margin-top:56px;margin-bottom:28px}}@media (min-width:321px){h2{font:400 24px/1.3333333333 "Google Sans",sans-serif;margin-top:64px;margin-bottom:32px}}h3{margin-top:36px;margin-bottom:12px}@media (min-width:241px){h3{font:500 16px/1.375 "Google Sans",sans-serif;margin-top:42px;margin-bottom:14px}}@media (min-width:321px){h3{font:500 20px/1.2 "Google Sans",sans-serif;margin-top:48px;margin-bottom:16px}}@media (min-width:241px){h4{font:500 16px/.9375 "Google Sans",sans-serif;margin-top:28px;margin-bottom:7px}}@media (min-width:321px){h4{font:500 19px/1.0526315789 "Google Sans",sans-serif;margin-top:32px;margin-bottom:10px}}p{font:400 13.5px/1.5555555556 Segoe UI,system-ui,-apple-system,sans-serif;margin-top:27px;margin-bottom:27px}@media (min-width:241px){p{font:400 15px/1.8666666667 Segoe UI,system-ui,-apple-system,sans-serif;margin-top:31.5px;margin-bottom:31.5px}}@media (min-width:321px){p{font:400 18px/1.7777777778 Segoe UI,system-ui,-apple-system,sans-serif;margin-top:36px;margin-bottom:36px}}h1+*,h1+[class],h2+*,h2+[class],h3+*,h3+[class],h4+*,h4+[class]{margin-top:0}cite,em{font-style:italic}strong{font-weight:500}main{padding-bottom:64px}@media print{main{padding-bottom:0}}img{-ms-interpolation-mode:bicubic;display:inline-block;height:auto;max-width:100%;vertical-align:middle}input[type=email],input[type=text]{border:1px solid #dadce0;font:inherit;font-size:inherit;padding:14px 8px;width:100%}input[type=email]:focus,input[type=text]:focus{border-color:#3740ff;outline:0}input[type=radio]{-moz-appearance:none;-webkit-appearance:none;appearance:none;border:2px solid #dadce0;border-radius:50%;cursor:pointer;flex-shrink:0;height:24px;margin:2px;width:24px}input[type=radio]:checked{background-clip:content-box;background-color:#3740ff;border:2px solid #3740ff;padding:4px}a{color:#3740ff;text-decoration:none}a:active,a:focus,a:hover{text-decoration:underline}a:active,a:focus{outline:1px solid #3740ff}.w-post-content :link,.w-post-content :visited,.w-post-content a{text-decoration:underline}.w-post-content :link:active,.w-post-content :link:focus,.w-post-content :link:hover,.w-post-content :visited:active,.w-post-content :visited:focus,.w-post-content :visited:hover,.w-post-content a:active,.w-post-content a:focus,.w-post-content a:hover{text-decoration:none}p :link:active,p :visited:active,p a:active{background-color:rgba(55,64,255,.16)}a code,td a code{color:#3740ff}ol:not([class]),ul:not([class]){list-style:none;margin:32px 0;position:relative}ol:not([class]){counter-reset:ol-step-counter;padding-left:32px}ol:not([class])>li{counter-increment:ol-step-counter}ol:not([class])>li::before,ul:not([class])>li::before{background:#5f6368;border-radius:50%;color:#fff;left:0;position:absolute}ol:not([class])>li::before{-ms-flex-align:center;-ms-flex-negative:0;-ms-flex-pack:center;-webkit-box-align:center;-webkit-box-pack:center;align-items:center;content:counter(ol-step-counter);display:-ms-inline-flexbox;display:-webkit-inline-box;display:inline-flex;flex-shrink:0;font-size:.75em;height:20px;justify-content:center;margin:6px 0 0;width:20px}ul:not([class]){padding-left:24px}ol:not([class])>li,ul:not([class])>li{font-size:1.125rem;line-height:1.778rem;margin-bottom:8px}ul:not([class])>li::before{content:"";height:8px;margin:12px 0 0;width:8px}li>ol:not([class]),li>ul:not([class]),ol:not([class])>li>p,ul:not([class])>li>p{margin:8px 0}ol:not([class])>li>p:first-child,table ol:not([class]):first-child,table ul:not([class]):first-child,ul:not([class])>li>p:first-child{margin-top:0}ol:not([class])>li>p:last-child,table ol:not([class]):last-child,table ul:not([class]):last-child,ul:not([class])>li>p:last-child{margin-bottom:0}textarea{height:auto;min-height:50px}select{-moz-appearance:none;-webkit-appearance:none;appearance:none;background-color:#fff;background-image:url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M7 10L12 15L17 10H7Z' fill='%235F6368'/%3E%3C/svg%3E%0A");background-position:right .5em top 50%;background-repeat:no-repeat;background-size:1.5em;border-radius:1px;border:1px solid #dadce0;box-sizing:border-box;color:inherit;display:block;font-family:inherit;font-size:1em;line-height:1.5;margin:0;max-width:100%;padding:.6em 3em .5em .8em}select::-ms-expand{display:none}select:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}select:hover{border-color:#9aa0a6}select option{font-weight:400}.w-select--borderless{border-color:transparent}.w-select--borderless:hover{border-color:transparent;background-color:#f1f3f4}.w-table-wrapper{margin:32px 0;overflow:auto;background:linear-gradient(to right,#fff 30%,rgba(255,255,255,0)),linear-gradient(to right,rgba(255,255,255,0),#fff 70%) 0 100%,radial-gradient(farthest-side at 0 50%,rgba(0,0,0,.2),transparent),radial-gradient(farthest-side at 100% 50%,rgba(0,0,0,.2),transparent) 0 100%;background-repeat:no-repeat;background-color:#fff;background-size:40px 100%,40px 100%,14px 100%,14px 100%;background-position:0 0,100%,0 0,100%;background-attachment:local,local,scroll,scroll}table{border-collapse:collapse;font-size:inherit;margin:0;min-width:512px;width:100%}tr{background:0 0;border-bottom:1px solid #dadce0;border-top:0;height:48px}tr:last-of-type{border-bottom:0}td,th{color:inherit;min-width:120px;text-align:left}th{font-family:"Google Sans",sans-serif;font-size:.875em;font-weight:500;line-height:24px;padding-right:24px;vertical-align:middle}td{line-height:1.5;padding:16px 24px 16px 0}table code{background:0 0;border:0;font-size:.9em;font-weight:400;line-height:1.7em;margin:0;padding:0}table ol:not([class]),table ul:not([class]){margin:24px 0;padding-left:40px}table ol:not([class]) li,table ul:not([class]) li{font-size:inherit;line-height:inherit}table ul:not([class]) li::before{margin:8px 0 0}table ol:not([class]) li::before{margin:2px 0 0}td>:last-child>li:last-child{margin-bottom:0}code{margin:0 .25em;padding:.125em .25em}code,pre{background:#f7f7f7;border:1px solid #dadce0;color:#202124;font:1rem/1.5em SFMono-Regular,Consolas,"Liberation Mono",Menlo,monospace;hyphens:none;tab-size:2;text-align:left;word-spacing:normal}:not(pre)>code{white-space:pre-wrap}pre,pre[class*=language-]{margin:32px -24px;border-width:1px 0;overflow:auto;padding:16px;white-space:pre;scrollbar-color:#80868b transparent;scrollbar-width:thin}pre::-webkit-scrollbar,pre[class*=language-]::-webkit-scrollbar{height:10px;width:10px}pre::-webkit-scrollbar-thumb,pre[class*=language-]::-webkit-scrollbar-thumb{background:#80868b;background-clip:padding-box;border:2.5px solid transparent;border-radius:5px}pre::-webkit-scrollbar-thumb:hover,pre[class*=language-]::-webkit-scrollbar-thumb:hover{background-color:#62676c}pre::-webkit-scrollbar-thumb:active,pre[class*=language-]::-webkit-scrollbar-thumb:active{background-color:#4a4e51}pre::-webkit-scrollbar-track,pre[class*=language-]::-webkit-scrollbar-track{background:0 0}@media (min-width:481px){pre,pre[class*=language-]{margin:32px -32px}}@media (min-width:865px){pre,pre[class*=language-]{margin:32px 0;border-width:1px}}pre code,pre[class*=language-] code{font-size:1em;line-height:1.5em;margin:0;padding:0}pre code{background:0 0;border:0}h1 code,h2 code,h3 code,h4 code{background:0 0;border:0;color:inherit;font-size:inherit;margin:0;padding:0;white-space:normal}cite code,figcaption code{font-size:.9em}.token.comment{color:#696969}.token.punctuation,.token.string{color:#183691}.token.property,.token.tag{color:#385d34}.token.boolean,.token.number{color:#007aa2}.token.important,.token.keyword{color:#9f1c59}.token.operator,.token.url{color:#a71d5d}.highlight-line-active,.highlight-line-active *{color:#202124!important;font-weight:500}.highlight-line-active{background-color:#fff59d}video{max-width:100%}@font-face{font-family:"Google Sans";font-style:normal;font-weight:400;font-display:optional;src:local("Google Sans Regular"),local("GoogleSans-Regular"),url(/fonts/google-sans/regular/cyrillic.woff2) format("woff2");unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:"Google Sans";font-style:normal;font-weight:400;font-display:optional;src:local("Google Sans Regular"),local("GoogleSans-Regular"),url(/fonts/google-sans/regular/greek.woff2) format("woff2");unicode-range:U+0370-03FF}@font-face{font-family:"Google Sans";font-style:normal;font-weight:400;font-display:optional;src:local("Google Sans Regular"),local("GoogleSans-Regular"),url(/fonts/google-sans/regular/vietnamese.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:"Google Sans";font-style:normal;font-weight:400;font-display:optional;src:local("Google Sans Regular"),local("GoogleSans-Regular"),url(/fonts/google-sans/regular/latin-ext.woff2) format("woff2");unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:"Google Sans";font-style:normal;font-weight:400;font-display:optional;src:local("Google Sans Regular"),local("GoogleSans-Regular"),url(/fonts/google-sans/regular/latin.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:"Google Sans";font-style:normal;font-weight:500;font-display:optional;src:local("Google Sans Medium"),local("GoogleSans-Medium"),url(/fonts/google-sans/bold/cyrillic.woff2) format("woff2");unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:"Google Sans";font-style:normal;font-weight:500;font-display:optional;src:local("Google Sans Medium"),local("GoogleSans-Medium"),url(/fonts/google-sans/bold/greek.woff2) format("woff2");unicode-range:U+0370-03FF}@font-face{font-family:"Google Sans";font-style:normal;font-weight:500;font-display:optional;src:local("Google Sans Medium"),local("GoogleSans-Medium"),url(/fonts/google-sans/bold/vietnamese.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:"Google Sans";font-style:normal;font-weight:500;font-display:optional;src:local("Google Sans Medium"),local("GoogleSans-Medium"),url(/fonts/google-sans/bold/latin-ext.woff2) format("woff2");unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:"Google Sans";font-style:normal;font-weight:500;font-display:optional;src:local("Google Sans Medium"),local("GoogleSans-Medium"),url(/fonts/google-sans/bold/latin.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:"Material Icons";font-style:normal;font-weight:400;src:url(/fonts/material-icons/regular.woff2) format("woff2")}.scrollbar,.w-table-wrapper,.w-toc__content{scrollbar-color:#9aa0a6 transparent;scrollbar-width:thin}.scrollbar::-webkit-scrollbar,.w-table-wrapper::-webkit-scrollbar,.w-toc__content::-webkit-scrollbar{height:6px;width:6px}.scrollbar::-webkit-scrollbar-thumb,.w-table-wrapper::-webkit-scrollbar-thumb,.w-toc__content::-webkit-scrollbar-thumb{background:#9aa0a6;background-clip:padding-box;border:1.5px solid transparent;border-radius:3px}.scrollbar::-webkit-scrollbar-thumb:hover,.w-table-wrapper::-webkit-scrollbar-thumb:hover,.w-toc__content::-webkit-scrollbar-thumb:hover{background-color:#798189}.scrollbar::-webkit-scrollbar-thumb:active,.w-table-wrapper::-webkit-scrollbar-thumb:active,.w-toc__content::-webkit-scrollbar-thumb:active{background-color:#61686e}.scrollbar::-webkit-scrollbar-track,.w-table-wrapper::-webkit-scrollbar-track,.w-toc__content::-webkit-scrollbar-track{background:0 0}.w-visually-hidden{clip:rect(1px 1px 1px 1px);clip:rect(1px,1px,1px,1px);clip-path:inset(1px);display:block;height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}:root{--list-separator:"·";--list-separator-gap:0.5rem}.w-actions{align-items:flex-end;bottom:24px;display:flex;flex-direction:column;position:fixed;right:24px;z-index:100}@media print{.w-actions{display:none}}.w-actions>*{margin-top:20px}.w-actions__fab{align-items:center;background-color:#3740ff;border:0;border-radius:50%;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);color:#fff;cursor:pointer;display:inline-flex;font-family:Segoe UI,system-ui,-apple-system,sans-serif;font-size:.875em;font-weight:600;height:56px;letter-spacing:1px;overflow:hidden;padding:0;position:relative;text-indent:-9999px;text-overflow:initial;text-transform:uppercase;width:56px}@media (min-width:1264px){.w-actions__fab{border-radius:28px;padding:0 24px 0 52px;text-indent:0;width:auto}}.w-actions__fab:active,.w-actions__fab:hover{background-color:#3740ff}.w-actions__fab:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.w-actions__fab:active,.w-actions__fab:focus,.w-actions__fab:hover{outline:0;text-decoration:none}.w-actions__fab::before{background-size:24px 24px;content:"";height:24px;left:16px;position:absolute;top:16px;width:24px}.w-actions__fab::after{bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0;transition:background-color .2s,border .2s;z-index:1}.w-actions__fab:hover::after{background-color:rgba(255,255,255,.08)}.w-actions__fab:focus::after{background-color:rgba(255,255,255,.24)}.w-actions__fab:active::after{background-color:rgba(255,255,255,.32)}.w-actions__fab--share::before{background-image:url(/images/icons/share_white.svg)}.w-actions__fab--subscribe{background-color:#fff;color:#3740ff}.w-actions__fab--subscribe:active,.w-actions__fab--subscribe:hover{background-color:#fff}.w-actions__fab--subscribe::before{background-image:url(/images/icons/subscribe.svg)}.w-actions__fab--subscribe:hover::after{background-color:rgba(55,64,255,.04)}.w-actions__fab--subscribe:focus::after{background-color:rgba(55,64,255,.12)}.w-actions__fab--subscribe:active::after{background-color:rgba(55,64,255,.16)}:root{--app-bar-height:64px}.w-article-header{margin:0 0 48px;padding-top:40px}@media (min-width:865px){.w-article-header{margin:0 0 64px;padding-top:56px}}@media print{.w-article-header{margin:0;padding-top:0}}.w-article-header__headline{font-size:27px;font-weight:400;line-height:33px;margin:0 auto 11px}@media (min-width:241px){.w-article-header__headline{font-size:31px;line-height:38px}}@media (min-width:321px){.w-article-header__headline{font-size:36px;line-height:44px}}@media (min-width:865px){.w-article-header__headline{font-size:44px;line-height:52px}}.w-article-header__subhead{font-family:"Google Sans",sans-serif;font-size:16px;line-height:28px;margin:12px auto}@media (min-width:241px){.w-article-header__subhead{font-size:18px;line-height:32px;margin:16px auto}}.w-article-navigation{background-color:#dadce0;display:flex;flex-direction:column;padding:1px 0}@media (min-width:481px){.w-article-navigation{flex-direction:row}}@media print{.w-article-navigation{display:none}}.w-article-navigation__link{align-items:center;background-color:#fff;color:#202124;display:flex;font-family:"Google Sans",sans-serif;position:relative}.w-article-navigation__link:active,.w-article-navigation__link:focus,.w-article-navigation__link:hover{background-color:#fff;outline:0;text-decoration:none}.w-article-navigation__link::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:24px/1 "Material Icons";font-feature-settings:"liga";text-rendering:optimizeSpeed;text-transform:none;word-wrap:normal}.w-article-navigation__link::after{bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0;transition:background-color .2s,border .2s;z-index:1}.w-article-navigation__link:hover::after{background-color:rgba(32,33,36,.04)}.w-article-navigation__link:focus::after{background-color:rgba(32,33,36,.12)}.w-article-navigation__link:active::after{background-color:rgba(32,33,36,.16)}.w-article-navigation__link--back{flex-basis:33.3%;margin:0 0 1px;padding:32px 32px 32px 80px}@media (min-width:481px){.w-article-navigation__link--back{margin:0 1px 0 0}}.w-article-navigation__link--back::before,.w-aside::after{content:"arrow_back";left:32px;position:absolute}.w-article-navigation__link--single{flex:1;margin:0}@media (min-width:481px){.w-article-navigation__link--single{margin:0}}.w-article-navigation code{background:0 0;border:0;color:inherit;padding:0}.w-aside{font-family:Segoe UI,system-ui,-apple-system,sans-serif;font-size:13.5px;line-height:21px;margin:48px 0 32px;padding:24px 0 0 48px;position:relative}@media (min-width:241px){.w-aside{font-size:15px;line-height:28px}}@media (min-width:321px){.w-aside{font-size:18px;line-height:32px}}.w-aside strong{font-weight:700}.w-aside::after{content:"";height:2px;left:0;right:0;top:0}.w-aside::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:24px/1 "Material Icons";font-feature-settings:"liga";text-rendering:optimizeSpeed;text-transform:none;word-wrap:normal;float:left;margin:4px 0 0 -48px}.w-aside--note{color:#3740ff}.w-aside--note::after{background-color:#3740ff}.w-aside--note::before{content:"star"}.w-aside--caution{color:#c0580c}.w-aside--caution::after{background-color:#c0580c}.w-aside--caution::before{content:"error"}.w-aside--warning{color:#eb0f00}.w-aside--warning::after{background-color:#eb0f00}.w-aside--warning::before{content:"warning"}.w-aside a,.w-aside code,.w-aside p{color:inherit}.w-aside code{white-space:pre-wrap}.w-aside pre,.w-aside pre code{font-size:.889em;line-height:1.5;white-space:pre}.w-aside a{text-decoration:underline}.w-aside p{font-family:inherit;letter-spacing:normal;margin:0}.w-aside p+p{margin-top:8px}.w-aside p,.w-aside ul li{font-size:inherit;line-height:inherit}.w-authors{display:flex;flex-wrap:wrap;gap:32px}.w-author{display:flex;padding:8px}.w-author__image{background-color:#dadce0;border-radius:50%;border:2px solid #fff;flex-shrink:0;height:64px;margin:0 12px 0 0;min-width:64px;object-fit:cover;overflow:hidden;width:64px}.w-author__name,.w-author__published{display:block;font-size:14px;font-style:normal}.w-author__name{color:#202124}.w-author__name-link{display:inline-block;color:inherit}.w-author__name-link:focus,.w-author__name-link:hover{text-decoration:none}.w-post-content .w-author__name-link{text-decoration:none}.w-post-content .w-author__name-link:focus,.w-post-content .w-author__name-link:hover{text-decoration:underline}.w-author__published{color:#5f6368}.w-author__separator{padding:0 4px}.w-author__link,web-event-schedule{display:block}.w-author__link-list{display:flex;flex-wrap:wrap;list-style:none;overflow:hidden;margin-top:9px}.w-author__link-listitem{font-size:14px;display:flex}.w-author__link-listitem+.w-author__link-listitem::before{content:"·";display:block;margin:0 4px}.w-author__link:focus{box-shadow:inset 0 0 0 1px #3740ff;outline:0}.w-breadcrumbs,.w-breadcrumbs__crumb{align-items:center;display:flex;min-width:0}.w-breadcrumbs{margin:0;padding:0}.w-breadcrumbs__crumb{font-size:.875rem}.w-breadcrumbs__icon{width:1.1rem;height:1.1rem;fill:#5f6368}.w-breadcrumbs__crumb:not(:last-of-type){flex-shrink:0}.w-breadcrumbs__crumb:last-of-type>a{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.w-breadcrumbs__link{color:#5f6368;padding:0 8px}.w-breadcrumbs__link--left-justify{margin-left:-8px}.w-button{-webkit-tap-highlight-color:transparent;align-items:center;background:0 0;border:0;border-radius:3px;color:#3740ff;cursor:pointer;display:inline-flex;font:500 .875rem/2.25rem Segoe UI,system-ui,-apple-system,sans-serif;height:56px;justify-content:center;letter-spacing:1px;outline:0;padding:0 16px;text-decoration:none;text-transform:uppercase;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;text-rendering:optimizeSpeed;overflow:hidden;position:relative;transition:background-color .2s,box-shadow .2s;vertical-align:middle;white-space:nowrap}.w-button::-moz-focus-inner{border:0}@media (hover:hover){.w-button:focus,.w-button:hover{background:#fff;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);outline:0;text-decoration:none}}.w-button:active{background:#fff;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);outline:0;text-decoration:none}.w-button:focus{outline:1px solid rgba(55,64,255,.8);outline-offset:-3px}.w-button[disabled]{background:#dadce0;box-shadow:none;color:rgba(0,0,0,.26);cursor:default;pointer-events:none}.w-button::after{bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0;transition:background-color .2s,border .2s;z-index:1}@media (hover:hover){.w-button:hover::after{background-color:rgba(55,64,255,.04)}.w-button:focus::after{background-color:rgba(55,64,255,.12)}}.w-button:active::after{background-color:rgba(55,64,255,.16)}.w-button--primary,.w-button--primary:active,.w-button--primary:focus,.w-button--primary:hover{background-color:#3740ff;color:#fff}@media (hover:hover){.w-button--primary:hover::after{background-color:rgba(255,255,255,.08)}.w-button--primary:focus::after{background-color:rgba(255,255,255,.24)}}.w-button--primary:active::after{background-color:rgba(255,255,255,.32)}.w-button--primary:focus{outline:1px solid rgba(255,255,255,.8)}.w-button--secondary,.w-button--secondary:active,.w-button--secondary:focus,.w-button--secondary:hover{background-color:#fff;border:1px solid #dadce0;color:#202124}@media (hover:hover){.w-button--secondary:hover::after{background-color:rgba(0,0,0,.04)}.w-button--secondary:focus::after{background-color:rgba(0,0,0,.08)}}.w-button--secondary:active::after{background-color:rgba(0,0,0,.1)}.w-button--secondary:focus{outline:1px solid rgba(32,33,36,.6)}.w-button--icon,.w-button--svg{-webkit-tap-highlight-color:transparent;align-items:center;background:0 0;border:0;border-radius:3px;cursor:pointer;display:inline-flex;font:500 .875rem/2.25rem Segoe UI,system-ui,-apple-system,sans-serif;height:56px;justify-content:center;letter-spacing:1px;outline:0;position:relative;text-decoration:none;text-transform:uppercase;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;text-rendering:optimizeSpeed;color:#5f6368;height:3rem;overflow:unset;padding:0;transition:background .2s ease,color .2s ease;width:3rem}@media (hover:hover){.w-button--icon:focus,.w-button--icon:hover,.w-button--svg:focus,.w-button--svg:hover{background:#f1f3f4;color:#202124}}.w-button--icon:active,.w-button--svg:active{background:#e8eaed}.w-button--icon:focus,.w-button--svg:focus{box-shadow:0 0 0 1px #3740ff;outline:0}.w-button--round{border-radius:50%}.w-button--icon::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:24px/1 "Material Icons";font-feature-settings:"liga";text-rendering:optimizeSpeed;text-transform:none;word-wrap:normal;content:attr(data-icon);display:inline-block;height:24px;speak:none;width:24px;margin:0}.button{appearance:none;border:0;background:0 0;padding:0}.w-chips{display:flex;flex-flow:row wrap}.w-chip,.w-post-content .w-chip{background-color:transparent;border:1px solid rgba(32,33,36,.16);border-radius:20px;box-sizing:border-box;color:#202124;display:block;font-size:14px;height:32px;line-height:30px;margin:0 8px 12px 0;overflow:hidden;padding:0 12px;text-decoration:none;transition:background-color .2s,border .2s}.w-chip:active,.w-chip:focus,.w-chip:hover,.w-post-content .w-chip:active,.w-post-content .w-chip:focus,.w-post-content .w-chip:hover{outline:0;text-decoration:none}.w-chip:hover,.w-post-content .w-chip:hover{background-color:rgba(32,33,36,.04);border:1px solid rgba(32,33,36,.2)}.w-chip:focus,.w-post-content .w-chip:focus{background-color:rgba(32,33,36,.12);border:1px solid rgba(32,33,36,.28)}.w-chip:active,.w-post-content .w-chip:active{background-color:rgba(0,0,0,.16);border:1px solid rgba(32,33,36,.43);box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.w-callout__header{padding-bottom:1rem}.w-callout__lockup{font:500 13.5px/1.4814814815 "Google Sans",sans-serif;margin-top:36px;margin-bottom:12px;display:inline-flex;margin:0 0 .75rem!important}@media (min-width:241px){.w-callout__lockup{font:500 16px/1.375 "Google Sans",sans-serif;margin-top:42px;margin-bottom:14px}}@media (min-width:321px){.w-callout__lockup{font:500 20px/1.2 "Google Sans",sans-serif;margin-top:48px;margin-bottom:16px}}.w-callout__lockup::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:24px/1 "Material Icons";font-feature-settings:"liga";text-rendering:optimizeSpeed;text-transform:none;word-wrap:normal;display:inline-block;font-size:20px;margin:0 8px 0 0}.w-callout__blurb{margin:0}.w-details{border:1px solid #dadce0;border-width:1px 0;margin:36px 0;padding:18px 0;position:relative}.w-details+.w-details{border-top:0;margin-top:-36px}.w-details__summary{-webkit-tap-highlight-color:transparent;cursor:pointer;font:inherit;list-style:none}.w-details__summary::marker{display:none}.w-details__summary:focus{outline:0}@media (hover:hover){.w-details__summary:focus .w-details__header::after,.w-details__summary:hover .w-details__header::after{background:#e7e8ff}}.w-details__summary:focus .w-details__header::after{box-shadow:0 0 0 1px #3740ff}.w-details__summary:active .w-details__header::after{background:#c3c6ff}.w-details__header{color:#3740ff;margin:0;padding:.75rem 40px .75rem 0;position:relative}.w-details__header::after{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:24px/1 "Material Icons";font-feature-settings:"liga";text-rendering:optimizeSpeed;text-transform:none;word-wrap:normal;border-radius:50%;content:"expand_more";cursor:pointer;font-size:24px;padding:2px;position:absolute;right:1px;speak:none;top:50%;transform:translateY(-50%);transition:background .2s;visibility:visible}@media (min-width:321px){.w-details__header{padding:1.125em 48px 1.125em 0}.w-details__header::after{padding:.25em}}.w-details[open] .w-details__header::after{transform:rotate(180deg) translateY(50%)}.w-details__header:only-child{line-height:1.5rem;padding:.375rem 40px .375rem 0}h2.w-details__header:only-child{line-height:1.3333em;padding:.75rem 40px .75rem 0}.w-details>p:first-of-type{margin-top:0}.drawer-default__contents{background:#fff;display:flex;flex-direction:column;height:100vh;width:268px;max-width:90vw}.drawer-default__header{align-items:center;display:flex;padding:16px;border-bottom:1px solid #dadce0}.drawer-default__hide{height:2.75rem;margin:0 10px 0 -6px;width:2.75rem;color:#5f6368}.drawer-default__link{border-bottom:1px solid #dadce0;color:#5f6368;font-size:14px;font-weight:500;padding:16px 24px}.drawer-default__link[active]{-webkit-box-shadow:0 -2px 0 #3740ff inset;box-shadow:0 -2px 0 #3740ff inset}.drawer-default__link:active,.drawer-default__link:focus,.drawer-default__link:hover{text-decoration:none;outline:0}.drawer-default__link:hover{background-color:rgba(32,33,36,.04)}.drawer-default__link:focus{background-color:rgba(32,33,36,.12)}.drawer-default__link:active{background-color:rgba(32,33,36,.16)}.w-footer{border-top:1px solid #dadce0}@media print{.w-footer{display:none}}.w-footer__license{padding-top:32px;width:100%}.w-footer__license p{font-size:.75rem;margin:0;max-width:960px}.w-footer__linkboxes{background:#fff;display:block;font:400 14px/16px Segoe UI,system-ui,-apple-system,sans-serif}.w-footer__linkboxes-list{display:block;list-style:none;padding:24px 0}@media (min-width:865px){.w-footer__linkboxes-list{display:flex;padding:24px 12px 0}}.w-footer__linkbox{flex-grow:1;padding:0 16px 24px}@media (min-width:865px){.w-footer__linkbox{flex:1;margin:0}}.w-footer__linkbox:last-of-type{padding:0 16px}.w-footer__linkbox-heading{font:500 14px/16px Segoe UI,system-ui,-apple-system,sans-serif;margin:0 0 8px}.w-footer__linkbox-list{list-style-type:none;padding:0}.w-footer__linkbox-item{margin:0}.w-footer__linkbox-link{color:#202124;display:block;padding:16px 0}.w-footer__linkbox-link:focus,.w-footer__linkbox-link:hover,.w-footer__utility-link:focus,.w-footer__utility-link:hover{color:#3740ff;text-decoration:none}.w-footer__utility{background:#fff;display:block}.w-footer__utility-nav{border-top:1px solid #ddd;display:block;font:400 14px/16px Segoe UI,system-ui,-apple-system,sans-serif;margin:0 16px;padding:24px 0}@media (min-width:865px){.w-footer__utility-nav{align-items:center;display:flex;flex-wrap:wrap;margin:0 24px}}.w-footer__utility-list{display:block;list-style:none;padding:0}@media (min-width:865px){.w-footer__utility-list{align-items:center;display:flex;flex:1;flex-wrap:wrap}}.w-footer__utility-item{margin:0}@media (min-width:865px){.w-footer__utility-item{margin-right:40px}}.w-footer__utility-link{color:#202124;display:block;padding:16px 0}.w-footer__utility-logo-link{display:block;line-height:1;margin-right:40px}.w-footer__utility-logo{margin:-2px 0 16px;max-width:185px}@media (min-width:865px){.w-footer__utility-logo{margin:-2px 0 0}}.header-default{position:fixed;top:0}.header-default [data-open-drawer-button]{margin:0 8px 0 -8px}@media (min-width:865px){.header-default [data-open-drawer-button]{display:none}}.header-default__middle{align-items:center;display:flex;flex:1;height:100%;overflow:hidden;position:relative}.header-default__links{display:none;flex:1;height:100%;line-height:20px;min-width:50%;padding-left:48px}@media (min-width:865px){.header-default__links{display:flex}}.header-default__link{align-items:center;color:#202124;display:flex;font-weight:500;margin:0;padding:0 16px;position:relative}.header-default__link[active]{box-shadow:0 -2px 0 #3740ff inset}@media (min-width:1264px){.header-default__link{padding:0 24px}}.header-default__link:active,.header-default__link:focus,.header-default__link:hover{outline:0;text-decoration:none}.header-default__link:hover{background-color:rgba(32,33,36,.04)}.header-default__link:focus{background-color:rgba(32,33,36,.12)}.header-default__link:active{background-color:rgba(32,33,36,.16)}.header-default web-search{flex:1}@media (min-width:865px){.header-default web-search .web-search__input-wrapper{max-width:calc(200% - 16px*2);min-width:calc(200% - 16px*2);transform:translateX(calc(50% - 200px + 16px));transition:var(--web-search-animation-time) transform;width:calc(200% - 16px*2);display:flex}.header-default web-search .web-search__close-btn,.header-default web-search .web-search__open-btn{display:none}.header-default web-search[expanded] .web-search__input-wrapper{transform:translate(calc(-50% + 16px))}}.header-default .web-search-popout{border-top:1px solid #ddd;box-shadow:0 1px 2px 0 rgba(60,64,67,.3),0 2px 6px 2px rgba(60,64,67,.15);left:0;padding:16px 0;position:absolute;top:55px;width:calc(100% - 45px)}@media (min-width:865px){.header-default .web-search-popout{left:calc(16px*2);width:calc(100% - 16px*2)}}web-header.web-header--has-expanded-search .header-default__logo-link,web-header.web-header--has-expanded-search web-profile-switcher-container{display:none}@media (min-width:865px){web-header.web-header--has-expanded-search .header-default__logo-link{display:inline}}web-header.web-header--has-expanded-search .header-default__middle{overflow:visible}@media (min-width:865px){web-header.web-header--has-expanded-search web-profile-switcher-container{display:flex}}.header-default~main{margin-top:64px}.icon{fill:currentColor}.w-hero,web-table-of-contents,web-table-of-contents-button[opened]{display:none}@media (min-width:481px){.w-hero{display:block;margin:0 auto;max-height:480px;width:1600px}}.w-hero--cover{object-fit:cover}.w-screenshot{border:1px solid #dadce0;padding:4px;box-sizing:content-box;margin-left:-5px}.w-screenshot+.w-screenshot{margin-top:32px}.w-figure{margin:32px 0;text-align:center}.w-figure--inline-left,.w-figure--inline-right{display:block;float:none;margin:16px 0;max-width:100%;text-align:center}@media (min-width:865px){.w-figure--inline-left,.w-figure--inline-right{max-width:calc((100% - 40px)/2);text-align:left}.w-figure--inline-right{float:right;margin:0 0 40px 40px}.w-figure--inline-left{float:left;margin:0 40px 40px 0}}.w-figcaption{font-size:.875em;line-height:1.5em;margin:16px 0 0}.w-layout-container--narrow{box-sizing:content-box;margin:0 auto;overflow:visible;padding:24px}@media (min-width:481px){.w-layout-container--narrow{padding:32px}}.w-layout-container--narrow{max-width:800px}:root{--grid-min:150px;--grid-max:.5fr;--grid-gap:24px}web-livestream-container{background-color:#fff;display:flex;margin:auto;max-width:1600px}@media (min-width:865px){web-livestream-container{border-left:1px solid #dadce0;border-right:1px solid #dadce0}}web-subscribe:not(:defined){display:flex;justify-content:center;width:100%}.w-subscribe__error{color:#eb0f00}@media (min-width:865px){main.w-toc-open>*{width:calc(100% - 268px)}main.w-toc-open>* .w-actions{right:calc(24px + 268px)}}web-table-of-contents h2{line-height:32px}web-table-of-contents .w-scroll-spy__active{position:relative;display:inline-block}web-table-of-contents .w-scroll-spy__active::before{content:"";display:inline-block;border-left:3px solid #3740ff;margin-left:-24px;padding-left:21px;height:100%;position:absolute;top:0;left:0}web-table-of-contents[opened]{background-color:#fff;border-bottom:1px solid #dadce0;border-top:1px solid #dadce0;display:block;padding:24px 0;top:63px;width:100%;z-index:100}@media (min-width:481px){web-table-of-contents[opened]{padding-top:32px}}@media (min-width:865px){web-table-of-contents[opened]{border-bottom:0;border-left:1px solid #dadce0;border-top:0;height:calc(100% - 64px);position:fixed;right:0;width:268px}}.w-toc__button--open{background-color:#fff;border:1px solid #dadce0;height:40px;overflow:hidden;padding:8px}web-table-of-contents-button{display:flex;height:0;justify-content:flex-end;margin-bottom:-24px;margin-right:24px;padding-top:24px;top:64px;z-index:1}@media (min-width:481px){web-table-of-contents-button{margin-bottom:-32px;padding-top:32px}}@media (min-width:865px){web-table-of-contents-button{max-height:none;position:sticky}}@media print{web-table-of-contents-button{display:none}}.w-toc__content{height:calc(100% - 24px);overflow-y:auto;padding:0 24px}@media (min-width:481px){.w-toc__content{height:calc(100% - 32px)}}.w-toc__content a{display:inline-block}.w-toc__header{margin-bottom:12px;margin-top:12px}.w-toc__header--link{font-family:"Google Sans",sans-serif;font-size:1.2rem;font-weight:500}@media (min-width:865px){.w-toc__header--link{color:#202124}.w-toc__header--link.w-scroll-spy__active,.w-toc__header--link:hover{color:#3740ff}}.w-toc__label{display:flex;height:40px;justify-content:space-between;padding:0 24px}.w-toc__label>*{font-size:.9rem;height:40px;line-height:40px;vertical-align:middle}.w-toc__list ul{margin:0;padding:0}.w-toc__list ul li::before{content:none}.w-toc__list ul li a{font-size:1rem}@media (min-width:865px){.w-toc__list ul li a{color:#202124}.w-toc__list ul li a.w-scroll-spy__active,.w-toc__list ul li a:hover{color:#3740ff}}.w-headline-link{color:transparent;display:none;font-weight:500;margin-left:4px}@media (min-width:481px){.w-headline-link{display:inline}}.w-headline-link:focus,:hover>.w-headline-link{color:#5f6368;display:inline}.w-tooltip{background:#000;border-radius:3px;color:#fff;font:500 12px/1 Segoe UI,system-ui,-apple-system,sans-serif;left:50%;letter-spacing:.3px;opacity:0;padding:6px 8px;pointer-events:none;position:absolute;text-transform:none;top:calc(100% + 3px);transform:scale(.85) translateX(-50%);transform-origin:top left;transition:opacity 75ms,transform 0s 75ms,visibility 0s 75ms;visibility:hidden;white-space:nowrap;z-index:1}.w-tooltip--left{left:0;transform:scale(.85)}.w-tooltip--right{left:100%;transform:translateX(-100%) scale(.85);transform-origin:top right}@media (hover:hover){:hover>.w-tooltip{opacity:.77;transform:scale(1) translateX(-50%);transition:opacity .15s .3s,transform .15s .3s,visibility 0s;visibility:visible}:hover>.w-tooltip--left{transform:scale(1)}:hover>.w-tooltip--right{transform:translateX(-100%) scale(1)}}:active>.w-tooltip,:focus .w-tooltip{opacity:.77;transform:scale(1) translateX(-50%);transition:opacity .15s .3s,transform .15s .3s,visibility 0s;visibility:visible}:active>.w-tooltip{transition:opacity .15s .5s,transform .15s .5s,visibility 0s}:active>.w-tooltip--left,:focus .w-tooltip--left{transform:scale(1)}:active>.w-tooltip--right,:focus .w-tooltip--right{transform:translateX(-100%) scale(1)}web-audio-fab{border-radius:50%;bottom:12px;box-shadow:0 8px 12px 6px rgba(60,64,67,.15),0 4px 4px rgba(60,64,67,.3);display:block;height:56px;opacity:0;pointer-events:none;position:fixed;right:12px;transition:opacity .2s cubic-bezier(.4,0,.2,1);width:56px;z-index:1}web-audio-fab[showing]{opacity:1;pointer-events:auto}web-copy-code{display:block;position:relative}web-copy-code:active .web-copy-code__button,web-copy-code:focus .web-copy-code__button,web-copy-code:hover .web-copy-code__button{opacity:1}web-copy-code .web-copy-code__button{color:#202124;height:48px;margin:8px;opacity:0;position:absolute;right:0;width:48px}web-copy-code .web-copy-code__button::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:24px/1 "Material Icons";font-feature-settings:"liga";text-rendering:optimizeSpeed;text-transform:none;word-wrap:normal;content:"content_copy"}web-copy-code .web-copy-code__button:focus,web-copy-code .web-copy-code__button:hover{background-color:rgba(63,196,255,.2);opacity:1}web-copy-code .web-copy-code__button:active{background-color:rgba(63,196,255,.4);opacity:1}web-copy-code pre{min-height:64px}web-header{align-items:center;background:#fff;box-shadow:0 1px 2px 0 rgba(60,64,67,.3),0 2px 6px 2px rgba(60,64,67,.15);color:#202124;contain:layout;display:flex;font-size:14px;height:64px;padding:0 24px;width:100%;z-index:200}@media print{web-header{display:none}}web-navigation-drawer{display:block;height:100%;left:0;pointer-events:none;position:fixed;top:0;width:100%;z-index:300}web-navigation-drawer [data-drawer-container]{box-shadow:2px 0 12px rgba(0,0,0,.4);position:relative;transform:translateX(-110%);width:fit-content}@media (min-width:1264px){web-navigation-drawer[type=standard]{align-self:flex-start;position:sticky;pointer-events:auto;top:0;width:auto}web-navigation-drawer[type=standard] [data-drawer-container]{box-shadow:none;transform:none}web-navigation-drawer[type=standard] [data-drawer-close-button]{visibility:hidden}}web-navigation-drawer::before{content:"";display:block;position:absolute;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,.4);opacity:0;transition:opacity .2s cubic-bezier(.4,0,.2,1)}web-navigation-drawer[open]{pointer-events:auto;visibility:visible}web-navigation-drawer[open]::before{opacity:1}web-navigation-drawer[open] [data-drawer-container]{transform:none}web-navigation-drawer[animating] [data-drawer-container],web-navigation-drawer[open][animating] [data-drawer-container]{transition:transform .2s cubic-bezier(.4,0,.2,1)}.youtube{padding-top:56.25%;position:relative;width:100%;border-radius:8px;overflow:hidden}lite-youtube{height:100%;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:100%}web-codelab{display:flex;flex-flow:column;padding:16px}@media (min-width:865px){web-codelab{flex-flow:row}}web-codelab .web-codelab__glitch{min-height:160px}.w-event-carousel__day{color:#3c4043;font-family:"Google Sans",sans-serif;font-size:14px;font-weight:500;margin-right:16px}.w-event-carousel__day:last-child{margin-right:0}.w-event-carousel__day.w-event-carousel__pending{opacity:.6}.w-event-carousel__thumbnail{margin-bottom:8px;background-color:#e8eaed;border-radius:3px;overflow:hidden;width:178px;height:110px}.w-event-carousel__thumbnail>img{height:100%;object-fit:cover}.w-event-schedule__video{align-self:center;font-weight:500;z-index:1}web-progress-bar{background-color:#fff;visibility:hidden;z-index:1}.guide-landing-page{position:relative}.w-post-breadcrumbs{padding:0 0 32px}@media (min-width:865px){.w-post-breadcrumbs{padding:0 0 44px}}.w-post-content{margin-bottom:64px}@media (min-width:481px){.w-post-content{margin-bottom:160px}}.w-post-github-link{color:#5f6368;font-size:.875em}:root{--course-content-margin:24px}.w-text--center{text-align:center!important}.w-clearfix::after,.w-clearfix::before{clear:both;content:"";display:block}.w-display--flex{display:flex}.w-justify-content--center{justify-content:center}.w-mb--non{margin-bottom:0!important}.w-mb--sm{margin-bottom:8px!important}.w-mt--sm{margin-top:8px!important}.w-mr--sm{margin-right:8px!important}.w-pt--sm{padding-top:8px!important}.w-mb--l{margin-bottom:32px!important}.w-mt--l{margin-top:32px!important}.w-mt--xl{margin-top:56px!important}.hidden,[hidden]{display:none!important}:not(body).unresolved,web-tabs.unresolved>:not(.w-tabs-default){display:none}web-tabs.unresolved{padding-top:50px;display:block}web-event-time.unresolved{min-height:120px;display:block}</style><link href=/fonts/material-icons/regular.woff2 rel=preload as=font crossorigin><link href=/fonts/google-sans/regular/latin.woff2 rel=preload as=font crossorigin><link href=/fonts/google-sans/bold/latin.woff2 rel=preload as=font crossorigin><meta content=#fff name=theme-color><title>The File System Access API: simplifying access to local files</title><meta content="The File System Access API enables developers to build powerful web apps that interact with files on the user's local device, like IDEs, photo and video editors, text editors, and more. After a user grants a web app access, this API allows them to read or save changes directly to files and folders on the user's device." name=description><link href=https://web.dev/file-system-access/ rel=canonical><meta content="The File System Access API: simplifying access to local files" itemprop=name><meta content="The File System Access API enables developers to build powerful web apps that interact with files on the user's local device, like IDEs, photo and video editors, text editors, and more. After a user grants a web app access, this API allows them to read or save changes directly to files and folders on the user's device." itemprop=description><meta content="https://web-dev.imgix.net/image/admin/qn7E0q1EWJUqdzsuHwx4.jpg?auto=format&fit=max&w=1200&fm=auto" itemprop=image><meta content=en_US property=og:locale><meta content=article property=og:type><meta content=https://web.dev/file-system-access/ property=og:url><meta content=web.dev property=og:site_name><meta content="The File System Access API: simplifying access to local files" property=og:title><meta content="The File System Access API enables developers to build powerful web apps that interact with files on the user's local device, like IDEs, photo and video editors, text editors, and more. After a user grants a web app access, this API allows them to read or save changes directly to files and folders on the user's device." property=og:description><meta content="https://web-dev.imgix.net/image/admin/qn7E0q1EWJUqdzsuHwx4.jpg?auto=format&fit=max&w=1200&fm=auto" property=og:image><meta content="Image of hard disk platters" property=og:image:alt><meta content=capabilities property=tag><meta content=file property=tag><meta content=file-system property=tag><meta content=summary_large_image name=twitter:card><meta content="The File System Access API: simplifying access to local files" name=twitter:title><meta content="The File System Access API enables developers to build powerful web apps that interact with files on the user's local device, like IDEs, photo and video editors, text editors, and more. After a user grants a web app access, this API allows them to read or save changes directly to files and folders on the user's device." name=twitter:description><meta content="https://web-dev.imgix.net/image/admin/qn7E0q1EWJUqdzsuHwx4.jpg?auto=format&fit=max&w=1200&fm=auto" name=twitter:image><link href=/feed.xml rel=alternate type=application/atom+xml data-title="web.dev feed"><link href=/manifest.webmanifest rel=manifest><link href=/images/favicon.ico rel="shortcut icon"><link href=/images/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=/images/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=/images/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href=/images/safari-pinned-tab.svg rel=mask-icon color=#0054ff><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-126406676-2"),ga("set","transport","beacon"),ga("set","anonymizeIp",!0),ga("set","page",window.location.pathname),ga("set","dimension5","4"),ga("send","pageview");</script><script>function loadScript(e,t){const d=document.createElement("script");if(d.src=e,t&&(d.type=t),"module"===t){d.async=!1;const t=document.createElement("link");t.rel="modulepreload",t.href=e,document.head.append(t),window.addEventListener("DOMContentLoaded",(()=>{document.head.append(d)}))}else document.head.append(d)}loadScript("/js/app.js?v=c4d27698","module"),loadScript("/js/content.js?v=9e7685c5","module"),loadScript("https://www.google-analytics.com/analytics.js",null);</script></head><body class=unresolved><web-snackbar-container></web-snackbar-container><web-header class=header-default role=navigation><button aria-label="Open menu" class="w-button--round w-button--svg" data-open-drawer-button><svg class=icon height=24 viewBox="0 0 24 24" width=24 xmlns=http://www.w3.org/2000/svg aria-label=menu role=img><path d="M0 0h24v24H0z" fill=none /><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg> <span class="w-tooltip w-tooltip--left">Open menu</span></button> <a href=/ class="gc-analytics-event header-default__logo-link" data-category="Site-Wide Custom Events" data-label="Site logo"><img alt=web.dev height=30 src=/images/lockup.svg width=125 class=header-default__logo></a><div class=header-default__middle><div class=header-default__links><a href=/learn/ class="gc-analytics-event header-default__link" data-category="Site-Wide Custom Events" data-label="Tab: Learn">Learn </a><a href=/measure/ class="gc-analytics-event header-default__link" data-category="Site-Wide Custom Events" data-label="Tab: Measure">Measure </a><a href=/blog/ class="gc-analytics-event header-default__link" data-category="Site-Wide Custom Events" data-label="Tab: Blog">Blog </a><a href=/about/ class="gc-analytics-event header-default__link" data-category="Site-Wide Custom Events" data-label="Tab: About">About</a></div><web-search results-id=search-main-results></web-search><web-search-results id=search-main-results></web-search-results></div><web-profile-switcher-container></web-profile-switcher-container></web-header><web-navigation-drawer class=drawer-default type=modal><nav data-drawer-container><div class=drawer-default__contents><div class=drawer-default__header><button aria-label=Close class="w-button--round w-button--svg drawer-default__hide" data-drawer-close-button><svg class=icon height=24 viewBox="0 0 24 24" width=24 xmlns=http://www.w3.org/2000/svg aria-label=close role=img><path d="M0 0h24v24H0z" fill=none /><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> <span class=w-tooltip>Close</span></button> <a href=/ class=gc-analytics-event data-category="Site-Wide Custom Events" data-label="Site logo"><img alt=web.dev height=30 src=/images/lockup.svg width=125 class=drawer-default__logo></a></div><a href=/learn/ class="gc-analytics-event drawer-default__link" data-category="Site-Wide Custom Events" data-label="SideNav: Learn">Learn </a><a href=/measure/ class="gc-analytics-event drawer-default__link" data-category="Site-Wide Custom Events" data-label="SideNav: Measure">Measure </a><a href=/blog/ class="gc-analytics-event drawer-default__link" data-category="Site-Wide Custom Events" data-label="SideNav: Blog">Blog </a><a href=/about/ class="gc-analytics-event drawer-default__link" data-category="Site-Wide Custom Events" data-label="SideNav: About">About</a></div></nav></web-navigation-drawer><main><div id=content><div class=guide-landing-page><img alt="Image of hard disk platters" height=480 src="https://web-dev.imgix.net/image/admin/qn7E0q1EWJUqdzsuHwx4.jpg?auto=format" width=1600 class="w-hero w-hero--cover" decoding=auto sizes=100vw srcset="https://web-dev.imgix.net/image/admin/qn7E0q1EWJUqdzsuHwx4.jpg?auto=format&w=200 200w, https://web-dev.imgix.net/image/admin/qn7E0q1EWJUqdzsuHwx4.jpg?auto=format&w=228 228w, https://web-dev.imgix.net/image/admin/qn7E0q1EWJUqdzsuHwx4.jpg?auto=format&w=260 260w, https://web-dev.imgix.net/image/admin/qn7E0q1EWJUqdzsuHwx4.jpg?auto=format&w=296 296w, https://web-dev.imgix.net/image/admin/qn7E0q1EWJUqdzsuHwx4.jpg?auto=format&w=338 338w, https://web-dev.imgix.net/image/admin/qn7E0q1EWJUqdzsuHwx4.jpg?auto=format&w=385 385w, https://web-dev.imgix.net/image/admin/qn7E0q1EWJUqdzsuHwx4.jpg?auto=format&w=439 439w, https://web-dev.imgix.net/image/admin/qn7E0q1EWJUqdzsuHwx4.jpg?auto=format&w=500 500w, https://web-dev.imgix.net/image/admin/qn7E0q1EWJUqdzsuHwx4.jpg?auto=format&w=571 571w, https://web-dev.imgix.net/image/admin/qn7E0q1EWJUqdzsuHwx4.jpg?auto=format&w=650 650w, https://web-dev.imgix.net/image/admin/qn7E0q1EWJUqdzsuHwx4.jpg?auto=format&w=741 741w, https://web-dev.imgix.net/image/admin/qn7E0q1EWJUqdzsuHwx4.jpg?auto=format&w=845 845w, https://web-dev.imgix.net/image/admin/qn7E0q1EWJUqdzsuHwx4.jpg?auto=format&w=964 964w, https://web-dev.imgix.net/image/admin/qn7E0q1EWJUqdzsuHwx4.jpg?auto=format&w=1098 1098w, https://web-dev.imgix.net/image/admin/qn7E0q1EWJUqdzsuHwx4.jpg?auto=format&w=1252 1252w, https://web-dev.imgix.net/image/admin/qn7E0q1EWJUqdzsuHwx4.jpg?auto=format&w=1428 1428w, https://web-dev.imgix.net/image/admin/qn7E0q1EWJUqdzsuHwx4.jpg?auto=format&w=1600 1600w"><web-table-of-contents><h2 class=w-toc__header><a href=#the-file-system-access-api:-simplifying-access-to-local-files class=w-toc__header--link>The File System Access API: simplifying access to local files</a></h2><div class=w-toc__list><ul><li><a href=#what-is-it>What is the File System Access API?</a></li><li><a href=#status>Current status</a></li><li><a href=#browser-support>Browser support</a></li><li><a href=#how-to-use>Using the File System Access API</a></li><li><a href=#try-it>Try it</a></li><li><a href=#read-file>Read a file from the local file system</a></li><li><a href=#write-file>Write the file to the local file system</a></li><li><a href=#specifying-a-suggested-file-name-and-start-directory>Specifying a suggested file name and start directory</a></li><li><a href=#specifying-the-purpose-of-different-file-pickers>Specifying the purpose of different file pickers</a></li><li><a href=#storing-file-handles-or-directory-handles-in-indexeddb>Storing file handles or directory handles in IndexedDB</a></li><li><a href=#stored-file-or-directory-handles-and-permissions>Stored file or directory handles and permissions</a></li><li><a href=#opening-a-directory-and-enumerating-its-contents>Opening a directory and enumerating its contents</a></li><li><a href=#creating-or-accessing-files-and-folders-in-a-directory>Creating or accessing files and folders in a directory</a></li><li><a href=#resolving-the-path-of-an-item-in-a-directory>Resolving the path of an item in a directory</a></li><li><a href=#deleting-files-and-folders-in-a-directory>Deleting files and folders in a directory</a></li><li><a href=#drag-and-drop-integration>Drag and drop integration</a></li><li><a href=#accessing-the-origin-private-file-system>Accessing the origin private file system</a></li><li><a href=#polyfilling>Polyfilling</a></li><li><a href=#security-considerations>Security and permissions</a></li><li><a href=#opening-a-file-or-saving-a-new-file>Opening a file or saving a new file</a></li><li><a href=#modifying-an-existing-file-or-directory>Modifying an existing file or directory</a></li><li><a href=#transparency>Transparency</a></li><li><a href=#permission-persistence>Permission persistence</a></li><li><a href=#feedback>Feedback</a></li><li><a href=#tell-us-about-the-api-design>Tell us about the API design</a></li><li><a href=#problem-with-the-implementation>Problem with the implementation?</a></li><li><a href=#planning-to-use-the-api>Planning to use the API?</a></li><li><a href=#helpful>Helpful links</a></li><li><a href=#acknowledgements>Acknowledgements</a></li></ul></div></web-table-of-contents><web-table-of-contents-button></web-table-of-contents-button><div class=w-actions><share-action authors="@petele | @tomayac" class="gc-analytics-event w-actions__fab w-actions__fab--share" data-action=click data-category=web.dev data-icon=share data-label=share role=button tabindex=0><span>Share</span></share-action><a href=/newsletter/ class="gc-analytics-event w-actions__fab w-actions__fab--subscribe" data-category=web.dev data-label=view-subscribe data-action=click><span>subscribe</span></a></div><div class="w-layout-container--narrow w-post-content"><header class=w-article-header><div class=w-post-breadcrumbs><ul class=w-breadcrumbs><li class=w-breadcrumbs__crumb><a href=/ class="gc-analytics-event w-breadcrumbs__link w-breadcrumbs__link--left-justify" data-category=web.dev data-label="post, home breadcrumb" data-action=click>Home</a></li><svg class=w-breadcrumbs__icon height=24 viewBox="0 0 24 24" width=24 xmlns=http://www.w3.org/2000/svg aria-hidden=true><path d="M0 0h24v24H0V0z" fill=none /><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/></svg><li class=w-breadcrumbs__crumb><a href=/blog class="gc-analytics-event w-breadcrumbs__link" data-category=web.dev data-label="post, path breadcrumb" data-action=click>All articles</a></li></ul></div><h1 class=w-article-header__headline id=the-file-system-access-api:-simplifying-access-to-local-files>The File System Access API: simplifying access to local files</h1><p class="w-article-header__subhead w-mb--non">The File System Access API allows web apps to read or save changes directly to files and folders on the user's device.</p><div class=w-author__published><time>Aug 20, 2019</time> <span class=w-author__separator>•</span> Updated <time>Aug 6, 2021</time></div><div class="w-authors w-mt--xl w-pt--sm"><div class=w-author><a href=/authors/petelepage/ ><img alt="Pete LePage" height=64 src="https://web-dev.imgix.net/image/0g2WvpbGRGdVs0aAPc6ObG7gkud2/3rFbsLsMMk1VveHfBRSu.jpg?auto=format&fit=crop&h=64&w=64" width=64 class=w-author__image decoding=async sizes="(min-width: 64px) 64px, calc(100vw - 48px)" srcset="https://web-dev.imgix.net/image/0g2WvpbGRGdVs0aAPc6ObG7gkud2/3rFbsLsMMk1VveHfBRSu.jpg?fit=crop&h=64&w=64&auto=format&dpr=1&q=75, https://web-dev.imgix.net/image/0g2WvpbGRGdVs0aAPc6ObG7gkud2/3rFbsLsMMk1VveHfBRSu.jpg?fit=crop&h=64&w=64&auto=format&dpr=2&q=50 2x, https://web-dev.imgix.net/image/0g2WvpbGRGdVs0aAPc6ObG7gkud2/3rFbsLsMMk1VveHfBRSu.jpg?fit=crop&h=64&w=64&auto=format&dpr=3&q=35 3x, https://web-dev.imgix.net/image/0g2WvpbGRGdVs0aAPc6ObG7gkud2/3rFbsLsMMk1VveHfBRSu.jpg?fit=crop&h=64&w=64&auto=format&dpr=4&q=23 4x, https://web-dev.imgix.net/image/0g2WvpbGRGdVs0aAPc6ObG7gkud2/3rFbsLsMMk1VveHfBRSu.jpg?fit=crop&h=64&w=64&auto=format&dpr=5&q=20 5x" loading=lazy></a><div class=w-author__info style="display: flex; flex-direction: column; justify-content: center;"><cite class=w-author__name><a href=/authors/petelepage/ class=w-author__name-link>Pete LePage</a></cite><ul class=w-author__link-list><li class=w-author__link-listitem><a href=https://twitter.com/petele class=w-author__link>Twitter</a></li><li class=w-author__link-listitem><a href=https://github.com/petele class=w-author__link>GitHub</a></li><li class=w-author__link-listitem><a href=https://glitch.com/@petele class=w-author__link>Glitch</a></li><li class=w-author__link-listitem><a href=https://petelepage.com class=w-author__link>Blog</a></li></ul></div></div><div class=w-author><a href=/authors/thomassteiner/ ><img alt="Thomas Steiner" height=64 src="https://web-dev.imgix.net/image/admin/8PLpVmFef6mj72MVWeiN.jpg?auto=format&fit=crop&h=64&w=64" width=64 class=w-author__image decoding=async sizes="(min-width: 64px) 64px, calc(100vw - 48px)" srcset="https://web-dev.imgix.net/image/admin/8PLpVmFef6mj72MVWeiN.jpg?fit=crop&h=64&w=64&auto=format&dpr=1&q=75, https://web-dev.imgix.net/image/admin/8PLpVmFef6mj72MVWeiN.jpg?fit=crop&h=64&w=64&auto=format&dpr=2&q=50 2x, https://web-dev.imgix.net/image/admin/8PLpVmFef6mj72MVWeiN.jpg?fit=crop&h=64&w=64&auto=format&dpr=3&q=35 3x, https://web-dev.imgix.net/image/admin/8PLpVmFef6mj72MVWeiN.jpg?fit=crop&h=64&w=64&auto=format&dpr=4&q=23 4x, https://web-dev.imgix.net/image/admin/8PLpVmFef6mj72MVWeiN.jpg?fit=crop&h=64&w=64&auto=format&dpr=5&q=20 5x" loading=lazy></a><div class=w-author__info style="display: flex; flex-direction: column; justify-content: center;"><cite class=w-author__name><a href=/authors/thomassteiner/ class=w-author__name-link>Thomas Steiner</a></cite><ul class=w-author__link-list><li class=w-author__link-listitem><a href=https://twitter.com/tomayac class=w-author__link>Twitter</a></li><li class=w-author__link-listitem><a href=https://github.com/tomayac class=w-author__link>GitHub</a></li><li class=w-author__link-listitem><a href=https://glitch.com/@tomayac class=w-author__link>Glitch</a></li><li class=w-author__link-listitem><a href=https://blog.tomayac.com/ class=w-author__link>Blog</a></li></ul></div></div></div></header><h2 id=what-is-it>What is the File System Access API? <a href=#what-is-it class=w-headline-link>#</a></h2><p>The <a href=https://wicg.github.io/file-system-access/ rel=noopener>File System Access API</a> (formerly known as Native File System API and prior to that it was called Writeable Files API) enables developers to build powerful web apps that interact with files on the user's local device, like IDEs, photo and video editors, text editors, and more. After a user grants a web app access, this API allows them to read or save changes directly to files and folders on the user's device. Beyond reading and writing files, the File System Access API provides the ability to open a directory and enumerate its contents.</p><div class="w-aside w-aside--note"><p>The File System Access API—despite the similar name—is distinct from the <a href=https://developer.mozilla.org/en-US/docs/Web/API/FileSystem rel=noopener><code>FileSystem</code></a> interface exposed by the <a href=https://wicg.github.io/entries-api/#api-domfilesystem rel=noopener>File and Directory Entries API</a>, which documents the types and operations made available by browsers to script when a hierarchy of files and directories are dragged and dropped onto a page or selected using form elements or equivalent user actions.</p><p>It is likewise distinct from the deprecated <a href=https://www.w3.org/TR/file-system-api/ rel=noopener>File API: Directories and System</a> specification, which defines an API to navigate file system hierarchies and a means by which browsers may expose sandboxed sections of a user's local filesystem to web applications.</p></div><p></p><p>If you've worked with reading and writing files before, much of what I'm about to share will be familiar to you. I encourage you to read it anyway, because not all systems are alike.</p><div class="w-aside w-aside--note"><p>We've put a lot of thought into the design and implementation of the File System Access API to ensure that people can easily manage their files. See the <a href=#security-considerations>security and permissions</a> section for more information.</p></div><p></p><h2 id=status>Current status <a href=#status class=w-headline-link>#</a></h2><div class=w-table-wrapper><div class=w-table-wrapper><table><thead><tr><th>Step</th><th>Status</th></tr></thead><tbody><tr><td>1. Create explainer</td><td><a href=https://github.com/WICG/file-system-access/blob/main/EXPLAINER.md rel=noopener>Complete</a></td></tr><tr><td>2. Create initial draft of specification</td><td><a href=https://wicg.github.io/file-system-access/ rel=noopener>Complete</a></td></tr><tr><td>3. Gather feedback & iterate on design</td><td><a href=https://wicg.github.io/file-system-access/ rel=noopener>Complete</a></td></tr><tr><td>4. Origin trial</td><td>Complete</td></tr><tr><td><strong>5. Launch</strong></td><td><strong>Complete</strong></td></tr></tbody></table></div></div><div class="w-aside w-aside--note"><p>During the origin trial phase, there was a universal method named <code>Window.chooseFileSystemEntries()</code> that has been replaced with the three specialized methods <code>Window.showOpenFilePicker()</code>, <code>Window.showSaveFilePicker()</code>, and <code>Window.showDirectoryPicker()</code>. There were a number of other <a href=https://github.com/WICG/file-system-access/blob/main/changes.md rel=noopener>changes</a> that you can read up on.</p></div><p></p><h2 id=browser-support>Browser support <a href=#browser-support class=w-headline-link>#</a></h2><p>The File System Access API is currently supported on most Chromium browsers on Windows, macOS, Chrome OS, and Linux. A notable exception is Brave (<a href=https://github.com/brave/brave-browser/issues/11407 rel=noopener>brave/brave-browser#11407</a>). Android support is planned; you can track progress by starring <a href=https://crbug.com/1011535 rel=noopener>crbug.com/1011535</a>.</p><h2 id=how-to-use>Using the File System Access API <a href=#how-to-use class=w-headline-link>#</a></h2><p>To show off the power and usefulness of the File System Access API, I wrote a single file <a href=https://googlechromelabs.github.io/text-editor/ rel=noopener>text editor</a>. It lets you open a text file, edit it, save the changes back to disk, or start a new file and save the changes to disk. It's nothing fancy, but provides enough to help you understand the concepts.</p><h3 id=try-it>Try it <a href=#try-it class=w-headline-link>#</a></h3><p>See the File System Access API in action in the <a href=https://googlechromelabs.github.io/text-editor/ rel=noopener>text editor</a> demo.</p><h3 id=read-file>Read a file from the local file system <a href=#read-file class=w-headline-link>#</a></h3><p>The first use case I wanted to tackle was to ask the user to choose a file, then open and read that file from disk.</p><h4 id=ask-the-user-to-pick-a-file-to-read>Ask the user to pick a file to read <a href=#ask-the-user-to-pick-a-file-to-read class=w-headline-link>#</a></h4><p>The entry point to the File System Access API is <a href=https://wicg.github.io/file-system-access/#api-showopenfilepicker rel=noopener><code>window.showOpenFilePicker()</code></a>. When called, it shows a file picker dialog box, and prompts the user to select a file. After they select a file, the API returns an array of file handles. An optional <code>options</code> parameter lets you influence the behavior of the file picker, for example, by allowing the user to select multiple files, or directories, or different file types. Without any options specified, the file picker allows the user to select a single file. This is perfect for a text editor.</p><p>Like many other powerful APIs, calling <code>showOpenFilePicker()</code> must be done in a <a href=https://w3c.github.io/webappsec-secure-contexts/ rel=noopener>secure context</a>, and must be called from within a user gesture.</p><web-copy-code><pre class=language-js><code class=language-js><span class=highlight-line><span class="token keyword">let</span> fileHandle<span class="token punctuation">;</span></span><br><span class=highlight-line>butOpenFile<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><br><span class=highlight-line>  <span class="token comment">// Destructure the one-element array.</span></span><br><mark class="highlight-line highlight-line-active">  <span class="token punctuation">[</span>fileHandle<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">await</span> window<span class="token punctuation">.</span><span class="token function">showOpenFilePicker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></mark><br><span class=highlight-line>  <span class="token comment">// Do something with the file handle.</span></span><br><span class=highlight-line><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre></web-copy-code><p>Once the user selects a file, <code>showOpenFilePicker()</code> returns an array of handles, in this case a one-element array with one <a href=https://wicg.github.io/file-system-access/#api-filesystemfilehandle rel=noopener><code>FileSystemFileHandle</code></a> that contains the properties and methods needed to interact with the file.</p><p>It's helpful to keep a reference to the file handle around so that it can be used later. It'll be needed to save changes back to the file, or to perform any other file operations.</p><h4 id=read-a-file-from-the-file-system>Read a file from the file system <a href=#read-a-file-from-the-file-system class=w-headline-link>#</a></h4><p>Now that you have a handle to a file, you can get the file's properties, or access the file itself. For now, I'll simply read its contents. Calling <code>handle.getFile()</code> returns a <a href=https://w3c.github.io/FileAPI/ rel=noopener><code>File</code></a> object, which contains a blob. To get the data from the blob, call one of <a href=https://developer.mozilla.org/en-US/docs/Web/API/Blob rel=noopener>its methods</a>, (<a href=https://developer.mozilla.org/en-US/docs/Web/API/Blob/slice rel=noopener><code>slice()</code></a>, <a href=https://developer.mozilla.org/en-US/docs/Web/API/Blob/stream rel=noopener><code>stream()</code></a>, <a href=https://developer.mozilla.org/en-US/docs/Web/API/Blob/text rel=noopener><code>text()</code></a>, or <a href=https://developer.mozilla.org/en-US/docs/Web/API/Blob/arrayBuffer rel=noopener><code>arrayBuffer()</code></a>).</p><web-copy-code><pre class=language-js><code class=language-js><span class="token keyword">const</span> file <span class="token operator">=</span> <span class="token keyword">await</span> fileHandle<span class="token punctuation">.</span><span class="token function">getFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> contents <span class="token operator">=</span> <span class="token keyword">await</span> file<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></web-copy-code><div class="w-aside w-aside--note"><p>For the majority of use cases, you can read files in <em>sequential</em> order with the <code>stream()</code>, <code>text()</code>, or <code>arrayBuffer()</code> methods. For getting <em>random access</em> to a file's contents, use the <code>slice()</code> method.</p></div><p></p><p>The <code>File</code> object returned by <code>FileSystemFileHandle.getFile()</code> is only readable as long as the underlying file on disk hasn't changed. If the file on disk is modified, the <code>File</code> object becomes unreadable and you'll need to call <code>getFile()</code> again to get a new <code>File</code> object to read the changed data.</p><h4 id=putting-it-all-together>Putting it all together <a href=#putting-it-all-together class=w-headline-link>#</a></h4><p>When users click the Open button, the browser shows a file picker. Once they've selected a file, the app reads the contents and puts them into a <code>&lt;textarea></code>.</p><web-copy-code><pre class=language-js><code class=language-js><span class=highlight-line><span class="token keyword">let</span> fileHandle<span class="token punctuation">;</span></span><br><span class=highlight-line>butOpenFile<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><br><span class=highlight-line>  <span class="token punctuation">[</span>fileHandle<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">await</span> window<span class="token punctuation">.</span><span class="token function">showOpenFilePicker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><mark class="highlight-line highlight-line-active">  <span class="token keyword">const</span> file <span class="token operator">=</span> <span class="token keyword">await</span> fileHandle<span class="token punctuation">.</span><span class="token function">getFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></mark><br><mark class="highlight-line highlight-line-active">  <span class="token keyword">const</span> contents <span class="token operator">=</span> <span class="token keyword">await</span> file<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></mark><br><span class=highlight-line>  textArea<span class="token punctuation">.</span>value <span class="token operator">=</span> contents<span class="token punctuation">;</span></span><br><span class=highlight-line><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre></web-copy-code><h3 id=write-file>Write the file to the local file system <a href=#write-file class=w-headline-link>#</a></h3><p>In the text editor, there are two ways to save a file: <strong>Save</strong>, and <strong>Save As</strong>. <strong>Save</strong> simply writes the changes back to the original file using the file handle retrieved earlier. But <strong>Save As</strong> creates a new file, and thus requires a new file handle.</p><h4 id=create-a-new-file>Create a new file <a href=#create-a-new-file class=w-headline-link>#</a></h4><p>To save a file, call <a href=https://wicg.github.io/file-system-access/#api-showsavefilepicker rel=noopener><code>showSaveFilePicker()</code></a>, which will show the file picker in "save" mode, allowing the user to pick a new file they want to use for saving. For the text editor, I also wanted it to automatically add a <code>.txt</code> extension, so I provided some additional parameters.</p><web-copy-code><pre class=language-js><code class=language-js><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getNewFileHandle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span><br>    types<span class="token operator">:</span> <span class="token punctuation">[</span><br>      <span class="token punctuation">{</span><br>        description<span class="token operator">:</span> <span class="token string">'Text Files'</span><span class="token punctuation">,</span><br>        accept<span class="token operator">:</span> <span class="token punctuation">{</span><br>          <span class="token string">'text/plain'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.txt'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>        <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    <span class="token punctuation">]</span><span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><span class="token punctuation">;</span><br>  <span class="token keyword">const</span> handle <span class="token operator">=</span> <span class="token keyword">await</span> window<span class="token punctuation">.</span><span class="token function">showSaveFilePicker</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">return</span> handle<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre></web-copy-code><div class="w-aside w-aside--gotcha"><p>undefined Sometimes processing the to-be-saved data takes some time after the user clicks the <strong>Save</strong> button in your app. A common gotcha is to do this work <em>before</em> the <code>showSaveFilePicker()</code> code has run, resulting in a <code>SecurityError Failed to execute 'showSaveFilePicker' on 'Window': Must be handling a user gesture to show a file picker.</code>. Instead, get the file handle first, and only <em>after</em> obtaining the file handle start processing the data.</p></div><p></p><h4 id=save-to-disk>Save changes to disk <a href=#save-to-disk class=w-headline-link>#</a></h4><p>You can find all the code for saving changes to a file in my <a href=https://googlechromelabs.github.io/text-editor/ rel=noopener>text editor</a> demo on <a href=https://github.com/GoogleChromeLabs/text-editor/ rel=noopener>GitHub</a>. The core file system interactions are in <a href=https://github.com/GoogleChromeLabs/text-editor/blob/main/src/inline-scripts/fs-helpers.js rel=noopener><code>fs-helpers.js</code></a>. At its simplest, the process looks like the code below. I'll walk through each step and explain it.</p><web-copy-code><pre class=language-js><code class=language-js><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">writeFile</span><span class="token punctuation">(</span><span class="token parameter">fileHandle<span class="token punctuation">,</span> contents</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token comment">// Create a FileSystemWritableFileStream to write to.</span><br>  <span class="token keyword">const</span> writable <span class="token operator">=</span> <span class="token keyword">await</span> fileHandle<span class="token punctuation">.</span><span class="token function">createWritable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token comment">// Write the contents of the file to the stream.</span><br>  <span class="token keyword">await</span> writable<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>contents<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token comment">// Close the file and write the contents to disk.</span><br>  <span class="token keyword">await</span> writable<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre></web-copy-code><p>Writing data to disk uses a <a href=https://wicg.github.io/file-system-access/#api-filesystemwritablefilestream rel=noopener><code>FileSystemWritableFileStream</code></a> object, essentially a <a href=https://developer.mozilla.org/en-US/docs/Web/API/WritableStream rel=noopener><code>WritableStream</code></a>. Create the stream by calling <code>createWritable()</code> on the file handle object. When <code>createWritable()</code> is called, the browser first checks if the user has granted write permission to the file. If permission to write hasn't been granted, the browser will prompt the user for permission. If permission isn't granted, <code>createWritable()</code> will throw a <code>DOMException</code>, and the app will not be able to write to the file. In the text editor, these <code>DOMException</code>s are handled in the <a href=https://github.com/GoogleChromeLabs/text-editor/blob/main/src/inline-scripts/app.js rel=noopener><code>saveFile()</code></a> method.</p><p>The <code>write()</code> method takes a string, which is what's needed for a text editor. But it can also take a <a href=https://developer.mozilla.org/en-US/docs/Web/API/BufferSource rel=noopener>BufferSource</a>, or a <a href=https://developer.mozilla.org/en-US/docs/Web/API/Blob rel=noopener>Blob</a>. For example, you can pipe a stream directly to it:</p><web-copy-code><pre class=language-js><code class=language-js><span class=highlight-line><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">writeURLToFile</span><span class="token punctuation">(</span><span class="token parameter">fileHandle<span class="token punctuation">,</span> url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class=highlight-line>  <span class="token comment">// Create a FileSystemWritableFileStream to write to.</span></span><br><span class=highlight-line>  <span class="token keyword">const</span> writable <span class="token operator">=</span> <span class="token keyword">await</span> fileHandle<span class="token punctuation">.</span><span class="token function">createWritable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class=highlight-line>  <span class="token comment">// Make an HTTP request for the contents.</span></span><br><mark class="highlight-line highlight-line-active">  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span></mark><br><span class=highlight-line>  <span class="token comment">// Stream the response into the file.</span></span><br><mark class="highlight-line highlight-line-active">  <span class="token keyword">await</span> response<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">pipeTo</span><span class="token punctuation">(</span>writable<span class="token punctuation">)</span><span class="token punctuation">;</span></mark><br><span class=highlight-line>  <span class="token comment">// pipeTo() closes the destination pipe by default, no need to close it.</span></span><br><span class=highlight-line><span class="token punctuation">}</span></span></code></pre></web-copy-code><p>You can also <a href=https://wicg.github.io/file-system-access/#api-filesystemwritablefilestream-seek rel=noopener><code>seek()</code></a>, or <a href=https://wicg.github.io/file-system-access/#api-filesystemwritablefilestream-truncate rel=noopener><code>truncate()</code></a> within the stream to update the file at a specific position, or resize the file.</p><div class="w-aside w-aside--caution"><p><strong>Caution</strong>: Changes are <strong>not</strong> written to disk until the stream is closed, either by calling <code>close()</code> or when the stream is automatically closed by the pipe.</p></div><p></p><h3 id=specifying-a-suggested-file-name-and-start-directory>Specifying a suggested file name and start directory <a href=#specifying-a-suggested-file-name-and-start-directory class=w-headline-link>#</a></h3><p>In many cases you may want your app to suggest a default file name or location. For example, a text editor might want to suggest a default file name of <code>Untitled Text.txt</code> rather than <code>Untitled</code>. You can achieve this by passing a <code>suggestedName</code> property as part of the <code>showSaveFilePicker</code> options.</p><web-copy-code><pre class=language-js><code class=language-js><span class=highlight-line><span class="token keyword">const</span> fileHandle <span class="token operator">=</span> <span class="token keyword">await</span> self<span class="token punctuation">.</span><span class="token function">showSaveFilePicker</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span><br><mark class="highlight-line highlight-line-active">  suggestedName<span class="token operator">:</span> <span class="token string">'Untitled Text.txt'</span><span class="token punctuation">,</span></mark><br><span class=highlight-line>  types<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span></span><br><span class=highlight-line>    description<span class="token operator">:</span> <span class="token string">'Text documents'</span><span class="token punctuation">,</span></span><br><span class=highlight-line>    accept<span class="token operator">:</span> <span class="token punctuation">{</span></span><br><span class=highlight-line>      <span class="token string">'text/plain'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.txt'</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span><br><span class=highlight-line>    <span class="token punctuation">}</span><span class="token punctuation">,</span></span><br><span class=highlight-line>  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span><br><span class=highlight-line><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre></web-copy-code><p>The same goes for the default start directory. If you're building a text editor, you may want to start the file save or file open dialog in the default <code>documents</code> folder, whereas for an image editor, may want to start in the default <code>pictures</code> folder. You can suggest a default start directory by passing a <code>startIn</code> property to the <code>showSaveFilePicker</code>, <code>showDirectoryPicker()</code>, or <code>showOpenFilePicker</code> methods like so.</p><web-copy-code><pre class=language-js><code class=language-js><span class=highlight-line><span class="token keyword">const</span> fileHandle <span class="token operator">=</span> <span class="token keyword">await</span> self<span class="token punctuation">.</span><span class="token function">showOpenFilePicker</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span><br><mark class="highlight-line highlight-line-active">  startIn<span class="token operator">:</span> <span class="token string">'pictures'</span></mark><br><span class=highlight-line><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre></web-copy-code><p>The list of the well-known system directories is:</p><ul><li><code>desktop</code>: The user's desktop directory, if such a thing exists.</li><li><code>documents</code>: Directory in which documents created by the user would typically be stored.</li><li><code>downloads</code>: Directory where downloaded files would typically be stored.</li><li><code>music</code>: Directory where audio files would typically be stored.</li><li><code>pictures</code>: Directory where photos and other still images would typically be stored.</li><li><code>videos</code>: Directory where videos/movies would typically be stored.</li></ul><p>Apart from well-known system directories, you can also pass an existing file or directory handle as a value for <code>startIn</code>. The dialog would then open in the same directory.</p><web-copy-code><pre class=language-js><code class=language-js><span class=highlight-line><span class="token comment">// Assume `directoryHandle` were a handle to a previously opened directory.</span></span><br><span class=highlight-line><span class="token keyword">const</span> fileHandle <span class="token operator">=</span> <span class="token keyword">await</span> self<span class="token punctuation">.</span><span class="token function">showOpenFilePicker</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span><br><mark class="highlight-line highlight-line-active">  startIn<span class="token operator">:</span> directoryHandle</mark><br><span class=highlight-line><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre></web-copy-code><h3 id=specifying-the-purpose-of-different-file-pickers>Specifying the purpose of different file pickers <a href=#specifying-the-purpose-of-different-file-pickers class=w-headline-link>#</a></h3><p>Sometimes applications have different pickers for different purposes. For example, a rich text editor may allow the user to open text files, but also to import images. By default, each file picker would open at the last-remembered location. You can circumvent this by storing <code>id</code> values for each type of picker. If an <code>id</code> is specified, the file picker implementation will remember a separate last-used directory for pickers with that same <code>id</code>.</p><web-copy-code><pre class=language-js><code class=language-js><span class="token keyword">const</span> fileHandle1 <span class="token operator">=</span> <span class="token keyword">await</span> self<span class="token punctuation">.</span><span class="token function">showSaveFilePicker</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>  id<span class="token operator">:</span> <span class="token string">'openText'</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> fileHandle2 <span class="token operator">=</span> <span class="token keyword">await</span> self<span class="token punctuation">.</span><span class="token function">showSaveFilePicker</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>  id<span class="token operator">:</span> <span class="token string">'importImage'</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></web-copy-code><h3 id=storing-file-handles-or-directory-handles-in-indexeddb>Storing file handles or directory handles in IndexedDB <a href=#storing-file-handles-or-directory-handles-in-indexeddb class=w-headline-link>#</a></h3><p>File handles and directory handles are serializable, which means that you can save a file or directory handle to IndexedDB, or call <code>postMessage()</code> to send them between the same top-level origin.</p><p>Saving file or directory handles to IndexedDB means that you can store state, or remember which files or directories a user was working on. This makes it possible to keep a list of recently opened or edited files, offer to re-open the last file when the app is opened, restore the previous working directory, and more. In the text editor, I store a list of the five most recent files the user has opened, making it easy to access those files again.</p><p>The code example below shows storing and retrieving a file handle and a directory handle. You can <a href=https://filehandle-directoryhandle-indexeddb.glitch.me/ rel=noopener>see this in action</a> over on Glitch (I use the <a href=https://www.npmjs.com/package/idb-keyval rel=noopener>idb-keyval</a> library for brevity).</p><web-copy-code><pre class=language-js><code class=language-js><span class="token keyword">import</span> <span class="token punctuation">{</span> get<span class="token punctuation">,</span> set <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'https://unpkg.com/idb-keyval@5.0.2/dist/esm/index.js'</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> pre1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'pre.file'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> pre2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'pre.directory'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> button1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button.file'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> button2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button.directory'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// File handle</span><br>button1<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token keyword">try</span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> fileHandleOrUndefined <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'file'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>fileHandleOrUndefined<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      pre1<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token template-string"><span class="token string template-punctuation">`</span><span class="token string">Retrieved file handle "</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>fileHandleOrUndefined<span class="token punctuation">.</span>name<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">" from IndexedDB.</span><span class="token string template-punctuation">`</span></span><span class="token punctuation">;</span><br>      <span class="token keyword">return</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">const</span> <span class="token punctuation">[</span>fileHandle<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">await</span> window<span class="token punctuation">.</span><span class="token function">showOpenFilePicker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">await</span> <span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'file'</span><span class="token punctuation">,</span> fileHandle<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    pre1<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token template-string"><span class="token string template-punctuation">`</span><span class="token string">Stored file handle for "</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>fileHandle<span class="token punctuation">.</span>name<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">" in IndexedDB.</span><span class="token string template-punctuation">`</span></span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">alert</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>name<span class="token punctuation">,</span> error<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// Directory handle</span><br>button2<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token keyword">try</span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> directoryHandleOrUndefined <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'directory'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>directoryHandleOrUndefined<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      pre2<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token template-string"><span class="token string template-punctuation">`</span><span class="token string">Retrieved directroy handle "</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>directoryHandleOrUndefined<span class="token punctuation">.</span>name<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">" from IndexedDB.</span><span class="token string template-punctuation">`</span></span><span class="token punctuation">;</span><br>      <span class="token keyword">return</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">const</span> directoryHandle <span class="token operator">=</span> <span class="token keyword">await</span> window<span class="token punctuation">.</span><span class="token function">showDirectoryPicker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">await</span> <span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'directory'</span><span class="token punctuation">,</span> directoryHandle<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    pre2<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token template-string"><span class="token string template-punctuation">`</span><span class="token string">Stored directory handle for "</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>directoryHandle<span class="token punctuation">.</span>name<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">" in IndexedDB.</span><span class="token string template-punctuation">`</span></span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">alert</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>name<span class="token punctuation">,</span> error<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></web-copy-code><h3 id=stored-file-or-directory-handles-and-permissions>Stored file or directory handles and permissions <a href=#stored-file-or-directory-handles-and-permissions class=w-headline-link>#</a></h3><p>Since permissions currently are not persisted between sessions, you should verify whether the user has granted permission to the file or directory using <code>queryPermission()</code>. If they haven't, use <code>requestPermission()</code> to (re-)request it. This works the same for file and directory handles. You need to run <code>fileOrDirectoryHandle.requestPermission(descriptor)</code> or <code>fileOrDirectoryHandle.queryPermission(descriptor)</code> respectively.</p><p>In the text editor, I created a <code>verifyPermission()</code> method that checks if the user has already granted permission, and if required, makes the request.</p><web-copy-code><pre class=language-js><code class=language-js><span class=highlight-line><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">verifyPermission</span><span class="token punctuation">(</span><span class="token parameter">fileHandle<span class="token punctuation">,</span> readWrite</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class=highlight-line>  <span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span></span><br><span class=highlight-line>  <span class="token keyword">if</span> <span class="token punctuation">(</span>readWrite<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class=highlight-line>    options<span class="token punctuation">.</span>mode <span class="token operator">=</span> <span class="token string">'readwrite'</span><span class="token punctuation">;</span></span><br><span class=highlight-line>  <span class="token punctuation">}</span></span><br><span class=highlight-line>  <span class="token comment">// Check if permission was already granted. If so, return true.</span></span><br><mark class="highlight-line highlight-line-active">  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">await</span> fileHandle<span class="token punctuation">.</span><span class="token function">queryPermission</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'granted'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></mark><br><span class=highlight-line>    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span></span><br><span class=highlight-line>  <span class="token punctuation">}</span></span><br><span class=highlight-line>  <span class="token comment">// Request permission. If the user grants permission, return true.</span></span><br><mark class="highlight-line highlight-line-active">  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">await</span> fileHandle<span class="token punctuation">.</span><span class="token function">requestPermission</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'granted'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></mark><br><span class=highlight-line>    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span></span><br><span class=highlight-line>  <span class="token punctuation">}</span></span><br><span class=highlight-line>  <span class="token comment">// The user didn't grant permission, so return false.</span></span><br><span class=highlight-line>  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span><br><span class=highlight-line><span class="token punctuation">}</span></span></code></pre></web-copy-code><p>By requesting write permission with the read request, I reduced the number of permission prompts: the user sees one prompt when opening the file, and grants permission to both read and write to it.</p><h3 id=opening-a-directory-and-enumerating-its-contents>Opening a directory and enumerating its contents <a href=#opening-a-directory-and-enumerating-its-contents class=w-headline-link>#</a></h3><p>To enumerate all files in a directory, call <a href=https://wicg.github.io/file-system-access/#api-showdirectorypicker rel=noopener><code>showDirectoryPicker()</code></a>. The user selects a directory in a picker, after which a <a href=https://wicg.github.io/file-system-access/#api-filesystemdirectoryhandle rel=noopener><code>FileSystemDirectoryHandle</code></a> is returned, which lets you enumerate and access the directory's files.</p><web-copy-code><pre class=language-js><code class=language-js><span class="token keyword">const</span> butDir <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'butDirectory'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>butDir<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> dirHandle <span class="token operator">=</span> <span class="token keyword">await</span> window<span class="token punctuation">.</span><span class="token function">showDirectoryPicker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">for</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">const</span> entry <span class="token keyword">of</span> dirHandle<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>kind<span class="token punctuation">,</span> entry<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></web-copy-code><h3 id=creating-or-accessing-files-and-folders-in-a-directory>Creating or accessing files and folders in a directory <a href=#creating-or-accessing-files-and-folders-in-a-directory class=w-headline-link>#</a></h3><p>From a directory, you can create or access files and folders using the <a href=https://wicg.github.io/file-system-access/#dom-filesystemdirectoryhandle-getfilehandle rel=noopener><code>getFileHandle()</code></a> or respectively the <a href=https://wicg.github.io/file-system-access/#dom-filesystemdirectoryhandle-getdirectoryhandle rel=noopener><code>getDirectoryHandle()</code></a> method. By passing in an optional <code>options</code> object with a key of <code>create</code> and a boolean value of <code>true</code> or <code>false</code>, you can determine if a new file or folder should be created if it doesn't exist.</p><web-copy-code><pre class=language-js><code class=language-js><span class="token comment">// In an existing directory, create a new directory named "My Documents".</span><br><span class="token keyword">const</span> newDirectoryHandle <span class="token operator">=</span> <span class="token keyword">await</span> existingDirectoryHandle<span class="token punctuation">.</span><span class="token function">getDirectoryHandle</span><span class="token punctuation">(</span><span class="token string">'My Documents'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><br>  create<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// In this new directory, create a file named "My Notes.txt".</span><br><span class="token keyword">const</span> newFileHandle <span class="token operator">=</span> <span class="token keyword">await</span> newDirectoryHandle<span class="token punctuation">.</span><span class="token function">getFileHandle</span><span class="token punctuation">(</span><span class="token string">'My Notes.txt'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> create<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></web-copy-code><h3 id=resolving-the-path-of-an-item-in-a-directory>Resolving the path of an item in a directory <a href=#resolving-the-path-of-an-item-in-a-directory class=w-headline-link>#</a></h3><p>When working with files or folders in a directory, it can be useful to resolve the path of the item in question. This can be done with the aptly named <a href=https://wicg.github.io/file-system-access/#api-filesystemdirectoryhandle-resolve rel=noopener><code>resolve()</code></a> method. For resolving, the item can be a direct or indirect child of the directory.</p><web-copy-code><pre class=language-js><code class=language-js><span class="token comment">// Resolve the path of the previously created file called "My Notes.txt".</span><br><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token keyword">await</span> newDirectoryHandle<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>newFileHandle<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// `path` is now ["My Documents", "My Notes.txt"]</span></code></pre></web-copy-code><h3 id=deleting-files-and-folders-in-a-directory>Deleting files and folders in a directory <a href=#deleting-files-and-folders-in-a-directory class=w-headline-link>#</a></h3><p>If you have obtained access to a directory, you can delete the contained files and folders with the <a href=https://wicg.github.io/file-system-access/#dom-filesystemdirectoryhandle-removeentry rel=noopener><code>removeEntry()</code></a> method. For folders, deletion can optionally be recursive and include all subfolders and the therein contained files.</p><web-copy-code><pre class=language-js><code class=language-js><span class="token comment">// Delete a file.</span><br><span class="token keyword">await</span> directoryHandle<span class="token punctuation">.</span><span class="token function">removeEntry</span><span class="token punctuation">(</span><span class="token string">'Abandoned Projects.txt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// Recursively delete a folder.</span><br><span class="token keyword">await</span> directoryHandle<span class="token punctuation">.</span><span class="token function">removeEntry</span><span class="token punctuation">(</span><span class="token string">'Old Stuff'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> recursive<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></web-copy-code><h3 id=drag-and-drop-integration>Drag and drop integration <a href=#drag-and-drop-integration class=w-headline-link>#</a></h3><p>The <a href=https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API rel=noopener>HTML Drag and Drop interfaces</a> enable web applications to accept <a href=https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API/File_drag_and_drop rel=noopener>dragged and dropped files</a> on a web page. During a drag and drop operation, dragged file and directory items are associated with file entries and directory entries respectively. The <code>DataTransferItem.getAsFileSystemHandle()</code> method returns a promise with a <code>FileSystemFileHandle</code> object if the dragged item is a file, and a promise with a <code>FileSystemDirectoryHandle</code> object if the dragged item is a directory. The listing below shows this in action. Note that the Drag and Drop interface's <a href=https://developer.mozilla.org/en-US/docs/Web/API/DataTransferItem/kind rel=noopener><code>DataTransferItem.kind</code></a> will be <code>"file"</code> for both files <em>and</em> directories, whereas the File System Access API's <a href=https://wicg.github.io/file-system-access/#dom-filesystemhandle-kind rel=noopener><code>FileSystemHandle.kind</code></a> will be <code>"file"</code> for files and <code>"directory"</code> for directories.</p><web-copy-code><pre class=language-js><code class=language-js><span class=highlight-line>elem<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'dragover'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><br><span class=highlight-line>  <span class="token comment">// Prevent navigation.</span></span><br><span class=highlight-line>  e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class=highlight-line><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class=highlight-line></span><br><span class=highlight-line>elem<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'drop'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><br><span class=highlight-line>  <span class="token comment">// Prevent navigation.</span></span><br><span class=highlight-line>  e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class=highlight-line>  <span class="token comment">// Process all of the items.</span></span><br><span class=highlight-line>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> item <span class="token keyword">of</span> e<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span>items<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class=highlight-line>    <span class="token comment">// Careful: `kind` will be 'file' for both file</span></span><br><span class=highlight-line>    <span class="token comment">// _and_ directory entries.</span></span><br><span class=highlight-line>    <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>kind <span class="token operator">===</span> <span class="token string">'file'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><mark class="highlight-line highlight-line-active">      <span class="token keyword">const</span> entry <span class="token operator">=</span> <span class="token keyword">await</span> item<span class="token punctuation">.</span><span class="token function">getAsFileSystemHandle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></mark><br><span class=highlight-line>      <span class="token keyword">if</span> <span class="token punctuation">(</span>entry<span class="token punctuation">.</span>kind <span class="token operator">===</span> <span class="token string">'directory'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class=highlight-line>        <span class="token function">handleDirectoryEntry</span><span class="token punctuation">(</span>entry<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class=highlight-line>      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span><br><span class=highlight-line>        <span class="token function">handleFileEntry</span><span class="token punctuation">(</span>entry<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class=highlight-line>      <span class="token punctuation">}</span></span><br><span class=highlight-line>    <span class="token punctuation">}</span></span><br><span class=highlight-line>  <span class="token punctuation">}</span></span><br><span class=highlight-line><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre></web-copy-code><h3 id=accessing-the-origin-private-file-system>Accessing the origin private file system <a href=#accessing-the-origin-private-file-system class=w-headline-link>#</a></h3><p>The origin private file system is a storage endpoint that, as the name suggests, is private to the origin of the page. While browsers will typically implement this by persisting the contents of this origin private file system to disk somewhere, it is <em>not</em> intended that the contents be easily user accessible. Similarly, there is <em>no</em> expectation that files or directories with names matching the names of children of the origin private file system exist. While the browser might make it seem that there are files, internally—since this is an origin private file system—the browser might store these "files" in a database or any other data structure. Essentially: what you create with this API, do <em>not</em> expect to find it 1:1 somewhere on the hard disk. You can operate as usual on the origin private file system once you have access to the root <code>FileSystemDirectoryHandle</code>.</p><web-copy-code><pre class=language-js><code class=language-js><span class="token keyword">const</span> root <span class="token operator">=</span> <span class="token keyword">await</span> navigator<span class="token punctuation">.</span>storage<span class="token punctuation">.</span><span class="token function">getDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// Create a new file handle.</span><br><span class="token keyword">const</span> fileHandle <span class="token operator">=</span> <span class="token keyword">await</span> root<span class="token punctuation">.</span><span class="token function">getFileHandle</span><span class="token punctuation">(</span><span class="token string">'Untitled.txt'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> create<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// Create a new directory handle.</span><br><span class="token keyword">const</span> dirHandle <span class="token operator">=</span> <span class="token keyword">await</span> root<span class="token punctuation">.</span><span class="token function">getDirectoryHandle</span><span class="token punctuation">(</span><span class="token string">'New Folder'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> create<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// Recursively remove a directory.</span><br><span class="token keyword">await</span> root<span class="token punctuation">.</span><span class="token function">removeEntry</span><span class="token punctuation">(</span><span class="token string">'Old Stuff'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> recursive<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></web-copy-code><h2 id=polyfilling>Polyfilling <a href=#polyfilling class=w-headline-link>#</a></h2><p>It is not possible to completely polyfill the File System Access API methods.</p><ul><li>The <code>showOpenFilePicker()</code> method can be approximated with an <code>&lt;input type="file"></code> element.</li><li>The <code>showSaveFilePicker()</code> method can be simulated with a <code>&lt;a download="file_name"></code> element, albeit this will trigger a programmatic download and not allow for overwriting existing files.</li><li>The <code>showDirectoryPicker()</code> method can be somewhat emulated with the non-standard <code>&lt;input type="file" webkitdirectory></code> element.</li></ul><p>We have developed a library called <a href=/browser-fs-access/ >browser-fs-access</a> that uses the File System Access API wherever possible and that falls back to these next best options in all other cases.</p><h2 id=security-considerations>Security and permissions <a href=#security-considerations class=w-headline-link>#</a></h2><p>The Chrome team has designed and implemented the File System Access API using the core principles defined in <a href=https://chromium.googlesource.com/chromium/src/+/lkgr/docs/security/permissions-for-powerful-web-platform-features.md rel=noopener>Controlling Access to Powerful Web Platform Features</a>, including user control and transparency, and user ergonomics.</p><h3 id=opening-a-file-or-saving-a-new-file>Opening a file or saving a new file <a href=#opening-a-file-or-saving-a-new-file class=w-headline-link>#</a></h3><figure class="w-figure w-figure--inline-right"><a href="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/BtrU36qfJoC5M9AgRumF.jpg?auto=format"><img alt="File picker to open a file for reading" height=577 src="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/BtrU36qfJoC5M9AgRumF.jpg?auto=format" width=800 decoding=async sizes="(min-width: 800px) 800px, calc(100vw - 48px)" srcset="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/BtrU36qfJoC5M9AgRumF.jpg?auto=format&w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/BtrU36qfJoC5M9AgRumF.jpg?auto=format&w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/BtrU36qfJoC5M9AgRumF.jpg?auto=format&w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/BtrU36qfJoC5M9AgRumF.jpg?auto=format&w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/BtrU36qfJoC5M9AgRumF.jpg?auto=format&w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/BtrU36qfJoC5M9AgRumF.jpg?auto=format&w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/BtrU36qfJoC5M9AgRumF.jpg?auto=format&w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/BtrU36qfJoC5M9AgRumF.jpg?auto=format&w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/BtrU36qfJoC5M9AgRumF.jpg?auto=format&w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/BtrU36qfJoC5M9AgRumF.jpg?auto=format&w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/BtrU36qfJoC5M9AgRumF.jpg?auto=format&w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/BtrU36qfJoC5M9AgRumF.jpg?auto=format&w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/BtrU36qfJoC5M9AgRumF.jpg?auto=format&w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/BtrU36qfJoC5M9AgRumF.jpg?auto=format&w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/BtrU36qfJoC5M9AgRumF.jpg?auto=format&w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/BtrU36qfJoC5M9AgRumF.jpg?auto=format&w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/BtrU36qfJoC5M9AgRumF.jpg?auto=format&w=1600 1600w" loading=lazy></a><figcaption class=w-figcaption>A file picker used to open an existing file for reading.</figcaption></figure><p>When opening a file, the user provides permission to read a file or directory via the file picker. The open file picker can only be shown via a user gesture when served from a <a href=https://w3c.github.io/webappsec-secure-contexts/ rel=noopener>secure context</a>. If users change their minds, they can cancel the selection in the file picker and the site does not get access to anything. This is the same behavior as that of the <code>&lt;input type="file"></code> element.</p><div class=w-clearfix></div><figure class="w-figure w-figure--inline-left"><a href="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/DZFcgVmVFVyfddL8PdSx.jpg?auto=format"><img alt="File picker to save a file to disk." height=577 src="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/DZFcgVmVFVyfddL8PdSx.jpg?auto=format" width=800 decoding=async sizes="(min-width: 800px) 800px, calc(100vw - 48px)" srcset="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/DZFcgVmVFVyfddL8PdSx.jpg?auto=format&w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/DZFcgVmVFVyfddL8PdSx.jpg?auto=format&w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/DZFcgVmVFVyfddL8PdSx.jpg?auto=format&w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/DZFcgVmVFVyfddL8PdSx.jpg?auto=format&w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/DZFcgVmVFVyfddL8PdSx.jpg?auto=format&w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/DZFcgVmVFVyfddL8PdSx.jpg?auto=format&w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/DZFcgVmVFVyfddL8PdSx.jpg?auto=format&w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/DZFcgVmVFVyfddL8PdSx.jpg?auto=format&w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/DZFcgVmVFVyfddL8PdSx.jpg?auto=format&w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/DZFcgVmVFVyfddL8PdSx.jpg?auto=format&w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/DZFcgVmVFVyfddL8PdSx.jpg?auto=format&w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/DZFcgVmVFVyfddL8PdSx.jpg?auto=format&w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/DZFcgVmVFVyfddL8PdSx.jpg?auto=format&w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/DZFcgVmVFVyfddL8PdSx.jpg?auto=format&w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/DZFcgVmVFVyfddL8PdSx.jpg?auto=format&w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/DZFcgVmVFVyfddL8PdSx.jpg?auto=format&w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/DZFcgVmVFVyfddL8PdSx.jpg?auto=format&w=1600 1600w" loading=lazy></a><figcaption class=w-figcaption>A file picker used to save a file to disk.</figcaption></figure><p>Similarly, when a web app wants to save a new file, the browser will show the save file picker, allowing the user to specify the name and location of the new file. Since they are saving a new file to the device (versus overwriting an existing file), the file picker grants the app permission to write to the file.</p><div class=w-clearfix></div><h4 id=restricted-folders>Restricted folders <a href=#restricted-folders class=w-headline-link>#</a></h4><p>To help protect users and their data, the browser may limit the user's ability to save to certain folders, for example, core operating system folders like Windows, the macOS Library folders, etc. When this happens, the browser will show a modal prompt and ask the user to choose a different folder.</p><h3 id=modifying-an-existing-file-or-directory>Modifying an existing file or directory <a href=#modifying-an-existing-file-or-directory class=w-headline-link>#</a></h3><p>A web app cannot modify a file on disk without getting explicit permission from the user.</p><h4 id=permission-prompt>Permission prompt <a href=#permission-prompt class=w-headline-link>#</a></h4><figure class="w-figure w-figure--inline-right"><a href="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1Ycrs0DnLzZY2egNYzk2.jpg?auto=format"><img alt="Permission prompt shown prior to saving a file." height=281 src="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1Ycrs0DnLzZY2egNYzk2.jpg?auto=format" width=800 class=w-screenshot decoding=async sizes="(min-width: 800px) 800px, calc(100vw - 48px)" srcset="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1Ycrs0DnLzZY2egNYzk2.jpg?auto=format&w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1Ycrs0DnLzZY2egNYzk2.jpg?auto=format&w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1Ycrs0DnLzZY2egNYzk2.jpg?auto=format&w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1Ycrs0DnLzZY2egNYzk2.jpg?auto=format&w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1Ycrs0DnLzZY2egNYzk2.jpg?auto=format&w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1Ycrs0DnLzZY2egNYzk2.jpg?auto=format&w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1Ycrs0DnLzZY2egNYzk2.jpg?auto=format&w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1Ycrs0DnLzZY2egNYzk2.jpg?auto=format&w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1Ycrs0DnLzZY2egNYzk2.jpg?auto=format&w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1Ycrs0DnLzZY2egNYzk2.jpg?auto=format&w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1Ycrs0DnLzZY2egNYzk2.jpg?auto=format&w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1Ycrs0DnLzZY2egNYzk2.jpg?auto=format&w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1Ycrs0DnLzZY2egNYzk2.jpg?auto=format&w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1Ycrs0DnLzZY2egNYzk2.jpg?auto=format&w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1Ycrs0DnLzZY2egNYzk2.jpg?auto=format&w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1Ycrs0DnLzZY2egNYzk2.jpg?auto=format&w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1Ycrs0DnLzZY2egNYzk2.jpg?auto=format&w=1600 1600w" loading=lazy></a><figcaption class=w-figcaption>Prompt shown to users before the browser is granted write permission on an existing file.</figcaption></figure><p>If a person wants to save changes to a file that they previously granted read access to, the browser will show a modal permission prompt, requesting permission for the site to write changes to disk. The permission request can only be triggered by a user gesture, for example, by clicking a Save button.</p><p>Alternatively, a web app that edits multiple files, like an IDE, can also ask for permission to save changes at the time of opening.</p><p>If the user chooses Cancel, and does not grant write access, the web app cannot save changes to the local file. It should provide an alternative method to allow the user to save their data, for example by providing a way to <a href=https://developers.google.com/web/updates/2011/08/Downloading-resources-in-HTML5-a-download rel=noopener>"download" the file</a>, saving data to the cloud, etc.</p><div class=w-clearfix></div><h3 id=transparency>Transparency <a href=#transparency class=w-headline-link>#</a></h3><figure class="w-figure w-figure--inline-right"><a href="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/14mRo309FodD4T3OL0J6.jpg?auto=format"><img alt="Omnibox icon" height=162 src="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/14mRo309FodD4T3OL0J6.jpg?auto=format" width=282 class=w-screenshot decoding=async sizes="(min-width: 282px) 282px, calc(100vw - 48px)" srcset="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/14mRo309FodD4T3OL0J6.jpg?auto=format&w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/14mRo309FodD4T3OL0J6.jpg?auto=format&w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/14mRo309FodD4T3OL0J6.jpg?auto=format&w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/14mRo309FodD4T3OL0J6.jpg?auto=format&w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/14mRo309FodD4T3OL0J6.jpg?auto=format&w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/14mRo309FodD4T3OL0J6.jpg?auto=format&w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/14mRo309FodD4T3OL0J6.jpg?auto=format&w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/14mRo309FodD4T3OL0J6.jpg?auto=format&w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/14mRo309FodD4T3OL0J6.jpg?auto=format&w=564 564w" loading=lazy></a><figcaption class=w-figcaption>Omnibox icon indicating the user has granted the website permission to save to a local file.</figcaption></figure><p>Once a user has granted permission to a web app to save a local file, the browser will show an icon in the URL bar. Clicking on the icon opens a pop-over showing the list of files the user has given access to. The user can easily revoke that access if they choose.</p><div class=w-clearfix></div><h3 id=permission-persistence>Permission persistence <a href=#permission-persistence class=w-headline-link>#</a></h3><p>The web app can continue to save changes to the file without prompting until all tabs for that origin are closed. Once a tab is closed, the site loses all access. The next time the user uses the web app, they will be re-prompted for access to the files.</p><h2 id=feedback>Feedback <a href=#feedback class=w-headline-link>#</a></h2><p>We want to hear about your experiences with the File System Access API.</p><h3 id=tell-us-about-the-api-design class=hide-from-toc>Tell us about the API design <a href=#tell-us-about-the-api-design class=w-headline-link>#</a></h3><p>Is there something about the API that doesn't work like you expected? Or are there missing methods or properties that you need to implement your idea? Have a question or comment on the security model?</p><ul><li>File a spec issue on the <a href=https://github.com/wicg/file-system-access/issues/ rel=noopener>WICG File System Access GitHub repo</a>, or add your thoughts to an existing issue.</li></ul><h3 id=problem-with-the-implementation class=hide-from-toc>Problem with the implementation? <a href=#problem-with-the-implementation class=w-headline-link>#</a></h3><p>Did you find a bug with Chrome's implementation? Or is the implementation different from the spec?</p><ul><li>File a bug at <a href="https://bugs.chromium.org/p/chromium/issues/entry?components=Blink%3EStorage%3EFileSystem" rel=noopener>https://new.crbug.com</a>. Be sure to include as much detail as you can, simple instructions for reproducing, and set <em>Components</em> to <code>Blink>Storage>FileSystem</code>. <a href=https://glitch.com rel=noopener>Glitch</a> works great for sharing quick and easy repros.</li></ul><h3 id=planning-to-use-the-api class=hide-from-toc>Planning to use the API? <a href=#planning-to-use-the-api class=w-headline-link>#</a></h3><p>Planning to use the File System Access API on your site? Your public support helps us to prioritize features, and shows other browser vendors how critical it is to support them.</p><ul><li>Share how you plan to use it on the <a href=https://discourse.wicg.io/t/writable-file-api/1433 rel=noopener>WICG Discourse thread</a>.</li><li>Send a tweet to <a href=https://twitter.com/chromiumdev rel=noopener>@ChromiumDev</a> using the hashtag <a href="https://twitter.com/search?q=%23FileSystemAccess&src=typed_query&f=live" rel=noopener><code>#FileSystemAccess</code></a> and let us know where and how you're using it.</li></ul><h2 id=helpful>Helpful links <a href=#helpful class=w-headline-link>#</a></h2><ul><li><a href=https://github.com/WICG/file-system-access/blob/main/EXPLAINER.md rel=noopener>Public explainer</a></li><li><a href=https://wicg.github.io/file-system-access/ rel=noopener>File System Access specification</a> & <a href=https://w3c.github.io/FileAPI/ rel=noopener>File specification</a></li><li><a href=https://crbug.com/853326 rel=noopener>Tracking bug</a></li><li><a href=https://www.chromestatus.com/feature/6284708426022912 rel=noopener>ChromeStatus.com entry</a></li><li>Request an <a href="">origin trial token</a></li><li><a href=https://www.npmjs.com/package/@types/wicg-file-system-access rel=noopener>TypeScript definitions</a></li><li><a href=https://docs.google.com/document/d/1NJFd-EWdUlQ7wVzjqcgXewqC5nzv_qII4OvlDtK6SE8/edit rel=noopener>File System Access API - Chromium Security Model</a></li><li>Blink Component: <code>Blink>Storage>FileSystem</code></li></ul><h2 id=acknowledgements>Acknowledgements <a href=#acknowledgements class=w-headline-link>#</a></h2><p>The File System Access API spec was written by <a href=https://github.com/mkruisselbrink rel=noopener>Marijn Kruisselbrink</a>.</p><div class="w-aside w-aside--note">Have a question about using this feature? You can get help by <a href="https://stackoverflow.com/questions/ask?tags=native-file-system-api-js">asking a question on Stack Overflow</a>, or <a href="https://stackoverflow.com/search?q=%5Bnative-file-system-api-js%5D+is%3Aquestion">browsing a list of questions</a> asked by other developers.</div><div class=w-chips><a href=/tags/capabilities/ class=w-chip>Capabilities</a> <a href=/tags/file-system/ class=w-chip>File System</a></div><div class="w-mb--l w-mt--l w-post-github-link"><span class=w-mr--sm>Last updated: <time>Aug 6, 2021</time> </span><a href=https://github.com/GoogleChrome/web.dev/blob/master/src/site/content/en/blog/file-system-access/index.md>Improve article</a></div><web-feedback additional-questions=api></web-feedback></div><nav class=w-article-navigation><a href=/blog class="gc-analytics-event w-article-navigation__link w-article-navigation__link--back w-article-navigation__link--single" data-category=web.dev data-label="navigation, go back" data-action=click>Return to all articles</a></nav></div></div></main><footer class=w-footer><nav class=w-footer__linkboxes><ul class=w-footer__linkboxes-list><li class=w-footer__linkbox><h3 class=w-footer__linkbox-heading>Contribute</h3><ul class=w-footer__linkbox-list><li class=w-footer__linkbox-item><a href="https://github.com/GoogleChrome/web.dev/issues/new?assignees=&labels=bug&template=bug_report.md&title=" class=w-footer__linkbox-link data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">File a bug</a></li><li class=w-footer__linkbox-item><a href=https://github.com/googlechrome/web.dev class=w-footer__linkbox-link data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">View source</a></li></ul></li><li class=w-footer__linkbox><h3 class=w-footer__linkbox-heading>Related content</h3><ul class=w-footer__linkbox-list><li class=w-footer__linkbox-item><a href=https://blog.chromium.org/ class=w-footer__linkbox-link data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">Chrome updates</a></li><li class=w-footer__linkbox-item><a href=https://developers.google.com/web/ class=w-footer__linkbox-link data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">Web Fundamentals</a></li><li class=w-footer__linkbox-item><a href=https://developers.google.com/web/showcase/ class=w-footer__linkbox-link data-category="Site-Wide Custom Events" data-label="Footer Link (index 3)">Case studies</a></li><li class=w-footer__linkbox-item><a href=https://devwebfeed.appspot.com/ class=w-footer__linkbox-link data-category="Site-Wide Custom Events" data-label="Footer Link (index 4)">DevWeb Content Firehose</a></li><li class=w-footer__linkbox-item><a href=/podcasts/ class=w-footer__linkbox-link data-category=Podcasts data-label="Footer Link (index 5)">Podcasts</a></li><li class=w-footer__linkbox-item><a href=/shows/ class=w-footer__linkbox-link data-category=Shows data-label="Footer Link (index 6)">Shows</a></li></ul></li><li class=w-footer__linkbox><h3 class=w-footer__linkbox-heading>Connect</h3><ul class=w-footer__linkbox-list><li class=w-footer__linkbox-item><a href=https://www.twitter.com/ChromiumDev class=w-footer__linkbox-link data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">Twitter</a></li><li class=w-footer__linkbox-item><a href=https://www.youtube.com/user/ChromeDevelopers class=w-footer__linkbox-link data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">YouTube</a></li></ul></li></ul></nav><div class=w-footer__utility><nav class=w-footer__utility-nav><a href=https://developers.google.com/ class=w-footer__utility-logo-link data-category="Site-Wide Custom Events" data-label="Footer Google Developers Link"><img alt="Google Developers" height=33 src=/images/lockup-color.png width=185 class=w-footer__utility-logo loading=lazy></a><ul class=w-footer__utility-list><li class=w-footer__utility-item><a href=https://developer.chrome.com/ class=w-footer__utility-link data-category="Site-Wide Custom Events" data-label="Footer Chrome Link">Chrome</a></li><li class=w-footer__utility-item><a href=https://firebase.google.com/ class=w-footer__utility-link data-category="Site-Wide Custom Events" data-label="Footer Firebase Link">Firebase</a></li><li class=w-footer__utility-item><a href=https://cloud.google.com/ class=w-footer__utility-link data-category="Site-Wide Custom Events" data-label="Footer Google Cloud Platform Link">Google Cloud Platform</a></li><li class=w-footer__utility-item><a href=https://developers.google.com/products class=w-footer__utility-link data-category="Site-Wide Custom Events" data-label="Footer All products Link">All products</a></li></ul><web-language-select current=en></web-language-select></nav><nav class=w-footer__utility-nav><ul class=w-footer__utility-list><li class=w-footer__utility-item><a href=https://policies.google.com/ class=w-footer__utility-link data-category="Site-Wide Custom Events" data-label="Footer Terms and Privacy link">Terms & Privacy</a></li><li class=w-footer__utility-item><a href=/community-guidelines/ class=w-footer__utility-link data-category="Site-Wide Custom Events" data-label="Footer Community Guidelines link">Community Guidelines</a></li></ul><div class=w-footer__license><p>Except as otherwise noted, the content of this page is licensed under the <a href=https://creativecommons.org/licenses/by/4.0/ >Creative Commons Attribution 4.0 License</a>, and code samples are licensed under the <a href=https://www.apache.org/licenses/LICENSE-2.0>Apache 2.0 License</a>. For details, see the <a href=https://developers.google.com/terms/site-policies>Google Developers Site Policies</a>.</p></div></nav></div></footer></body></html>