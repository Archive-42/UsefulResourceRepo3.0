<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>https://web.dev/</id>
  <title>Rick Viscomi on web.dev</title>
  <updated>2021-08-11T17:14:17Z</updated>
  <author>
    <name>Rick Viscomi</name>
  </author>
  <link href="https://web.dev/authors/rviscomi/feed.xml" rel="self"/>
  <link href="https://web.dev/"/>
  <icon>https://web-dev.imgix.net/image/admin/oWRqaR6XXwIdNXPLpUMn.jpg?auto=format</icon>
  <logo>https://web.dev/images/shared/rss-banner.png</logo>
  <subtitle>Our latest news, updates, and stories by Rick Viscomi.</subtitle>
  
  
  <entry>
    <title>The performance effects of too much lazy-loading</title>
    <link href="https://web.dev/lcp-lazy-loading/"/>
    <updated>2021-07-15T00:00:00Z</updated>
    <id>https://web.dev/lcp-lazy-loading/</id>
    <content type="text/html" mode="escaped">&lt;p&gt;Lazy-loading is a technique to defer downloading a resource until it&#39;s needed, which conserves data
and reduces network contention for critical assets. It became a web standard in
&lt;a href=&quot;https://web.dev/browser-level-image-lazy-loading/&quot;&gt;2019&lt;/a&gt; and today &lt;code&gt;loading=&amp;quot;lazy&amp;quot;&lt;/code&gt; for images is
&lt;a href=&quot;https://caniuse.com/loading-lazy-attr&quot; rel=&quot;noopener&quot;&gt;supported&lt;/a&gt; by most major browsers. That sounds great,
but is there such a thing as too much lazy loading?&lt;/p&gt;
&lt;p&gt;This post summarizes how we analyzed publicly available web transparency data and ad hoc A/B testing
to understand the adoption and performance characteristics of native image lazy-loading. What we
found is that lazy-loading can be an amazingly effective tool for reducing unneeded image bytes, but
overuse can negatively affect performance. Concretely, our analysis shows that more eagerly
loading images within the initial viewport—while liberally lazy-loading the rest—can give us the
best of both worlds: fewer bytes loaded and improved &lt;a href=&quot;https://web.dev/vitals/#core-web-vitals&quot;&gt;Core Web Vitals&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;adoption&quot;&gt;Adoption &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/lcp-lazy-loading/#adoption&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;According to the most recent data in &lt;a href=&quot;https://httparchive.org/&quot; rel=&quot;noopener&quot;&gt;HTTP Archive&lt;/a&gt;,
native image lazy-loading is used by &lt;a href=&quot;https://httparchive.org/reports/state-of-images?start=2020_01_01&amp;amp;end=2021_06_01#imgLazy&quot; rel=&quot;noopener&quot;&gt;17%&lt;/a&gt;
of websites and adoption is growing rapidly. This much of a foothold in the ecosystem is remarkable
for a relatively new API.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;Pie chart showing WordPress making up 84.1% of lazy-loading adoption, other CMSs 2.3%, and non-CMSs 13.5%.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;491&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/9RDh3CEC9vb1jCjVAIIi.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/9RDh3CEC9vb1jCjVAIIi.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/9RDh3CEC9vb1jCjVAIIi.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/9RDh3CEC9vb1jCjVAIIi.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/9RDh3CEC9vb1jCjVAIIi.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/9RDh3CEC9vb1jCjVAIIi.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/9RDh3CEC9vb1jCjVAIIi.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/9RDh3CEC9vb1jCjVAIIi.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/9RDh3CEC9vb1jCjVAIIi.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/9RDh3CEC9vb1jCjVAIIi.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/9RDh3CEC9vb1jCjVAIIi.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/9RDh3CEC9vb1jCjVAIIi.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/9RDh3CEC9vb1jCjVAIIi.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/9RDh3CEC9vb1jCjVAIIi.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/9RDh3CEC9vb1jCjVAIIi.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/9RDh3CEC9vb1jCjVAIIi.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/9RDh3CEC9vb1jCjVAIIi.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/9RDh3CEC9vb1jCjVAIIi.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;
    Breakdown of the types of websites that make use of native image lazy-loading.
    &lt;em&gt;(&lt;a href=&quot;https://gist.github.com/rviscomi/44d80c1a0f4dec9cbafb37347c770278#file-lazy-loading-wp-cms-sql&quot;&gt;Source&lt;/a&gt;)&lt;/em&gt;
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;&lt;a href=&quot;https://gist.github.com/rviscomi/44d80c1a0f4dec9cbafb37347c770278#file-lazy-loading-wp-cms-sql&quot; rel=&quot;noopener&quot;&gt;Querying&lt;/a&gt;
the raw data in the HTTP Archive project gives us a clearer understanding of what kinds of websites
are driving adoption: 84% of sites that use native image lazy-loading use WordPress, 2% use another
CMS, and the remaining 14% don&#39;t use a known CMS. These results make clear how
&lt;a href=&quot;https://make.wordpress.org/core/2020/07/14/lazy-loading-images-in-5-5/&quot; rel=&quot;noopener&quot;&gt;WordPress is leading the charge&lt;/a&gt;
in adoption.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;Timeseries chart of lazy-loading adoption with WordPress being the predominant player compared to other CMSs and non-CMSs, with similar proportions to the previous chart. Total adoption is shown to have rapidly increased from 1% to 17% from July 2020 to June 2021.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;507&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/XgHvIF8JyybNZCNwXL35.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/XgHvIF8JyybNZCNwXL35.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/XgHvIF8JyybNZCNwXL35.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/XgHvIF8JyybNZCNwXL35.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/XgHvIF8JyybNZCNwXL35.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/XgHvIF8JyybNZCNwXL35.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/XgHvIF8JyybNZCNwXL35.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/XgHvIF8JyybNZCNwXL35.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/XgHvIF8JyybNZCNwXL35.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/XgHvIF8JyybNZCNwXL35.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/XgHvIF8JyybNZCNwXL35.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/XgHvIF8JyybNZCNwXL35.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/XgHvIF8JyybNZCNwXL35.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/XgHvIF8JyybNZCNwXL35.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/XgHvIF8JyybNZCNwXL35.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/XgHvIF8JyybNZCNwXL35.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/XgHvIF8JyybNZCNwXL35.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/XgHvIF8JyybNZCNwXL35.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;
    Breakdown of the types of websites that make use of native image lazy-loading.
    &lt;em&gt;(&lt;a href=&quot;https://gist.github.com/rviscomi/44d80c1a0f4dec9cbafb37347c770278#file-lazy-loading-wp-cms-timeseries-sql&quot;&gt;Source&lt;/a&gt;)&lt;/em&gt;
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;The
&lt;a href=&quot;https://gist.github.com/rviscomi/44d80c1a0f4dec9cbafb37347c770278#file-lazy-loading-wp-cms-timeseries-sql&quot; rel=&quot;noopener&quot;&gt;rate of adoption&lt;/a&gt;
is also worth noting. One year ago in July 2020, WordPress sites that use lazy-loading made up tens
of thousands websites in the corpus of about 6 million (1% of total). Lazy-loading adoption in
WordPress alone has since grown to over 1 million websites (14% of total).&lt;/p&gt;
&lt;h2 id=&quot;correlational-performance&quot;&gt;Correlational performance &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/lcp-lazy-loading/#correlational-performance&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://gist.github.com/rviscomi/44d80c1a0f4dec9cbafb37347c770278#file-lazy-loading-crux-lcp-sql&quot; rel=&quot;noopener&quot;&gt;Digging deeper&lt;/a&gt;
into HTTP Archive, we can compare how pages with and without native image lazy loading perform with
the &lt;a href=&quot;https://web.dev/lcp/&quot;&gt;Largest Contentful Paint&lt;/a&gt; (LCP) metric. The LCP data comes from real-user
experiences from the &lt;a href=&quot;https://developers.google.com/web/tools/chrome-user-experience-report&quot; rel=&quot;noopener&quot;&gt;Chrome User Experience Report&lt;/a&gt; (CrUX) as opposed to synthetic testing in the lab. The chart
below uses a box-and-whisker plot to visualize the distributions of each pages&#39; 75th percentile LCP:
the lines represent the 10th and 90th percentiles and the boxes represent the 25th and 75th
percentiles.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;Box and whisker chart showing the 10, 25, 75, and 90th percentiles for pages that do and do not use native image lazy-loading. Comparatively, the LCP distribution of pages that do not use it is faster than those that do.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;488&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/W8gsHQn1IjlRuAgnSizY.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/W8gsHQn1IjlRuAgnSizY.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/W8gsHQn1IjlRuAgnSizY.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/W8gsHQn1IjlRuAgnSizY.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/W8gsHQn1IjlRuAgnSizY.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/W8gsHQn1IjlRuAgnSizY.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/W8gsHQn1IjlRuAgnSizY.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/W8gsHQn1IjlRuAgnSizY.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/W8gsHQn1IjlRuAgnSizY.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/W8gsHQn1IjlRuAgnSizY.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/W8gsHQn1IjlRuAgnSizY.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/W8gsHQn1IjlRuAgnSizY.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/W8gsHQn1IjlRuAgnSizY.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/W8gsHQn1IjlRuAgnSizY.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/W8gsHQn1IjlRuAgnSizY.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/W8gsHQn1IjlRuAgnSizY.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/W8gsHQn1IjlRuAgnSizY.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/W8gsHQn1IjlRuAgnSizY.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;
    Distribution of all pages&#39; 75th percentile LCP experience, broken down by whether they use native image lazy-loading.
    &lt;em&gt;(&lt;a href=&quot;https://gist.github.com/rviscomi/44d80c1a0f4dec9cbafb37347c770278#file-lazy-loading-crux-lcp-sql&quot;&gt;Source&lt;/a&gt;)&lt;/em&gt;
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;The median page without lazy-loading has a 75th percentile LCP of 2,922 ms, compared to 3,546 ms for
the median page with lazy-loading. Overall, websites that use lazy-loading tend to have worse LCP
performance.&lt;/p&gt;
&lt;p&gt;It&#39;s important to point out that these are &lt;em&gt;correlational&lt;/em&gt; results and they don&#39;t necessarily point
to lazy-loading as being the &lt;em&gt;cause&lt;/em&gt; of the slower performance. Hypothetically, if WordPress sites
tend to be a bit slower, and given how much they make up the lazy-loading cohort, that could explain
the difference. So let&#39;s try to eliminate that variability by looking only at WordPress sites.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;Box and whisker chart showing the 10, 25, 75, and 90th percentiles for WordPress pages that do and do not use native image lazy-loading. Comparatively, the LCP distribution of pages that do not use it is faster than those that do, similar to the previous chart.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;488&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/k1YlIULhqpx3CJV2OPYc.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/k1YlIULhqpx3CJV2OPYc.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/k1YlIULhqpx3CJV2OPYc.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/k1YlIULhqpx3CJV2OPYc.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/k1YlIULhqpx3CJV2OPYc.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/k1YlIULhqpx3CJV2OPYc.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/k1YlIULhqpx3CJV2OPYc.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/k1YlIULhqpx3CJV2OPYc.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/k1YlIULhqpx3CJV2OPYc.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/k1YlIULhqpx3CJV2OPYc.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/k1YlIULhqpx3CJV2OPYc.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/k1YlIULhqpx3CJV2OPYc.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/k1YlIULhqpx3CJV2OPYc.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/k1YlIULhqpx3CJV2OPYc.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/k1YlIULhqpx3CJV2OPYc.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/k1YlIULhqpx3CJV2OPYc.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/k1YlIULhqpx3CJV2OPYc.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/k1YlIULhqpx3CJV2OPYc.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;
    Distribution of WordPress pages&#39; 75th percentile LCP experience, broken down by whether they use native image lazy-loading.
    &lt;em&gt;(&lt;a href=&quot;https://gist.github.com/rviscomi/44d80c1a0f4dec9cbafb37347c770278#file-lazy-loading-crux-lcp-wordpress-sql&quot;&gt;Source&lt;/a&gt;)&lt;/em&gt;
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;Unfortunately, the same pattern emerges when we drill down into WordPress pages; those that use
lazy-loading tend to have slower LCP performance. The median WordPress page without lazy-loading has
a 75th percentile LCP of 3,495 ms, compared to 3,768 ms for the median page with lazy-loading.&lt;/p&gt;
&lt;p&gt;This still doesn&#39;t prove that lazy-loading &lt;em&gt;causes&lt;/em&gt; pages to get slower, but using it does coincide
with having slower performance. To try to answer the causality question, we set up a lab-based A/B
test.&lt;/p&gt;
&lt;h2 id=&quot;causal-performance&quot;&gt;Causal performance &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/lcp-lazy-loading/#causal-performance&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The goal for the A/B test was to prove or disprove the hypothesis that native image lazy-loading, as
implemented in WordPress core, resulted in slower LCP performance and fewer image bytes. The
methodology we used was to test a demo WordPress website with the &lt;a href=&quot;https://wordpress.org/themes/twentytwentyone/&quot; rel=&quot;noopener&quot;&gt;twentytwentyone&lt;/a&gt;
theme. We tested
both archive and single page types, which are like the home and article pages, on desktop and
emulated mobile devices using &lt;a href=&quot;https://webpagetest.org/&quot; rel=&quot;noopener&quot;&gt;WebPageTest&lt;/a&gt;. We tested each combination of
pages with and without lazy-loading enabled and ran each test nine times to get the median LCP value
and number of image bytes.&lt;/p&gt;
&lt;div class=&quot;w-table-wrapper&quot;&gt;
  &lt;table&gt;
    &lt;thead&gt;
      &lt;tr&gt;
        &lt;th&gt;Series&lt;/th&gt;
        &lt;th&gt;default&lt;/th&gt;
        &lt;th&gt;disabled&lt;/th&gt;
        &lt;th&gt;Difference from default&lt;/th&gt;
      &lt;/tr&gt;
      &lt;/thead&gt;
    &lt;tbody&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;a href=&quot;https://www.webpagetest.org/video/compare.php?medianMetric=chromeUserTiming.LargestContentfulPaint&amp;highlightLCP=1&amp;thumbSize=200&amp;ival=100&amp;end=visual&amp;tests=210625_BiDcQM_859caf47f070026732f4da3f70b8afe3-l:fix,210625_BiDcPT_2b89f12170b7180acf06cb35d3125d6a-l:disabled,210625_AiDc28_df202856ac4f0da4748c7a84a7a455a8-l:default&quot;&gt;twentytwentyone-archive-desktop&lt;/a&gt;&lt;/td&gt;
        &lt;td style=&quot;text-align: right;&quot;&gt;2,029&lt;/td&gt;
        &lt;td style=&quot;text-align: right;&quot;&gt;1,759&lt;/td&gt;
        &lt;td style=&quot;text-align: right; background-color: #8fd1b1;&quot;&gt;-13%&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;a href=&quot;https://www.webpagetest.org/video/compare.php?medianMetric=chromeUserTiming.LargestContentfulPaint&amp;highlightLCP=1&amp;thumbSize=200&amp;ival=100&amp;end=visual&amp;tests=210625_BiDcV5_003a2ee20d6ee7323fca102afe3ef511-l:fix,210625_BiDcET_810fe76322f8a6003c38f0bc901e4025-l:disabled,210625_BiDc99_44b0562e9077eb01e1e18dceec69bca9-l:default&quot;&gt;twentytwentyone-archive-mobile&lt;/a&gt;&lt;/td&gt;
        &lt;td style=&quot;text-align: right;&quot;&gt;1,657&lt;/td&gt;
        &lt;td style=&quot;text-align: right;&quot;&gt;1,403&lt;/td&gt;
        &lt;td style=&quot;text-align: right; background-color: #7ecaa5;&quot;&gt;-15%&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;a href=&quot;https://www.webpagetest.org/video/compare.php?medianMetric=chromeUserTiming.LargestContentfulPaint&amp;highlightLCP=1&amp;thumbSize=200&amp;ival=100&amp;end=visual&amp;tests=210625_AiDcR8_47e248c3211951b7af3bc9a87f205cc7-l:fix,210625_AiDcXB_3d9db18bf36397fcdc5d3db207d0d9e7-l:disabled,210625_AiDc2G_ee59429fac9a388b2184758078610b61-l:default&quot;&gt;twentytwentyone-single-desktop&lt;/a&gt;&lt;/td&gt;
        &lt;td style=&quot;text-align: right;&quot;&gt;1,655&lt;/td&gt;
        &lt;td style=&quot;text-align: right;&quot;&gt;1,726&lt;/td&gt;
        &lt;td style=&quot;text-align: right; background-color: #fae3e1;&quot;&gt;4%&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;a href=&quot;https://www.webpagetest.org/video/compare.php?medianMetric=chromeUserTiming.LargestContentfulPaint&amp;highlightLCP=1&amp;thumbSize=200&amp;ival=100&amp;end=visual&amp;tests=210625_BiDcR1_c349d38d4c7151772f2678fa7767ff42-l:fix,210625_AiDcD9_502bb504fc87aebafc5f8c9aaa70faa5-l:disabled,210625_BiDcPS_de2a3e5a526e470287d850d1dbc96fb7-l:default&quot;&gt;twentytwentyone-single-mobile&lt;/a&gt;&lt;/td&gt;
        &lt;td style=&quot;text-align: right;&quot;&gt;1,352&lt;/td&gt;
        &lt;td style=&quot;text-align: right;&quot;&gt;1,384&lt;/td&gt;
        &lt;td style=&quot;text-align: right; background-color: #fdf0ef;&quot;&gt;2%&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/tbody&gt;
    &lt;caption&gt;Change in LCP (ms) by disabling native image lazy-loading on sample WordPress pages.&lt;/caption&gt;
  &lt;/table&gt;
&lt;/div&gt;
&lt;p&gt;The results above compare the median LCP in milliseconds for tests on archive and single pages for
desktop and mobile. When we disabled lazy-loading on archive pages, we observed LCP improving by a
significant margin. On single pages, however, the difference was more neutral.&lt;/p&gt;
&lt;p&gt;It&#39;s worth noting that the effect of disabling lazy-loading actually appears to make the single
pages slightly faster. However, the difference in LCP is less than one standard deviation for both
desktop and mobile tests, so we attribute this to variance and consider the change neutral overall.
By comparison, the difference for archive pages is more like two to three standard deviations.&lt;/p&gt;
&lt;div class=&quot;w-table-wrapper&quot;&gt;
  &lt;table&gt;
    &lt;thead&gt;
      &lt;tr&gt;
        &lt;th&gt;Series&lt;/th&gt;
        &lt;th&gt;default&lt;/th&gt;
        &lt;th&gt;disabled&lt;/th&gt;
        &lt;th&gt;Difference from default&lt;/th&gt;
      &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;a href=&quot;https://www.webpagetest.org/video/compare.php?medianMetric=chromeUserTiming.LargestContentfulPaint&amp;highlightLCP=1&amp;thumbSize=200&amp;ival=100&amp;end=visual&amp;tests=210625_BiDcQM_859caf47f070026732f4da3f70b8afe3-l:fix,210625_BiDcPT_2b89f12170b7180acf06cb35d3125d6a-l:disabled,210625_AiDc28_df202856ac4f0da4748c7a84a7a455a8-l:default&quot;&gt;twentytwentyone-archive-desktop&lt;/a&gt;&lt;/td&gt;
        &lt;td style=&quot;text-align: right;&quot;&gt;577&lt;/td&gt;
        &lt;td style=&quot;text-align: right;&quot;&gt;1173&lt;/td&gt;
        &lt;td style=&quot;text-align: right; background-color: #e67c73;&quot;&gt;103%&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;a href=&quot;https://www.webpagetest.org/video/compare.php?medianMetric=chromeUserTiming.LargestContentfulPaint&amp;highlightLCP=1&amp;thumbSize=200&amp;ival=100&amp;end=visual&amp;tests=210625_BiDcV5_003a2ee20d6ee7323fca102afe3ef511-l:fix,210625_BiDcET_810fe76322f8a6003c38f0bc901e4025-l:disabled,210625_BiDc99_44b0562e9077eb01e1e18dceec69bca9-l:default&quot;&gt;twentytwentyone-archive-mobile&lt;/a&gt;&lt;/td&gt;
        &lt;td style=&quot;text-align: right;&quot;&gt;172&lt;/td&gt;
        &lt;td style=&quot;text-align: right;&quot;&gt;378&lt;/td&gt;
        &lt;td style=&quot;text-align: right; background-color: #e67c73;&quot;&gt;120%&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;a href=&quot;https://www.webpagetest.org/video/compare.php?medianMetric=chromeUserTiming.LargestContentfulPaint&amp;highlightLCP=1&amp;thumbSize=200&amp;ival=100&amp;end=visual&amp;tests=210625_AiDcR8_47e248c3211951b7af3bc9a87f205cc7-l:fix,210625_AiDcXB_3d9db18bf36397fcdc5d3db207d0d9e7-l:disabled,210625_AiDc2G_ee59429fac9a388b2184758078610b61-l:default&quot;&gt;twentytwentyone-single-desktop&lt;/a&gt;&lt;/td&gt;
        &lt;td style=&quot;text-align: right;&quot;&gt;301&lt;/td&gt;
        &lt;td style=&quot;text-align: right;&quot;&gt;850&lt;/td&gt;
        &lt;td style=&quot;text-align: right; background-color: #e67c73;&quot;&gt;183%&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;a href=&quot;https://www.webpagetest.org/video/compare.php?medianMetric=chromeUserTiming.LargestContentfulPaint&amp;highlightLCP=1&amp;thumbSize=200&amp;ival=100&amp;end=visual&amp;tests=210625_BiDcR1_c349d38d4c7151772f2678fa7767ff42-l:fix,210625_AiDcD9_502bb504fc87aebafc5f8c9aaa70faa5-l:disabled,210625_BiDcPS_de2a3e5a526e470287d850d1dbc96fb7-l:default&quot;&gt;twentytwentyone-single-mobile&lt;/a&gt;&lt;/td&gt;
        &lt;td style=&quot;text-align: right;&quot;&gt;114&lt;/td&gt;
        &lt;td style=&quot;text-align: right;&quot;&gt;378&lt;/td&gt;
        &lt;td style=&quot;text-align: right; background-color: #e67c73;&quot;&gt;233%&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/tbody&gt;
    &lt;caption&gt;Change in the number of image bytes (KB) by disabling native image lazy-loading on sample WordPress pages.&lt;/caption&gt;
  &lt;/table&gt;
&lt;/div&gt;
&lt;p&gt;The results above compare the median number of image bytes (in KB) for each test. As expected,
lazy-loading has a very clear positive effect on reducing the number of image bytes. If a real user
were to scroll the entire page down, all images would load anyway as they cross into the viewport,
but these results show the improved performance of the initial page load.&lt;/p&gt;
&lt;p&gt;To summarize the results of the A/B test, the lazy-loading technique used by WordPress very clearly
helps reduce image bytes but at the cost of a delayed LCP.&lt;/p&gt;
&lt;h2 id=&quot;testing-a-fix&quot;&gt;Testing a fix &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/lcp-lazy-loading/#testing-a-fix&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Before we get into how the fix was implemented, let&#39;s look at how lazy-loading works in WordPress
today. The most important aspect of the current implementation is that it lazy-loads images above
the fold (within the viewport). The CMS blog post
&lt;a href=&quot;https://web.dev/browser-level-lazy-loading-for-cmss/#avoid-lazy-loading-above-the-fold-elements&quot;&gt;acknowledges&lt;/a&gt;
this as a pattern to avoid, but experimental data at the time indicated that the effect on LCP was
minimal and worth simplifying the implementation in WordPress core.&lt;/p&gt;
&lt;p&gt;Given this new data, we created an experimental fix that avoids lazy-loading images that are above
the fold and we tested it under the same conditions as the first A/B test.&lt;/p&gt;
&lt;div class=&quot;w-table-wrapper&quot;&gt;
  &lt;table&gt;
    &lt;thead&gt;
      &lt;tr&gt;
        &lt;th&gt;Series&lt;/th&gt;
        &lt;th&gt;default&lt;/th&gt;
        &lt;th&gt;disabled&lt;/th&gt;
        &lt;th&gt;fix&lt;/th&gt;
        &lt;th&gt;Difference from default&lt;/th&gt;
        &lt;th&gt;Difference from disabled&lt;/th&gt;
      &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;a href=&quot;https://www.webpagetest.org/video/compare.php?medianMetric=chromeUserTiming.LargestContentfulPaint&amp;highlightLCP=1&amp;thumbSize=200&amp;ival=100&amp;end=visual&amp;tests=210625_BiDcQM_859caf47f070026732f4da3f70b8afe3-l:fix,210625_BiDcPT_2b89f12170b7180acf06cb35d3125d6a-l:disabled,210625_AiDc28_df202856ac4f0da4748c7a84a7a455a8-l:default&quot;&gt;twentytwentyone-archive-desktop&lt;/a&gt;&lt;/td&gt;
        &lt;td style=&quot;text-align: right;&quot;&gt;2,029&lt;/td&gt;
        &lt;td style=&quot;text-align: right;&quot;&gt;1,759&lt;/td&gt;
        &lt;td style=&quot;text-align: right;&quot;&gt;1,749&lt;/td&gt;
        &lt;td style=&quot;text-align: right; background-color: #8bd0ae;&quot;&gt;-14%&lt;/td&gt;
        &lt;td style=&quot;text-align: right; background-color: #fafdfb;&quot;&gt;-1%&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;a href=&quot;https://www.webpagetest.org/video/compare.php?medianMetric=chromeUserTiming.LargestContentfulPaint&amp;highlightLCP=1&amp;thumbSize=200&amp;ival=100&amp;end=visual&amp;tests=210625_BiDcV5_003a2ee20d6ee7323fca102afe3ef511-l:fix,210625_BiDcET_810fe76322f8a6003c38f0bc901e4025-l:disabled,210625_BiDc99_44b0562e9077eb01e1e18dceec69bca9-l:default&quot;&gt;twentytwentyone-archive-mobile&lt;/a&gt;&lt;/td&gt;
        &lt;td style=&quot;text-align: right;&quot;&gt;1,657&lt;/td&gt;
        &lt;td style=&quot;text-align: right;&quot;&gt;1,403&lt;/td&gt;
        &lt;td style=&quot;text-align: right;&quot;&gt;1,352&lt;/td&gt;
        &lt;td style=&quot;text-align: right; background-color: #64c093;&quot;&gt;-18%&lt;/td&gt;
        &lt;td style=&quot;text-align: right; background-color: #e0f2e9;&quot;&gt;-4%&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;a href=&quot;https://www.webpagetest.org/video/compare.php?medianMetric=chromeUserTiming.LargestContentfulPaint&amp;highlightLCP=1&amp;thumbSize=200&amp;ival=100&amp;end=visual&amp;tests=210625_AiDcR8_47e248c3211951b7af3bc9a87f205cc7-l:fix,210625_AiDcXB_3d9db18bf36397fcdc5d3db207d0d9e7-l:disabled,210625_AiDc2G_ee59429fac9a388b2184758078610b61-l:default&quot;&gt;twentytwentyone-single-desktop&lt;/a&gt;&lt;/td&gt;
        &lt;td style=&quot;text-align: right;&quot;&gt;1,655&lt;/td&gt;
        &lt;td style=&quot;text-align: right;&quot;&gt;1,726&lt;/td&gt;
        &lt;td style=&quot;text-align: right;&quot;&gt;1,676&lt;/td&gt;
        &lt;td style=&quot;text-align: right; background-color: #fef7f7;&quot;&gt;1%&lt;/td&gt;
        &lt;td style=&quot;text-align: right; background-color: #e6f5ee;&quot;&gt;-3%&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;a href=&quot;https://www.webpagetest.org/video/compare.php?medianMetric=chromeUserTiming.LargestContentfulPaint&amp;highlightLCP=1&amp;thumbSize=200&amp;ival=100&amp;end=visual&amp;tests=210625_BiDcR1_c349d38d4c7151772f2678fa7767ff42-l:fix,210625_AiDcD9_502bb504fc87aebafc5f8c9aaa70faa5-l:disabled,210625_BiDcPS_de2a3e5a526e470287d850d1dbc96fb7-l:default&quot;&gt;twentytwentyone-single-mobile&lt;/a&gt;&lt;/td&gt;
        &lt;td style=&quot;text-align: right;&quot;&gt;1,352&lt;/td&gt;
        &lt;td style=&quot;text-align: right;&quot;&gt;1,384&lt;/td&gt;
        &lt;td style=&quot;text-align: right;&quot;&gt;1,342&lt;/td&gt;
        &lt;td style=&quot;text-align: right; background-color: #f8fcfa;&quot;&gt;-1%&lt;/td&gt;
        &lt;td style=&quot;text-align: right; background-color: #e6f5ee;&quot;&gt;-3%&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/tbody&gt;
    &lt;caption&gt;Change in LCP (ms) by the proposed fix for native image lazy-loading on sample WordPress pages.&lt;/caption&gt;
  &lt;/table&gt;
&lt;/div&gt;
&lt;p&gt;These results are much more promising. Lazy-loading only the images below the fold results in a
complete reversal of the LCP regression and possibly even a slight &lt;em&gt;improvement&lt;/em&gt; over disabling LCP
entirely. How could it be faster than not lazy-loading at all? One explanation is that by not
loading below-the-fold images, there&#39;s less network contention with the LCP image, which enables it
to load more quickly.&lt;/p&gt;
&lt;div class=&quot;w-table-wrapper&quot;&gt;
  &lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Series&lt;/th&gt;
      &lt;th&gt;default&lt;/th&gt;
      &lt;th&gt;disabled&lt;/th&gt;
      &lt;th&gt;fix&lt;/th&gt;
      &lt;th&gt;Difference from default&lt;/th&gt;
      &lt;th&gt;Difference from disabled&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;a href=&quot;https://www.webpagetest.org/video/compare.php?medianMetric=chromeUserTiming.LargestContentfulPaint&amp;highlightLCP=1&amp;thumbSize=200&amp;ival=100&amp;end=visual&amp;tests=210625_BiDcQM_859caf47f070026732f4da3f70b8afe3-l:fix,210625_BiDcPT_2b89f12170b7180acf06cb35d3125d6a-l:disabled,210625_AiDc28_df202856ac4f0da4748c7a84a7a455a8-l:default&quot;&gt;twentytwentyone-archive-desktop&lt;/a&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right;&quot;&gt;577&lt;/td&gt;
      &lt;td style=&quot;text-align: right;&quot;&gt;1173&lt;/td&gt;
      &lt;td style=&quot;text-align: right;&quot;&gt;577&lt;/td&gt;
      &lt;td style=&quot;text-align: right;&quot;&gt;0%&lt;/td&gt;
      &lt;td style=&quot;text-align: right; background-color: #a9dcc3;&quot;&gt;-51%&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;a href=&quot;https://www.webpagetest.org/video/compare.php?medianMetric=chromeUserTiming.LargestContentfulPaint&amp;highlightLCP=1&amp;thumbSize=200&amp;ival=100&amp;end=visual&amp;tests=210625_BiDcV5_003a2ee20d6ee7323fca102afe3ef511-l:fix,210625_BiDcET_810fe76322f8a6003c38f0bc901e4025-l:disabled,210625_BiDc99_44b0562e9077eb01e1e18dceec69bca9-l:default&quot;&gt;twentytwentyone-archive-mobile&lt;/a&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right;&quot;&gt;172&lt;/td&gt;
      &lt;td style=&quot;text-align: right;&quot;&gt;378&lt;/td&gt;
      &lt;td style=&quot;text-align: right;&quot;&gt;172&lt;/td&gt;
      &lt;td style=&quot;text-align: right;&quot;&gt;0%&lt;/td&gt;
      &lt;td style=&quot;text-align: right; background-color: #a3d9bf;&quot;&gt;-54%&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;a href=&quot;https://www.webpagetest.org/video/compare.php?medianMetric=chromeUserTiming.LargestContentfulPaint&amp;highlightLCP=1&amp;thumbSize=200&amp;ival=100&amp;end=visual&amp;tests=210625_AiDcR8_47e248c3211951b7af3bc9a87f205cc7-l:fix,210625_AiDcXB_3d9db18bf36397fcdc5d3db207d0d9e7-l:disabled,210625_AiDc2G_ee59429fac9a388b2184758078610b61-l:default&quot;&gt;twentytwentyone-single-desktop&lt;/a&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right;&quot;&gt;301&lt;/td&gt;
      &lt;td style=&quot;text-align: right;&quot;&gt;850&lt;/td&gt;
      &lt;td style=&quot;text-align: right;&quot;&gt;301&lt;/td&gt;
      &lt;td style=&quot;text-align: right;&quot;&gt;0%&lt;/td&gt;
      &lt;td style=&quot;text-align: right; background-color: #92d3b3;&quot;&gt;-65%&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;a href=&quot;https://www.webpagetest.org/video/compare.php?medianMetric=chromeUserTiming.LargestContentfulPaint&amp;highlightLCP=1&amp;thumbSize=200&amp;ival=100&amp;end=visual&amp;tests=210625_BiDcR1_c349d38d4c7151772f2678fa7767ff42-l:fix,210625_AiDcD9_502bb504fc87aebafc5f8c9aaa70faa5-l:disabled,210625_BiDcPS_de2a3e5a526e470287d850d1dbc96fb7-l:default&quot;&gt;twentytwentyone-single-mobile&lt;/a&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right;&quot;&gt;114&lt;/td&gt;
      &lt;td style=&quot;text-align: right;&quot;&gt;378&lt;/td&gt;
      &lt;td style=&quot;text-align: right;&quot;&gt;114&lt;/td&gt;
      &lt;td style=&quot;text-align: right;&quot;&gt;0%&lt;/td&gt;
      &lt;td style=&quot;text-align: right; background-color: #89cfad;&quot;&gt;-70%&lt;/td&gt;
    &lt;/tr&gt;
    &lt;/tbody&gt;
    &lt;caption&gt;Change in the number of image bytes (KB) by the proposed fix for native image lazy-loading on sample WordPress pages.&lt;/caption&gt;
  &lt;/table&gt;
&lt;/div&gt;
&lt;p&gt;In terms of image bytes, the fix has absolutely no change as compared to the default behavior. This
is great because that was one of the strengths of the current approach.&lt;/p&gt;
&lt;p&gt;There are some caveats with this fix. WordPress determines which images to lazy-load on the
server-side, which means that it doesn&#39;t know anything about the user&#39;s viewport size or whether
images will initially load within it. So the fix uses heuristics about the images&#39; relative location
in the markup to guess whether it will be in the viewport. Specifically, if the image is the first
featured image on the page or the first image in the main content, it&#39;s assumed to be above the fold
(or close to it), and it will not be lazy-loaded. Page-level conditions like the number of words in
the heading or the amount of paragraph text early in the main content may affect whether the image
is within the viewport. There are also user-level conditions that may affect the accuracy of the
heuristics, especially the viewport size and the usage of anchor links that change the scroll
position of the page. For those reasons, it&#39;s important to acknowledge that the fix is only
calibrated to provide good performance in the general case and fine-tuning may be needed to make
these results applicable to all real-world scenarios.&lt;/p&gt;
&lt;h2 id=&quot;rolling-it-out&quot;&gt;Rolling it out &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/lcp-lazy-loading/#rolling-it-out&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Now that we&#39;ve identified a better way to lazy-load images, all of the image savings and faster LCP
performance, how can we get sites to start using it? The highest priority change is to submit a
patch to WordPress core to implement the experimental fix. We&#39;ll also be updating the guidance in
the &lt;a href=&quot;https://web.dev/browser-level-lazy-loading-for-cmss/&quot;&gt;Browser-level lazy-loading for CMSs&lt;/a&gt; blog
post to clarify the negative effects of above-the-fold lazy-loading and how CMSs can use heuristics
to avoid it.&lt;/p&gt;
&lt;p&gt;Since these best practices are applicable to all web developers, it may also be worth flagging
lazy-loading antipatterns in tools like Lighthouse. Refer to the &lt;a href=&quot;https://github.com/GoogleChrome/lighthouse/issues/12785&quot; rel=&quot;noopener&quot;&gt;feature
request&lt;/a&gt; on GitHub if you&#39;re interested to
follow along with progress on that audit. Until then, one thing developers could do to find
instances of LCP elements being lazy-loaded is to add more detailed logging to their field data.&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;webVitals&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getLCP&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;lcp&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; latestEntry &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; lcp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;entries&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;lcp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;entries&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;latestEntry&lt;span class=&quot;token operator&quot;&gt;?.&lt;/span&gt;element&lt;span class=&quot;token operator&quot;&gt;?.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getAttribute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#39;loading&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;lazy&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;warn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#39;Warning: LCP element was lazy loaded&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; latestEntry&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;p&gt;The JavaScript snippet above will evaluate the most recent LCP element and log a warning if it was
lazy-loaded.&lt;/p&gt;
&lt;p&gt;This also highlights a sharp edge of the lazy-loading technique and the potential for API
improvements at the platform level. For example, there&#39;s an open issue in Chromium to
&lt;a href=&quot;https://bugs.chromium.org/p/chromium/issues/detail?id=996963&quot; rel=&quot;noopener&quot;&gt;experiment&lt;/a&gt; with natively loading the
first few images eagerly, similar to the fix, despite the &lt;code&gt;loading&lt;/code&gt; attribute.&lt;/p&gt;
&lt;h2 id=&quot;wrapping-it-up&quot;&gt;Wrapping it up &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/lcp-lazy-loading/#wrapping-it-up&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;If your site uses native image lazy-loading, check how it&#39;s implemented and run A/B tests to better
understand its performance costs. It may benefit from more eagerly loading images above the fold. If
you have a WordPress site, there will hopefully be a patch landing in WordPress core soon. And if
you&#39;re using another CMS, make sure they&#39;re aware of the potential performance issues described
here.&lt;/p&gt;
&lt;p&gt;Trying out relatively new web platform APIs can come with both risks and rewards—they&#39;re called
cutting edge features for a reason. While we&#39;re starting to get a sense of the thorniness of native
image lazy-loading, we&#39;re also seeing the upsides of how to use it to achieve better performance.&lt;/p&gt;
&lt;p&gt;&lt;small&gt;&lt;em&gt;Photo by &lt;a href=&quot;https://unsplash.com/@frankielopez?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText&quot;&gt;Frankie Lopez&lt;/a&gt; on &lt;a href=&quot;https://unsplash.com/s/photos/prickly-pear?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText&quot;&gt;Unsplash&lt;/a&gt;&lt;/em&gt;&lt;/small&gt;&lt;/p&gt;
</content>
    <author>
      <name>Rick Viscomi</name>
    </author><author>
      <name>Felix Arntz</name>
    </author>
  </entry>
  
  <entry>
    <title>Find your way with field data in the Web Vitals extension update</title>
    <link href="https://web.dev/field-data-in-the-web-vitals-extension/"/>
    <updated>2021-07-02T00:00:00Z</updated>
    <id>https://web.dev/field-data-in-the-web-vitals-extension/</id>
    <content type="text/html" mode="escaped">&lt;p&gt;&lt;a href=&quot;https://web.dev/vitals&quot;&gt;Core Web Vitals&lt;/a&gt; are the most important metrics to measure to
understand your users&#39; experiences, because when users have good experiences,
&lt;a href=&quot;https://wpostats.com/&quot; rel=&quot;noopener&quot;&gt;good things happen&lt;/a&gt;! The &lt;a href=&quot;https://chrome.google.com/webstore/detail/web-vitals/ahfhijdlegdabablpippeagghigmibma?hl=en&quot; rel=&quot;noopener&quot;&gt;Web Vitals extension&lt;/a&gt;
for Chrome is one tool in the &lt;a href=&quot;https://web.dev/vitals-tools/&quot;&gt;Web Vitals toolbox&lt;/a&gt; that shows you
performance data about the pages you visit as you browse the web.&lt;/p&gt;
&lt;p&gt;Page performance depends on many factors, including hardware and network quality. How
you experience a page on your machine may be very different from how the majority of users
experience it. That&#39;s why version 1.0 of the Web Vitals extension includes a new feature
that integrates real-user data from the &lt;a href=&quot;https://web.dev/chrome-ux-report/&quot;&gt;Chrome UX Report&lt;/a&gt; (CrUX)
with your local Core Web Vitals measurements. This feature displays your local measurements
in the context of how other users have experienced the same pages. It comes with
a sparkly new UI and I&#39;m excited to show you how it works.&lt;/p&gt;
&lt;p&gt;&lt;video class=&quot;w-screenshot&quot; controls=&quot;&quot; height=&quot;493&quot; loop=&quot;&quot; muted=&quot;&quot; preload=&quot;auto&quot; width=&quot;800&quot;&gt;      &lt;source src=&quot;https://storage.googleapis.com/web-dev-uploads/video/STd8eW8CSiNp5B1bX0R6Dww2eH32/EFeVK6dAwBZWzKhqBd1Y.mp4&quot; type=&quot;video/mp4&quot; /&gt;    &lt;/video&gt;&lt;/p&gt;
&lt;h2 id=&quot;field-data-from-crux&quot;&gt;Field data from CrUX &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/field-data-in-the-web-vitals-extension/#field-data-from-crux&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;CrUX is a public dataset of real-user experiences in Chrome. It powers some of the critical tools
in the Core Web Vitals workflow like &lt;a href=&quot;https://support.google.com/webmasters/answer/9205520#about_data&quot; rel=&quot;noopener&quot;&gt;Search Console&lt;/a&gt;
and &lt;a href=&quot;https://developers.google.com/speed/docs/insights/v5/about#crux&quot; rel=&quot;noopener&quot;&gt;PageSpeed Insights&lt;/a&gt;.
The raw data for millions of websites is also publicly queryable in the &lt;a href=&quot;https://web.dev/chrome-ux-report-bigquery&quot;&gt;CrUX dataset on BigQuery&lt;/a&gt;
and the &lt;a href=&quot;https://web.dev/chrome-ux-report-api&quot;&gt;CrUX API&lt;/a&gt;. This Web Vitals extension update
integrates the page and origin-level desktop data from the CrUX API.&lt;/p&gt;
&lt;p&gt;User experience data is broken down into three qualitative ratings: good, needs improvement, and poor.
The thresholds used for each rating are documented in the guides for each of the Core Web Vitals
metrics: &lt;a href=&quot;https://web.dev/lcp/#what-is-lcp&quot;&gt;LCP&lt;/a&gt;, &lt;a href=&quot;https://web.dev/fid/#what-is-fid&quot;&gt;FID&lt;/a&gt;, and
&lt;a href=&quot;https://web.dev/cls/#what-is-a-good-cls-score&quot;&gt;CLS&lt;/a&gt;. So for example, the CrUX API can tell you that
16% of real-user experiences on a given page are evaluated as having good
&lt;span style=&quot;white-space: nowrap;&quot;&gt;LCP under 2.5&lt;/span&gt; seconds.&lt;/p&gt;
&lt;h2 id=&quot;new-extension-ui&quot;&gt;New extension UI &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/field-data-in-the-web-vitals-extension/#new-extension-ui&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
&lt;img alt=&quot;Screenshot of the Web Vitals extension showing an explanation of how the local LCP experience relates to real-user desktop data from the field.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;549&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/EaVNEuQ6gxVLtHYNkSZj.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/EaVNEuQ6gxVLtHYNkSZj.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/EaVNEuQ6gxVLtHYNkSZj.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/EaVNEuQ6gxVLtHYNkSZj.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/EaVNEuQ6gxVLtHYNkSZj.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/EaVNEuQ6gxVLtHYNkSZj.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/EaVNEuQ6gxVLtHYNkSZj.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/EaVNEuQ6gxVLtHYNkSZj.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/EaVNEuQ6gxVLtHYNkSZj.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/EaVNEuQ6gxVLtHYNkSZj.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/EaVNEuQ6gxVLtHYNkSZj.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/EaVNEuQ6gxVLtHYNkSZj.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/EaVNEuQ6gxVLtHYNkSZj.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/EaVNEuQ6gxVLtHYNkSZj.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/EaVNEuQ6gxVLtHYNkSZj.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/EaVNEuQ6gxVLtHYNkSZj.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/EaVNEuQ6gxVLtHYNkSZj.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/EaVNEuQ6gxVLtHYNkSZj.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;
    Screenshot of the Web Vitals extension showing an explanation of how the local LCP experience
    relates to real-user desktop data from the field.
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;In the new Web Vitals extension interface, your local experience is layered on
top of the broader distribution of real-user experiences. It&#39;s like when you&#39;re in an expansive
place like a shopping mall and there&#39;s a big map with all of the stores and a pin labeled
&amp;quot;YOU ARE HERE&amp;quot; to help you orient yourself and find where you&#39;re going.&lt;/p&gt;
&lt;p&gt;The distributions of real-user data from CrUX are laid out on a horizontal bar for each metric.
Your local experiences are displayed as single points on those horizontal bars. The position of
your local experience on the horizontal bar indicates where that experience falls relative to the
real-user distributions. This should make it immediately apparent when your local
experience is very different from other users&#39;. For example, if you have a slow LCP experience and
only 1% of users have similar experiences, something unusual must have happened.&lt;/p&gt;
&lt;h2 id=&quot;falling-back-to-origin-level-data&quot;&gt;Falling back to origin-level data &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/field-data-in-the-web-vitals-extension/#falling-back-to-origin-level-data&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
&lt;img alt=&quot;Screenshot of the Web Vitals extension showing origin-level desktop field data with &amp;quot;Waiting for input…&amp;quot; for the FID results.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;552&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/t5SmXUJqJadNsyOi26bb.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/t5SmXUJqJadNsyOi26bb.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/t5SmXUJqJadNsyOi26bb.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/t5SmXUJqJadNsyOi26bb.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/t5SmXUJqJadNsyOi26bb.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/t5SmXUJqJadNsyOi26bb.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/t5SmXUJqJadNsyOi26bb.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/t5SmXUJqJadNsyOi26bb.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/t5SmXUJqJadNsyOi26bb.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/t5SmXUJqJadNsyOi26bb.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/t5SmXUJqJadNsyOi26bb.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/t5SmXUJqJadNsyOi26bb.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/t5SmXUJqJadNsyOi26bb.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/t5SmXUJqJadNsyOi26bb.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/t5SmXUJqJadNsyOi26bb.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/t5SmXUJqJadNsyOi26bb.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/t5SmXUJqJadNsyOi26bb.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/t5SmXUJqJadNsyOi26bb.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;
    Screenshot of the Web Vitals extension showing origin-level desktop field data with
    &quot;Waiting for input…&quot; for the FID results.
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;Some pages don&#39;t have URL-level data in the CrUX dataset. This can happen
because the page is so new that it hasn&#39;t been picked up yet or because the page has insufficient
traffic to be included in the dataset. In cases like these, Web Vitals extension falls back to more
granular origin-level data whenever possible. This data represents the aggregate user experiences
on all pages of the website, so while it may not be immediately relevant to your particular page
experience, it should still offer some insight into how users experience the site as a whole.&lt;/p&gt;
&lt;p&gt;Another common case is to see a &amp;quot;Waiting for input…&amp;quot; message. This is because FID is the only
Core Web Vital that requires user interaction to be measured, so the extension won&#39;t have any local FID data
to show until you interact with the page.&lt;/p&gt;
&lt;h2 id=&quot;edge-cases&quot;&gt;Edge cases &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/field-data-in-the-web-vitals-extension/#edge-cases&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
&lt;img alt=&quot;Screenshot of the Web Vitals extension showing only local data; field data is unavailable.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;548&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/qt6fmKIjPNrUsckKiUfS.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/qt6fmKIjPNrUsckKiUfS.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/qt6fmKIjPNrUsckKiUfS.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/qt6fmKIjPNrUsckKiUfS.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/qt6fmKIjPNrUsckKiUfS.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/qt6fmKIjPNrUsckKiUfS.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/qt6fmKIjPNrUsckKiUfS.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/qt6fmKIjPNrUsckKiUfS.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/qt6fmKIjPNrUsckKiUfS.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/qt6fmKIjPNrUsckKiUfS.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/qt6fmKIjPNrUsckKiUfS.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/qt6fmKIjPNrUsckKiUfS.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/qt6fmKIjPNrUsckKiUfS.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/qt6fmKIjPNrUsckKiUfS.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/qt6fmKIjPNrUsckKiUfS.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/qt6fmKIjPNrUsckKiUfS.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/qt6fmKIjPNrUsckKiUfS.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/qt6fmKIjPNrUsckKiUfS.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;
    Screenshot of the Web Vitals extension showing only local data; field data is unavailable.
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;There are some less common edge cases that you may run into while using the extension.&lt;/p&gt;
&lt;p&gt;It can happen that entire origins have insufficient data. In that case, the extension will just show you
how your local experiences performed.&lt;/p&gt;
&lt;p&gt;How you interact with the page may also affect the relevance of the data. For example, loading the
page in a background tab will count against the LCP metric the entire time until you foreground the page.
If it takes you 90 seconds to switch to the tab, the LCP might appear as 91.5 seconds. When this happens, a little
warning icon will appear next to your LCP value to warn you of the artificial inflation. Note that
these kinds of irrelevant LCP values are ignored in the CrUX dataset.&lt;/p&gt;
&lt;p&gt;One last edge case to be aware of is specific to FID. Because it depends on user interactions, that makes it
less likely to be available in the dataset for pages and websites with fewer page views. So if you&#39;re
visiting a page like that, you may only see field data for LCP and CLS. It&#39;s worth noting for the
sake of completeness that the same could happen for LCP or CLS in extremely rare situations, but
this issue is predominantly affected by FID.&lt;/p&gt;
&lt;h2 id=&quot;comparing-field-data-from-phones&quot;&gt;Comparing field data from phones &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/field-data-in-the-web-vitals-extension/#comparing-field-data-from-phones&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
&lt;img alt=&quot;Screenshot of the Web Vitals extension showing local metrics compared to phone field data.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;556&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/0K0g0TD22jdNZpSe3s3p.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/0K0g0TD22jdNZpSe3s3p.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/0K0g0TD22jdNZpSe3s3p.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/0K0g0TD22jdNZpSe3s3p.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/0K0g0TD22jdNZpSe3s3p.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/0K0g0TD22jdNZpSe3s3p.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/0K0g0TD22jdNZpSe3s3p.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/0K0g0TD22jdNZpSe3s3p.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/0K0g0TD22jdNZpSe3s3p.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/0K0g0TD22jdNZpSe3s3p.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/0K0g0TD22jdNZpSe3s3p.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/0K0g0TD22jdNZpSe3s3p.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/0K0g0TD22jdNZpSe3s3p.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/0K0g0TD22jdNZpSe3s3p.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/0K0g0TD22jdNZpSe3s3p.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/0K0g0TD22jdNZpSe3s3p.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/0K0g0TD22jdNZpSe3s3p.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/STd8eW8CSiNp5B1bX0R6Dww2eH32/0K0g0TD22jdNZpSe3s3p.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;
    Screenshot of the Web Vitals extension showing local metrics compared to phone field data.
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;By default, all of the data in the Web Vitals extension corresponds to real desktop users&#39;
experiences from the field. After all, this extension is only available on desktop versions of
Chrome, so it&#39;d be most relevant to see how users under similar conditions experience the
page or origin.&lt;/p&gt;
&lt;p&gt;It&#39;s important to understand phone users&#39; experiences too, so the extension has an advanced setting on
the Options page that lets you see how your local experience compares to phone data from the field.&lt;/p&gt;
&lt;p&gt;To enable phone data in the extension, follow these steps:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Right click on the extension icon in the toolbar and select &lt;strong&gt;Options&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Check the &lt;strong&gt;Compare local experiences to phone field data&lt;/strong&gt; option.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The UI will update in a few places to indicate which mode you&#39;re in. Be aware that real phone
users&#39; experiences can be &lt;em&gt;very different&lt;/em&gt; from that of desktop users, so use this feature with discretion.&lt;/p&gt;
&lt;h2 id=&quot;get-the-web-vitals-extension&quot;&gt;Get the Web Vitals extension &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/field-data-in-the-web-vitals-extension/#get-the-web-vitals-extension&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;To start using the latest version of the Web Vitals extension, head over to the
&lt;a href=&quot;https://chrome.google.com/webstore/detail/web-vitals/ahfhijdlegdabablpippeagghigmibma?hl=en&quot; rel=&quot;noopener&quot;&gt;Chrome Web Store&lt;/a&gt;
to install it. Or if you&#39;re an existing user of the extension, you should be upgraded to
version 1.0 automatically. If you have any feedback about your experience with the extension
(feature requests, bug reports, anything), let us know in the
&lt;a href=&quot;https://github.com/GoogleChrome/web-vitals-extension&quot; rel=&quot;noopener&quot;&gt;open-source repository&lt;/a&gt; on GitHub.
I hope it helps you better understand where your local experiences are in relation to other
real users from the field!&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Image credit: Mark Garlick/Science Photo Library/Getty Images&lt;/em&gt;&lt;/p&gt;
</content>
    <author>
      <name>Rick Viscomi</name>
    </author>
  </entry>
  
  <entry>
    <title>Using the Chrome UX Report to look at performance in the field</title>
    <link href="https://web.dev/chrome-ux-report/"/>
    <updated>2020-07-13T00:00:00Z</updated>
    <id>https://web.dev/chrome-ux-report/</id>
    <content type="text/html" mode="escaped">&lt;p&gt;The &lt;a href=&quot;https://developers.google.com/web/tools/chrome-user-experience-report/&quot; rel=&quot;noopener&quot;&gt;Chrome UX Report&lt;/a&gt; (informally known as CrUX) is a public dataset of real user experience data on millions of websites. Unlike lab data, CrUX data actually comes from &lt;a href=&quot;https://developers.google.com/web/tools/chrome-user-experience-report/#methodology&quot; rel=&quot;noopener&quot;&gt;opted-in users&lt;/a&gt; in the field. It measures the &lt;a href=&quot;https://web.dev/vitals/&quot;&gt;Core Web Vitals&lt;/a&gt; metrics, including Largest Contentful Paint (LCP), First Input Delay (FID), and Cumulative Layout Shift (CLS), as well as diagnostic metrics like Time to First Byte (TTFB) and First Contentful Paint (FCP).&lt;/p&gt;
&lt;p&gt;The dataset also contains qualitative dimensions
about the user experience, for example, the device and connection types, which
enables drilling down into user experiences grouped by similar technologies.
See the
&lt;a href=&quot;https://developers.google.com/web/tools/chrome-user-experience-report/#metrics&quot; rel=&quot;noopener&quot;&gt;CrUX documentation&lt;/a&gt;
for the full list of metrics.&lt;/p&gt;
&lt;p&gt;Using this data, developers are able to understand the wide distribution of real
world user experiences between websites, segments of the web, or the web as a
whole. This is a big deal! The Chrome UX Report dataset is the first of its kind
to enable web developers to compare their real user performance against the
competition and industry.&lt;/p&gt;
&lt;h2 id=&quot;how-to-use-it&quot;&gt;How to use it &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report/#how-to-use-it&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;There are four primary ways to extract insights from the Chrome UX Report,
ranging in complexity. For quick and easy analysis of website performance, the &lt;a href=&quot;http://g.co/chromeuxdash&quot; rel=&quot;noopener&quot;&gt;CrUX Dashboard&lt;/a&gt; and
&lt;a href=&quot;https://developers.google.com/speed/pagespeed/insights/&quot; rel=&quot;noopener&quot;&gt;PageSpeed Insights&lt;/a&gt;
are the recommended tools. &lt;a href=&quot;https://console.cloud.google.com/bigquery?p=chrome-ux-report&quot; rel=&quot;noopener&quot;&gt;BigQuery&lt;/a&gt;
trades some of the simplicity of the analysis for the power of customization
and more granular insights. And the &lt;a href=&quot;https://developers.google.com/web/tools/chrome-user-experience-report/api/reference&quot; rel=&quot;noopener&quot;&gt;API&lt;/a&gt; enables the integration of high-level data with other applications.&lt;/p&gt;
&lt;h3 id=&quot;crux-dashboard&quot;&gt;CrUX Dashboard &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report/#crux-dashboard&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;The &lt;a href=&quot;http://g.co/chromeuxdash&quot; rel=&quot;noopener&quot;&gt;CrUX Dashboard&lt;/a&gt; is a customizable data
visualization tool of websites&#39; historical performance built on
&lt;a href=&quot;https://marketingplatform.google.com/about/data-studio/&quot; rel=&quot;noopener&quot;&gt;Data Studio&lt;/a&gt;.
The data is sourced from the BigQuery dataset and all of the SQL queries are
handled for you under the hood. The dashboard shows the distribution of user
experiences, as captured by key performance metrics, and how it changes over
time. It also shows how the distributions of qualitative metrics like device
type and effective connection type change over time. Try the
&lt;a href=&quot;https://web.dev/chrome-ux-report-data-studio-dashboard&quot;&gt;Data Studio Dashboard guide&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;pagespeed-insights&quot;&gt;PageSpeed Insights &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report/#pagespeed-insights&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://developers.google.com/speed/pagespeed/insights/&quot; rel=&quot;noopener&quot;&gt;PageSpeed Insights&lt;/a&gt;
(PSI) shows the most recent performance distributions broken down by desktop and
mobile users. Performance data is available for individual web pages
(in addition to entire origins) and is aggregated for the most recent 28 days of
data (as opposed to the previous calendar month on BigQuery). Using this tool is
as easy as entering a URL or origin in the search box on the web interface, and
the field performance data is displayed alongside prescriptive suggestions to
optimize the page. Try the
&lt;a href=&quot;https://web.dev/chrome-ux-report-pagespeed-insights&quot;&gt;PageSpeed Insights guide&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;crux-on-bigquery&quot;&gt;CrUX on BigQuery &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report/#crux-on-bigquery&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;The CrUX database on &lt;a href=&quot;https://console.cloud.google.com/bigquery?p=chrome-ux-report&quot; rel=&quot;noopener&quot;&gt;BigQuery&lt;/a&gt;,
part of the Google Cloud Platform (GCP) with a web and command line interface,
hosts the raw data that aggregates key UX performance metrics for top origins
on the web. New tables are periodically added to the database covering the
previous calendar month. Developers can handcraft queries to mine the dataset
for specific insights. BigQuery requires knowledge of SQL and a GCP project with
billing enabled to run the queries. This is an especially useful tool for power
users who require low-level access to the data to create custom reports,
benchmarks, and reports about the state of the web. Try the
&lt;a href=&quot;https://web.dev/chrome-ux-report-bigquery&quot;&gt;BigQuery guide&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;crux-api&quot;&gt;CrUX API &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report/#crux-api&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;The CrUX API is a free and RESTful interface for looking up origin or URL-level user experience data. The data is updated daily and aggregates the previous 28 days of data, similar to PageSpeed Insights. You can use this API to build your own applications on top of the real-user experience data in CrUX. Try the &lt;a href=&quot;https://web.dev/chrome-ux-report-api&quot;&gt;CrUX API&lt;/a&gt; guide.&lt;/p&gt;
&lt;h2 id=&quot;how-to-get-help&quot;&gt;How to get help &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report/#how-to-get-help&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;If you need any kind of support, there are a few channels to reach someone who
can help. The
&lt;a href=&quot;https://groups.google.com/a/chromium.org/forum/#!forum/chrome-ux-report&quot; rel=&quot;noopener&quot;&gt;CrUX Google Group&lt;/a&gt;
is a public forum for users of the dataset to ask questions and share analyses.
There is also a
&lt;a href=&quot;https://stackoverflow.com/questions/tagged/chrome-ux-report&quot; rel=&quot;noopener&quot;&gt;CrUX tag for Stack Overflow&lt;/a&gt;
if you need programming help with SQL or API access. And finally,
&lt;a href=&quot;https://twitter.com/ChromeUXReport&quot; rel=&quot;noopener&quot;&gt;@ChromeUXReport&lt;/a&gt; is the Twitter account you
can follow to ask questions and listen for product announcements.&lt;/p&gt;
&lt;h2 id=&quot;see-it-in-action&quot;&gt;See it in action &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report/#see-it-in-action&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;In order to get more acquainted with the available data, walk through
step-by-step guides for using BigQuery, Data Studio Dashboard, and PageSpeed
Insights:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://web.dev/chrome-ux-report-data-studio-dashboard&quot;&gt;CrUX: Data Studio Dashboard&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://web.dev/chrome-ux-report-pagespeed-insights&quot;&gt;CrUX: PageSpeed Insights&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://web.dev/chrome-ux-report-bigquery&quot;&gt;CrUX: BigQuery&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://web.dev/chrome-ux-report-api&quot;&gt;CrUX: API&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    <author>
      <name>Rick Viscomi</name>
    </author>
  </entry>
  
  <entry>
    <title>Using the Chrome UX Report API</title>
    <link href="https://web.dev/chrome-ux-report-api/"/>
    <updated>2020-06-25T00:00:00Z</updated>
    <id>https://web.dev/chrome-ux-report-api/</id>
    <content type="text/html" mode="escaped">&lt;p&gt;The &lt;a href=&quot;https://developers.google.com/web/tools/chrome-user-experience-report&quot; rel=&quot;noopener&quot;&gt;Chrome UX Report&lt;/a&gt; (CrUX) dataset represents how real-world Chrome users experience popular destinations on the web. Since 2017, when the queryable dataset was first released on &lt;a href=&quot;https://web.dev/chrome-ux-report-bigquery/&quot;&gt;BigQuery&lt;/a&gt;, field data from CrUX has been integrated into developer tools like &lt;a href=&quot;https://web.dev/chrome-ux-report-pagespeed-insights/&quot;&gt;PageSpeed Insights&lt;/a&gt;, the &lt;a href=&quot;https://web.dev/chrome-ux-report-data-studio-dashboard/&quot;&gt;CrUX Dashboard&lt;/a&gt;, and Search Console&#39;s &lt;a href=&quot;https://support.google.com/webmasters/answer/9205520&quot; rel=&quot;noopener&quot;&gt;Core Web Vitals report&lt;/a&gt;, enabling developers to easily measure and monitor real-user experiences. The piece that has been missing all this time has been a tool that provides free and RESTful access to CrUX data programmatically. To help bridge that gap, we&#39;re excited to announce the release of the all new &lt;a href=&quot;https://developers.google.com/web/tools/chrome-user-experience-report/api/reference&quot; rel=&quot;noopener&quot;&gt;Chrome UX Report API&lt;/a&gt;!&lt;/p&gt;
&lt;p&gt;This API has been built with the goal of providing developers with simple, fast, and comprehensive access to CrUX data. The CrUX API only reports &lt;a href=&quot;https://web.dev/how-to-measure-speed/#lab-data-vs-field-data&quot;&gt;&lt;em&gt;field&lt;/em&gt;&lt;/a&gt; user experience data, unlike the existing &lt;a href=&quot;https://developers.google.com/speed/docs/insights/v5/get-started&quot; rel=&quot;noopener&quot;&gt;PageSpeed Insights API&lt;/a&gt;, which also reports &lt;em&gt;lab&lt;/em&gt; data from the Lighthouse performance audits. The CrUX API is streamlined and can quickly serve user experience data, making it ideally suited for real-time auditing applications.&lt;/p&gt;
&lt;p&gt;To ensure that developers have access to all of the metrics that matter the most—the &lt;a href=&quot;https://web.dev/vitals/#core-web-vitals&quot;&gt;Core Web Vitals&lt;/a&gt;—the CrUX API audits and monitors &lt;a href=&quot;https://web.dev/lcp/&quot;&gt;Largest Contentful Paint&lt;/a&gt; (LCP), &lt;a href=&quot;https://web.dev/fid/&quot;&gt;First Input Delay&lt;/a&gt; (FID), and &lt;a href=&quot;https://web.dev/cls/&quot;&gt;Cumulative Layout Shift&lt;/a&gt; (CLS) at both the origin and URL level.&lt;/p&gt;
&lt;p&gt;So let&#39;s dive in and see how to use it!&lt;/p&gt;
&lt;h2 id=&quot;querying-origin-data&quot;&gt;Querying origin data &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report-api/#querying-origin-data&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Origins in the CrUX dataset encompass all underlying page-level experiences. The example below demonstrates how to query the CrUX API for an origin&#39;s user experience data using cURL on the command line.&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;mark class=&quot;highlight-line highlight-line-active&quot;&gt;&lt;span class=&quot;token assign-left variable&quot;&gt;API_KEY&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;[YOUR_API_KEY]&quot;&lt;/span&gt;&lt;/mark&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://chromeuxreport.googleapis.com/v1/records:queryRecord?key=&lt;span class=&quot;token variable&quot;&gt;$API_KEY&lt;/span&gt;&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  --header &lt;span class=&quot;token string&quot;&gt;&#39;Content-Type: application/json&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;mark class=&quot;highlight-line highlight-line-active&quot;&gt;  --data &lt;span class=&quot;token string&quot;&gt;&#39;{&quot;origin&quot;: &quot;https://web.dev&quot;}&#39;&lt;/span&gt;&lt;/mark&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;p&gt;Run this query interactively in the &lt;a href=&quot;https://developers.google.com/web/tools/chrome-user-experience-report/api/reference/rest/v1/records/queryRecord?apix=true&amp;amp;apix_params=%7B%22resource%22%3A%7B%22origin%22%3A%22https%3A%2F%2Fwww.google.com%22%7D%7D&quot; rel=&quot;noopener&quot;&gt;CrUX API explorer&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;w-aside w-aside--note&quot;&gt;
&lt;p&gt;All API requests must provide a value for the &lt;code&gt;key&lt;/code&gt; parameter—&lt;code&gt;[YOUR_API_KEY]&lt;/code&gt; in the example above is left as a placeholder. Get your own private CrUX API key at the click of a button in the official &lt;a href=&quot;https://goo.gle/crux-api-key&quot; rel=&quot;noopener&quot;&gt;CrUX API documentation&lt;/a&gt;. For convenience, the interactive &lt;a href=&quot;https://developers.google.com/web/tools/chrome-user-experience-report/api/reference/rest/v1/records/queryRecord?apix=true&quot; rel=&quot;noopener&quot;&gt;CrUX API explorer&lt;/a&gt; does not require an API key.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;The &lt;code&gt;curl&lt;/code&gt; command is made up of three parts:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The URL endpoint of the API, including the caller&#39;s private API key.&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;Content-Type: application/json&lt;/code&gt; header, indicating that the request body contains JSON.&lt;/li&gt;
&lt;li&gt;The JSON-encoded &lt;a href=&quot;https://developers.google.com/web/tools/chrome-user-experience-report/api/reference/rest/v1/records/queryRecord#request-body&quot; rel=&quot;noopener&quot;&gt;request body&lt;/a&gt;, specifying the &lt;code&gt;https://web.dev&lt;/code&gt; origin.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;To do the same thing in JavaScript, use the &lt;a name=&quot;crux-api-util&quot;&gt;&lt;code&gt;CrUXApiUtil&lt;/code&gt;&lt;/a&gt; utility, which makes the API call and returns the decoded response.&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; CrUXApiUtil &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Get your CrUX API key at https://goo.gle/crux-api-key.&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;mark class=&quot;highlight-line highlight-line-active&quot;&gt;CrUXApiUtil&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;API_KEY&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;[YOUR_API_KEY]&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/mark&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;CrUXApiUtil&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;API_ENDPOINT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;https://chromeuxreport.googleapis.com/v1/records:queryRecord?key=&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;CrUXApiUtil&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;API_KEY&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;CrUXApiUtil&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;requestBody&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;CrUXApiUtil&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;API_KEY&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;[YOUR_API_KEY]&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;Replace &quot;YOUR_API_KEY&quot; with your private CrUX API key. Get a key at https://goo.gle/crux-api-key.&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fetch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;CrUXApiUtil&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;API_ENDPOINT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    method&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;POST&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    body&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;requestBody&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;response&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;response&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; Promise&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;p&gt;Replace &lt;code&gt;[YOUR_API_KEY]&lt;/code&gt; with your &lt;a href=&quot;https://goo.gle/crux-api-key&quot; rel=&quot;noopener&quot;&gt;key&lt;/a&gt;. Next, call the &lt;code&gt;CrUXApiUtil.query&lt;/code&gt; function and pass in the &lt;a href=&quot;https://developers.google.com/web/tools/chrome-user-experience-report/api/reference/rest/v1/records/queryRecord#request-body&quot; rel=&quot;noopener&quot;&gt;request body&lt;/a&gt; object.&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;highlight-line&quot;&gt;CrUXApiUtil&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;mark class=&quot;highlight-line highlight-line-active&quot;&gt;  origin&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;https://web.dev&#39;&lt;/span&gt;&lt;/mark&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;response&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;response&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;p&gt;If data exists for this origin, the API response is a JSON-encoded object containing &lt;a href=&quot;https://developers.google.com/web/tools/chrome-user-experience-report/api/reference/rest/v1/Metric&quot; rel=&quot;noopener&quot;&gt;metrics&lt;/a&gt; representing the distribution of user experiences. The distribution metrics are histogram bins and percentiles.&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  &lt;span class=&quot;token property&quot;&gt;&quot;record&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;      &lt;span class=&quot;token property&quot;&gt;&quot;origin&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://web.dev&quot;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;metrics&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;      &lt;span class=&quot;token property&quot;&gt;&quot;largest_contentful_paint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;        &lt;span class=&quot;token property&quot;&gt;&quot;histogram&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;            &lt;span class=&quot;token property&quot;&gt;&quot;start&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;            &lt;span class=&quot;token property&quot;&gt;&quot;end&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2500&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;mark class=&quot;highlight-line highlight-line-active&quot;&gt;            &lt;span class=&quot;token property&quot;&gt;&quot;density&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.7925068547983514&lt;/span&gt;&lt;/mark&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;            &lt;span class=&quot;token property&quot;&gt;&quot;start&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2500&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;            &lt;span class=&quot;token property&quot;&gt;&quot;end&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;            &lt;span class=&quot;token property&quot;&gt;&quot;density&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.1317422195536863&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;            &lt;span class=&quot;token property&quot;&gt;&quot;start&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;            &lt;span class=&quot;token property&quot;&gt;&quot;density&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.07575092564795324&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;        &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;        &lt;span class=&quot;token property&quot;&gt;&quot;percentiles&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;mark class=&quot;highlight-line highlight-line-active&quot;&gt;          &lt;span class=&quot;token property&quot;&gt;&quot;p75&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2216&lt;/span&gt;&lt;/mark&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;      &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;p&gt;The &lt;code&gt;start&lt;/code&gt; and &lt;code&gt;end&lt;/code&gt; properties of the &lt;code&gt;histogram&lt;/code&gt; object represent the range of values users experience for the given metric. The &lt;code&gt;density&lt;/code&gt; property represents the proportion of user experiences within that range. In this example, 79% of LCP user experiences across all web.dev pages are under 2,500 milliseconds, which is the &amp;quot;&lt;a href=&quot;https://web.dev/lcp/#what-is-lcp&quot;&gt;good&lt;/a&gt;&amp;quot; LCP threshold. The &lt;code&gt;percentiles.p75&lt;/code&gt; value means that 75% of user experiences in this distribution are less than 2,216 milliseconds. Learn more about the response structure in the &lt;a href=&quot;https://developers.google.com/web/tools/chrome-user-experience-report/api/reference/rest/v1/records/queryRecord#response-body&quot; rel=&quot;noopener&quot;&gt;response body&lt;/a&gt; documentation.&lt;/p&gt;
&lt;h3 id=&quot;errors&quot;&gt;Errors &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report-api/#errors&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;When the CrUX API doesn&#39;t have any data for a given origin, it responds with a JSON-encoded error message:&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token property&quot;&gt;&quot;error&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;code&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;404&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;chrome ux report data not found&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;status&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;NOT_FOUND&quot;&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;p&gt;To debug this error, first check that the requested origin is publicly navigable. You can test this by entering the origin into your browser&#39;s URL bar and comparing it against the final URL after any redirects. Common problems include unnecessarily adding or omitting the subdomain and using the wrong HTTP protocol.&lt;/p&gt;
&lt;figure class=&quot;w-compare&quot;&gt;&lt;p class=&quot;w-compare__label w-compare__label--worse&quot;&gt;Error&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;&quot;origin&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http://www.web.dev&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;figcaption class=&quot;w-compare__caption&quot;&gt;
&lt;p&gt;This origin incorrectly includes the &lt;code&gt;http://&lt;/code&gt; protocol and &lt;code&gt;www.&lt;/code&gt; subdomain.&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;figure class=&quot;w-compare&quot;&gt;&lt;p class=&quot;w-compare__label w-compare__label--better&quot;&gt;Success&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;&quot;origin&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://web.dev&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;figcaption class=&quot;w-compare__caption&quot;&gt;
&lt;p&gt;This origin is publicly navigable.&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;If the requested origin &lt;em&gt;is&lt;/em&gt; the navigable version, this error may also occur if the origin has an insufficient number of samples. All origins and URLs included in the dataset must have a sufficient number of samples to anonymize individual users. Additionally, origins and URLs must be &lt;a href=&quot;https://developers.google.com/search/reference/robots_txt&quot; rel=&quot;noopener&quot;&gt;publicly crawlable&lt;/a&gt;. Refer to the &lt;a href=&quot;https://developers.google.com/web/tools/chrome-user-experience-report#methodology&quot; rel=&quot;noopener&quot;&gt;CrUX methodology&lt;/a&gt; to learn more about how websites are included in the dataset.&lt;/p&gt;
&lt;h2 id=&quot;querying-url-data&quot;&gt;Querying URL data &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report-api/#querying-url-data&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;You&#39;ve seen how to query the CrUX API for the overall user experience on an origin. To restrict the results to a particular page, use the &lt;code&gt;url&lt;/code&gt; request parameter.&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;mark class=&quot;highlight-line highlight-line-active&quot;&gt;&lt;span class=&quot;token assign-left variable&quot;&gt;API_KEY&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;[YOUR_API_KEY]&quot;&lt;/span&gt;&lt;/mark&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://chromeuxreport.googleapis.com/v1/records:queryRecord?key=&lt;span class=&quot;token variable&quot;&gt;$API_KEY&lt;/span&gt;&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  --header &lt;span class=&quot;token string&quot;&gt;&#39;Content-Type: application/json&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;mark class=&quot;highlight-line highlight-line-active&quot;&gt;  --data &lt;span class=&quot;token string&quot;&gt;&#39;{&quot;url&quot;: &quot;https://web.dev/fast/&quot;}&#39;&lt;/span&gt;&lt;/mark&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;p&gt;This cURL command is similar to the origin example, except that the request body uses the &lt;code&gt;url&lt;/code&gt; parameter to specify the page to look up.&lt;/p&gt;
&lt;p&gt;To query URL data from the CrUX API in JavaScript, call the &lt;a href=&quot;https://web.dev/chrome-ux-report-api/#crux-api-util&quot;&gt;&lt;code&gt;CrUXApiUtil.query&lt;/code&gt;&lt;/a&gt; function using the &lt;code&gt;url&lt;/code&gt; parameter in the request body.&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;highlight-line&quot;&gt;CrUXApiUtil&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;mark class=&quot;highlight-line highlight-line-active&quot;&gt;  url&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;https://web.dev/fast/&#39;&lt;/span&gt;&lt;/mark&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;response&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;response&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;p&gt;If data for this URL exists in the CrUX dataset, the API will return a JSON-encoded response like the one below.&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  &lt;span class=&quot;token property&quot;&gt;&quot;record&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;      &lt;span class=&quot;token property&quot;&gt;&quot;url&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://web.dev/fast/&quot;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;metrics&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;      &lt;span class=&quot;token property&quot;&gt;&quot;largest_contentful_paint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;        &lt;span class=&quot;token property&quot;&gt;&quot;histogram&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;            &lt;span class=&quot;token property&quot;&gt;&quot;start&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;            &lt;span class=&quot;token property&quot;&gt;&quot;end&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2500&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;mark class=&quot;highlight-line highlight-line-active&quot;&gt;            &lt;span class=&quot;token property&quot;&gt;&quot;density&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.8477304539092148&lt;/span&gt;&lt;/mark&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;            &lt;span class=&quot;token property&quot;&gt;&quot;start&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2500&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;            &lt;span class=&quot;token property&quot;&gt;&quot;end&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;            &lt;span class=&quot;token property&quot;&gt;&quot;density&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.08988202359528057&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;            &lt;span class=&quot;token property&quot;&gt;&quot;start&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;            &lt;span class=&quot;token property&quot;&gt;&quot;density&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.062387522495501155&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;        &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;        &lt;span class=&quot;token property&quot;&gt;&quot;percentiles&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;mark class=&quot;highlight-line highlight-line-active&quot;&gt;          &lt;span class=&quot;token property&quot;&gt;&quot;p75&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1947&lt;/span&gt;&lt;/mark&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;      &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;p&gt;True to form, the results show that &lt;code&gt;https://web.dev/fast/&lt;/code&gt; has 85% &amp;quot;good&amp;quot; LCP experiences and a 75th percentile of 1,947 milliseconds, which is slightly better than the origin-wide distribution.&lt;/p&gt;
&lt;h3 id=&quot;url-normalization&quot;&gt;URL normalization &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report-api/#url-normalization&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;The CrUX API may normalize requested URLs to better match the list of known URLs. For example, querying for the URL &lt;code&gt;https://web.dev/fast/#measure-performance-in-the-field&lt;/code&gt; will result in data for &lt;code&gt;https://web.dev/fast/&lt;/code&gt; due to normalization. When this happens, a &lt;code&gt;urlNormalizationDetails&lt;/code&gt; object will be included in the response.&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  &lt;span class=&quot;token property&quot;&gt;&quot;record&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;      &lt;span class=&quot;token property&quot;&gt;&quot;url&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://web.dev/fast/&quot;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;metrics&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; ... &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  &lt;span class=&quot;token property&quot;&gt;&quot;urlNormalizationDetails&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;mark class=&quot;highlight-line highlight-line-active&quot;&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;normalizedUrl&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://web.dev/fast/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/mark&gt;&lt;br /&gt;&lt;mark class=&quot;highlight-line highlight-line-active&quot;&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;originalUrl&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://web.dev/fast/#measure-performance-in-the-field&quot;&lt;/span&gt;&lt;/mark&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;p&gt;Learn more about &lt;a href=&quot;https://developers.google.com/web/tools/chrome-user-experience-report/api/reference/rest/v1/records/queryRecord#urlnormalization&quot; rel=&quot;noopener&quot;&gt;URL normalization&lt;/a&gt; in the CrUX documentation.&lt;/p&gt;
&lt;h2 id=&quot;querying-by-form-factor&quot;&gt;Querying by form factor &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report-api/#querying-by-form-factor&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;div class=&quot;w-aside w-aside--key-term&quot;&gt;
&lt;p&gt;&lt;strong&gt;Key Term&lt;/strong&gt;:
A form factor is the type of device on which a user visits a website. Common device types include desktop, phone, and tablet.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;User experiences can vary significantly depending on website optimizations, network conditions, and users&#39; devices. To better understand these differences, drill down into origin and URL performance using the &lt;a href=&quot;https://developers.google.com/web/tools/chrome-user-experience-report/api/reference/rest/v1/records/queryRecord#formfactor&quot; rel=&quot;noopener&quot;&gt;&lt;code&gt;formFactor&lt;/code&gt;&lt;/a&gt; dimension of the CrUX API.&lt;/p&gt;
&lt;p&gt;The API supports three explicit form factor values: &lt;code&gt;DESKTOP&lt;/code&gt;, &lt;code&gt;PHONE&lt;/code&gt;, and &lt;code&gt;TABLET&lt;/code&gt;. In addition to the origin or URL, specify one of these values in the &lt;a href=&quot;https://developers.google.com/web/tools/chrome-user-experience-report/api/reference/rest/v1/records/queryRecord#request-body&quot; rel=&quot;noopener&quot;&gt;request body&lt;/a&gt; to restrict results to only those user experiences. The example below demonstrates how to query the API by form factor using cURL.&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;mark class=&quot;highlight-line highlight-line-active&quot;&gt;&lt;span class=&quot;token assign-left variable&quot;&gt;API_KEY&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;[YOUR_API_KEY]&quot;&lt;/span&gt;&lt;/mark&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://chromeuxreport.googleapis.com/v1/records:queryRecord?key=&lt;span class=&quot;token variable&quot;&gt;$API_KEY&lt;/span&gt;&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  --header &lt;span class=&quot;token string&quot;&gt;&#39;Content-Type: application/json&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;mark class=&quot;highlight-line highlight-line-active&quot;&gt;  --data &lt;span class=&quot;token string&quot;&gt;&#39;{&quot;url&quot;: &quot;https://web.dev/fast/&quot;, &quot;formFactor&quot;: &quot;PHONE&quot;}&#39;&lt;/span&gt;&lt;/mark&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;p&gt;To query the CrUX API for form factor-specific data using JavaScript, call the &lt;a href=&quot;https://web.dev/chrome-ux-report-api/#crux-api-util&quot;&gt;&lt;code&gt;CrUXApiUtil.query&lt;/code&gt;&lt;/a&gt; function using the &lt;code&gt;url&lt;/code&gt; and &lt;code&gt;formFactor&lt;/code&gt; parameters in the request body.&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;highlight-line&quot;&gt;CrUXApiUtil&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;mark class=&quot;highlight-line highlight-line-active&quot;&gt;  url&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;https://web.dev/fast/&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/mark&gt;&lt;br /&gt;&lt;mark class=&quot;highlight-line highlight-line-active&quot;&gt;  formFactor&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;PHONE&#39;&lt;/span&gt;&lt;/mark&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;response&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;response&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;p&gt;Omitting the &lt;code&gt;formFactor&lt;/code&gt; parameter is equivalent to requesting data for all form factors combined.&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  &lt;span class=&quot;token property&quot;&gt;&quot;record&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;      &lt;span class=&quot;token property&quot;&gt;&quot;url&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://web.dev/fast/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;      &lt;span class=&quot;token property&quot;&gt;&quot;formFactor&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;PHONE&quot;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;metrics&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;      &lt;span class=&quot;token property&quot;&gt;&quot;largest_contentful_paint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;        &lt;span class=&quot;token property&quot;&gt;&quot;histogram&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;            &lt;span class=&quot;token property&quot;&gt;&quot;start&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;mark class=&quot;highlight-line highlight-line-active&quot;&gt;            &lt;span class=&quot;token property&quot;&gt;&quot;end&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2500&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/mark&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;            &lt;span class=&quot;token property&quot;&gt;&quot;density&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.778631284916204&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;            &lt;span class=&quot;token property&quot;&gt;&quot;start&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2500&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;            &lt;span class=&quot;token property&quot;&gt;&quot;end&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;            &lt;span class=&quot;token property&quot;&gt;&quot;density&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.13943202979515887&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;            &lt;span class=&quot;token property&quot;&gt;&quot;start&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;            &lt;span class=&quot;token property&quot;&gt;&quot;density&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.08193668528864119&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;        &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;mark class=&quot;highlight-line highlight-line-active&quot;&gt;        &lt;span class=&quot;token property&quot;&gt;&quot;percentiles&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/mark&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;          &lt;span class=&quot;token property&quot;&gt;&quot;p75&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2366&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;p&gt;The &lt;code&gt;key&lt;/code&gt; field of the response will echo back the &lt;code&gt;formFactor&lt;/code&gt; request configuration to confirm that only phone experiences are included.&lt;/p&gt;
&lt;div class=&quot;w-aside w-aside--caution&quot;&gt;
&lt;p&gt;&lt;strong&gt;Caution&lt;/strong&gt;:
The more fine-grained the request is, for example a specific combination of URL and form factor, the fewer user experiences it will include. This may lead to more frequent &amp;quot;not found&amp;quot; errors, especially when querying less popular URLs or the less popular tablet device type.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Recall from the previous section that 85% of user experiences on this page had &amp;quot;good&amp;quot; LCP. Compare that to phone-specific experiences, of which only 78% are considered &amp;quot;good&amp;quot;. The 75th percentile is also slower among phone experiences, up from 1,947 milliseconds to 2,366 milliseconds. Segmenting by form factor has the potential to highlight more extreme disparities in user experiences.&lt;/p&gt;
&lt;h2 id=&quot;assessing-core-web-vitals-performance&quot;&gt;Assessing Core Web Vitals performance &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report-api/#assessing-core-web-vitals-performance&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The &lt;a href=&quot;https://web.dev/vitals/#core-web-vitals&quot;&gt;Core Web Vitals&lt;/a&gt; program defines targets that help determine whether a user experience or a distribution of experiences can be considered &amp;quot;good&amp;quot;. In the following example, we use the CrUX API and the &lt;a href=&quot;https://web.dev/chrome-ux-report-api/#crux-api-util&quot;&gt;&lt;code&gt;CrUXApiUtil.query&lt;/code&gt;&lt;/a&gt; function to assess whether a web page&#39;s distribution of Core Web Vitals metrics (LCP, FID, CLS) are &amp;quot;good&amp;quot;.&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;highlight-line&quot;&gt;CrUXApiUtil&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;mark class=&quot;highlight-line highlight-line-active&quot;&gt;  url&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;https://web.dev/fast/&#39;&lt;/span&gt;&lt;/mark&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;response&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  &lt;span class=&quot;token function&quot;&gt;assessCoreWebVitals&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;response&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;assessCoreWebVitals&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  &lt;span class=&quot;token comment&quot;&gt;// See https://web.dev/vitals/#core-web-vitals.&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;CORE_WEB_VITALS&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token string&quot;&gt;&#39;largest_contentful_paint&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token string&quot;&gt;&#39;first_input_delay&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token string&quot;&gt;&#39;cumulative_layout_shift&#39;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  &lt;span class=&quot;token constant&quot;&gt;CORE_WEB_VITALS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;metric&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;record&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;metrics&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;metric&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;      console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#39;No data for&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; metric&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; p75 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;percentiles&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;p75&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; threshold &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;histogram&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;end&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token comment&quot;&gt;// A Core Web Vitals metric passes the assessment if&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token comment&quot;&gt;// its 75th percentile is under the &quot;good&quot; threshold.&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; passes &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; p75 &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; threshold&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;The 75th percentile (&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;p75&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;) of &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;metric&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;        &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;passes &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;passes&#39;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;does not pass&#39;&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;        &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;the Core Web Vitals &quot;good&quot; threshold (&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;threshold&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;div class=&quot;w-aside w-aside--gotchas&quot;&gt;&lt;strong&gt;Gotchas!&lt;/strong&gt;
&lt;p&gt;The API may only be called with one origin or URL at a time. To assess multiple websites or pages, make separate calls to the API.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;The results show that this page passes the Core Web Vitals assessments for all three metrics.&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;The 75th percentile (1973) of largest_contentful_paint passes the Core Web Vitals &quot;good&quot; threshold (2500).&lt;br /&gt;The 75th percentile (20) of first_input_delay passes the Core Web Vitals &quot;good&quot; threshold (100).&lt;br /&gt;The 75th percentile (0.05) of cumulative_layout_shift passes the Core Web Vitals &quot;good&quot; threshold (0.10).&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;p&gt;Combined with an automated way to monitor API results, data from CrUX can be used to ensure that real-user experiences &lt;strong&gt;get fast&lt;/strong&gt; and &lt;strong&gt;stay fast&lt;/strong&gt;. For more information about Core Web Vitals and how to measure them, check out &lt;a href=&quot;https://web.dev/vitals&quot;&gt;Web Vitals&lt;/a&gt; and &lt;a href=&quot;https://web.dev/vitals-tools&quot;&gt;Tools to measure Core Web Vitals&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;what&#39;s-next&quot;&gt;What&#39;s next? &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report-api/#what&#39;s-next&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The features included in the initial version of the CrUX API only scratch the surface of the kinds of insights that are possible with CrUX. Users of the &lt;a href=&quot;https://web.dev/chrome-ux-report-bigquery/&quot;&gt;CrUX dataset on BigQuery&lt;/a&gt; may be familiar with some of the more advanced features including:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Additional metrics
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;first_paint&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;dom_content_loaded&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;onload&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;time_to_first_byte&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;notification_permissions&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Additional dimensions
&lt;ul&gt;
&lt;li&gt;month&lt;/li&gt;
&lt;li&gt;country&lt;/li&gt;
&lt;li&gt;effective connection type (ECT)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Additional granularity
&lt;ul&gt;
&lt;li&gt;detailed histograms&lt;/li&gt;
&lt;li&gt;more percentiles&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Over time, we hope to integrate more of these features with the CrUX API&#39;s ease of use and free pricing to enable new ways of exploring the data and discovering insights about the state of user experiences on the web.&lt;/p&gt;
&lt;p&gt;Check out the official &lt;a href=&quot;https://developers.google.com/web/tools/chrome-user-experience-report/api/reference&quot; rel=&quot;noopener&quot;&gt;CrUX API docs&lt;/a&gt; to &lt;a href=&quot;https://goo.gle/crux-api-key&quot; rel=&quot;noopener&quot;&gt;acquire your API key&lt;/a&gt; and explore more example applications. We hope you&#39;ll give it a try and we&#39;d love to hear any questions or feedback you may have, so please reach out to us on the &lt;a href=&quot;https://groups.google.com/a/chromium.org/forum/#!forum/chrome-ux-report&quot; rel=&quot;noopener&quot;&gt;CrUX discussion forum&lt;/a&gt;. And to stay up to date on everything we have planned for the CrUX API, subscribe to the &lt;a href=&quot;https://groups.google.com/a/chromium.org/forum/#!forum/chrome-ux-report-announce&quot; rel=&quot;noopener&quot;&gt;CrUX announcement forum&lt;/a&gt; or follow us on Twitter at &lt;a href=&quot;https://twitter.com/ChromeUXReport&quot; rel=&quot;noopener&quot;&gt;@ChromeUXReport&lt;/a&gt;.&lt;/p&gt;
</content>
    <author>
      <name>Rick Viscomi</name>
    </author><author>
      <name>Shane Exterkamp</name>
    </author>
  </entry>
  
  <entry>
    <title>Using the CrUX Dashboard on Data Studio</title>
    <link href="https://web.dev/chrome-ux-report-data-studio-dashboard/"/>
    <updated>2020-06-22T00:00:00Z</updated>
    <id>https://web.dev/chrome-ux-report-data-studio-dashboard/</id>
    <content type="text/html" mode="escaped">&lt;p&gt;&lt;a href=&quot;https://marketingplatform.google.com/about/data-studio/&quot; rel=&quot;noopener&quot;&gt;Data Studio&lt;/a&gt; is a
powerful data visualization tool that enables you to build dashboards on top of
big data sources, like the &lt;a href=&quot;https://developers.google.com/web/tools/chrome-user-experience-report/&quot; rel=&quot;noopener&quot;&gt;Chrome UX Report&lt;/a&gt;
(CrUX). In this guide, learn how to create your own custom CrUX Dashboard to
track an origin&#39;s user experience trends.&lt;/p&gt;
&lt;img alt=&quot;CrUX Dashboard&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;598&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;p&gt;The CrUX Dashboard is built with a Data Studio feature called &lt;a href=&quot;https://developers.google.com/datastudio/connector/&quot; rel=&quot;noopener&quot;&gt;Community
Connectors&lt;/a&gt;.
This connector is a pre-established link between the raw CrUX data on
&lt;a href=&quot;https://console.cloud.google.com/bigquery?p=chrome-ux-report&quot; rel=&quot;noopener&quot;&gt;BigQuery&lt;/a&gt;
and the visualizations of Data Studio. It eliminates the need for users of the
dashboard to write any queries or generate any charts. Everything is built for
you; all you need is to provide an origin and a custom dashboard will be
generated for you.&lt;/p&gt;
&lt;h2 id=&quot;creating-a-dashboard&quot;&gt;Creating a dashboard &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report-data-studio-dashboard/#creating-a-dashboard&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;To get started, go to &lt;a href=&quot;https://g.co/chromeuxdash&quot; rel=&quot;noopener&quot;&gt;g.co/chromeuxdash&lt;/a&gt;.
This will take you to the CrUX community connector page where you can provide
the origin for which the dashboard will be generated. Note that first-time
users may need to complete permission or marketing preference prompts.&lt;/p&gt;
&lt;img alt=&quot;CrUX Dashboard connector&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;484&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/admin/SSUqCau3HiN5qBbewX6h.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/admin/SSUqCau3HiN5qBbewX6h.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/admin/SSUqCau3HiN5qBbewX6h.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/admin/SSUqCau3HiN5qBbewX6h.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/admin/SSUqCau3HiN5qBbewX6h.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/admin/SSUqCau3HiN5qBbewX6h.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/admin/SSUqCau3HiN5qBbewX6h.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/admin/SSUqCau3HiN5qBbewX6h.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/admin/SSUqCau3HiN5qBbewX6h.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/admin/SSUqCau3HiN5qBbewX6h.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/admin/SSUqCau3HiN5qBbewX6h.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/admin/SSUqCau3HiN5qBbewX6h.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/admin/SSUqCau3HiN5qBbewX6h.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/admin/SSUqCau3HiN5qBbewX6h.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/admin/SSUqCau3HiN5qBbewX6h.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/admin/SSUqCau3HiN5qBbewX6h.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/admin/SSUqCau3HiN5qBbewX6h.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/admin/SSUqCau3HiN5qBbewX6h.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;p&gt;The text input field only accepts origins, not full URLs. For example:&lt;/p&gt;
&lt;figure class=&quot;w-compare&quot;&gt;&lt;p class=&quot;w-compare__label w-compare__label--better&quot;&gt;Origin (Supported)&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;https://developers.google.com&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/figure&gt;
&lt;figure class=&quot;w-compare&quot;&gt;&lt;p class=&quot;w-compare__label w-compare__label--worse&quot;&gt;URL (Not supported)&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;https://developers.google.com/web/tools/chrome-user-experience-report/&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/figure&gt;
&lt;p&gt;If you omit the protocol, HTTPS is assumed. Subdomains matter, for example
&lt;code&gt;https://developers.google.com&lt;/code&gt; and &lt;code&gt;https://www.google.com&lt;/code&gt; are considered to
be different origins.&lt;/p&gt;
&lt;p&gt;Some common issues with origins are providing the wrong protocol, for example
&lt;code&gt;http://&lt;/code&gt; instead of &lt;code&gt;https://&lt;/code&gt;, and omitting the subdomain when needed.
Some websites include redirects, so if &lt;code&gt;http://example.com&lt;/code&gt; redirects to
&lt;code&gt;https://www.example.com&lt;/code&gt;, then you should use the latter, which is the
canonical version of the origin. As a rule of thumb, use whichever origin
users see in the URL bar.&lt;/p&gt;
&lt;p&gt;If your origin is not included in the CrUX dataset, you may get an error message
like the one below. There are over 4 million origins in the dataset, but the one
you want may not have sufficient data to be included.&lt;/p&gt;
&lt;img alt=&quot;CrUX Dashboard error message&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;409&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/admin/qt0jWTgtdS93hDKW2SCm.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/admin/qt0jWTgtdS93hDKW2SCm.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/admin/qt0jWTgtdS93hDKW2SCm.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/admin/qt0jWTgtdS93hDKW2SCm.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/admin/qt0jWTgtdS93hDKW2SCm.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/admin/qt0jWTgtdS93hDKW2SCm.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/admin/qt0jWTgtdS93hDKW2SCm.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/admin/qt0jWTgtdS93hDKW2SCm.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/admin/qt0jWTgtdS93hDKW2SCm.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/admin/qt0jWTgtdS93hDKW2SCm.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/admin/qt0jWTgtdS93hDKW2SCm.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/admin/qt0jWTgtdS93hDKW2SCm.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/admin/qt0jWTgtdS93hDKW2SCm.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/admin/qt0jWTgtdS93hDKW2SCm.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/admin/qt0jWTgtdS93hDKW2SCm.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/admin/qt0jWTgtdS93hDKW2SCm.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/admin/qt0jWTgtdS93hDKW2SCm.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/admin/qt0jWTgtdS93hDKW2SCm.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;p&gt;If the origin exists, you&#39;ll be taken to the schema page for the dashboard.
This shows you all of the fields that are included: each effective connection
type, each form factor, the month of the dataset release, the distribution of
performance for each metric, and of course the name of the origin. There&#39;s
nothing you need to do or change on this page, just click &lt;strong&gt;Create Report&lt;/strong&gt; to
continue.&lt;/p&gt;
&lt;img alt=&quot;CrUX Dashboard schema&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;403&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/admin/DTNigYO4gUwovCuCgyhH.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/admin/DTNigYO4gUwovCuCgyhH.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/admin/DTNigYO4gUwovCuCgyhH.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/admin/DTNigYO4gUwovCuCgyhH.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/admin/DTNigYO4gUwovCuCgyhH.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/admin/DTNigYO4gUwovCuCgyhH.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/admin/DTNigYO4gUwovCuCgyhH.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/admin/DTNigYO4gUwovCuCgyhH.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/admin/DTNigYO4gUwovCuCgyhH.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/admin/DTNigYO4gUwovCuCgyhH.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/admin/DTNigYO4gUwovCuCgyhH.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/admin/DTNigYO4gUwovCuCgyhH.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/admin/DTNigYO4gUwovCuCgyhH.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/admin/DTNigYO4gUwovCuCgyhH.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/admin/DTNigYO4gUwovCuCgyhH.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/admin/DTNigYO4gUwovCuCgyhH.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/admin/DTNigYO4gUwovCuCgyhH.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/admin/DTNigYO4gUwovCuCgyhH.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;h2 id=&quot;using-the-dashboard&quot;&gt;Using the dashboard &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report-data-studio-dashboard/#using-the-dashboard&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Each dashboard comes with three types of pages:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Core Web Vitals overview&lt;/li&gt;
&lt;li&gt;Metric performance&lt;/li&gt;
&lt;li&gt;User demographics&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Each page includes a chart showing distributions over time for each available
monthly release. As new datasets are released, you can simply refresh the
dashboard to get the latest data.&lt;/p&gt;
&lt;p&gt;The monthly datasets are released on the second Tuesday of every month. For
example, the dataset consisting of user experience data from the month of May
is released on the second Tuesday of June.&lt;/p&gt;
&lt;h3 id=&quot;core-web-vitals-overview&quot;&gt;Core Web Vitals overview &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report-data-studio-dashboard/#core-web-vitals-overview&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;The first page is an overview of the origin&#39;s monthly
&lt;a href=&quot;https://web.dev/vitals/&quot;&gt;Core Web Vitals&lt;/a&gt; performance. These are the most important UX metrics that Google recommends you focus on.&lt;/p&gt;
&lt;img alt=&quot;CrUX Dashboard Core Web Vitals overview&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;906&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/admin/h8iCTgvmG4DS2zScvatc.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/admin/h8iCTgvmG4DS2zScvatc.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/admin/h8iCTgvmG4DS2zScvatc.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/admin/h8iCTgvmG4DS2zScvatc.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/admin/h8iCTgvmG4DS2zScvatc.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/admin/h8iCTgvmG4DS2zScvatc.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/admin/h8iCTgvmG4DS2zScvatc.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/admin/h8iCTgvmG4DS2zScvatc.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/admin/h8iCTgvmG4DS2zScvatc.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/admin/h8iCTgvmG4DS2zScvatc.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/admin/h8iCTgvmG4DS2zScvatc.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/admin/h8iCTgvmG4DS2zScvatc.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/admin/h8iCTgvmG4DS2zScvatc.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/admin/h8iCTgvmG4DS2zScvatc.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/admin/h8iCTgvmG4DS2zScvatc.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/admin/h8iCTgvmG4DS2zScvatc.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/admin/h8iCTgvmG4DS2zScvatc.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/admin/h8iCTgvmG4DS2zScvatc.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;p&gt;Use the Core Web Vitals page to understand how the origin is experienced by
desktop and phone users. By default, the most recent month at the time you
created the dashboard is selected. To change between older or newer monthly
releases, use the &lt;strong&gt;Month&lt;/strong&gt; filter at the top of the page.&lt;/p&gt;
&lt;p&gt;Note that tablet is omitted from these charts by default, but if needed you
could remove the &lt;strong&gt;No Tablet&lt;/strong&gt; filter in the bar chart configuration, shown
below.&lt;/p&gt;
&lt;img alt=&quot;Editing the CrUX Dashboard to show tablets on the Core Web Vitals page&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;288&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/admin/lD3eZ3LipJmBGmmkrUvG.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/admin/lD3eZ3LipJmBGmmkrUvG.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/admin/lD3eZ3LipJmBGmmkrUvG.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/admin/lD3eZ3LipJmBGmmkrUvG.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/admin/lD3eZ3LipJmBGmmkrUvG.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/admin/lD3eZ3LipJmBGmmkrUvG.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/admin/lD3eZ3LipJmBGmmkrUvG.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/admin/lD3eZ3LipJmBGmmkrUvG.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/admin/lD3eZ3LipJmBGmmkrUvG.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/admin/lD3eZ3LipJmBGmmkrUvG.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/admin/lD3eZ3LipJmBGmmkrUvG.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/admin/lD3eZ3LipJmBGmmkrUvG.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/admin/lD3eZ3LipJmBGmmkrUvG.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/admin/lD3eZ3LipJmBGmmkrUvG.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/admin/lD3eZ3LipJmBGmmkrUvG.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/admin/lD3eZ3LipJmBGmmkrUvG.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/admin/lD3eZ3LipJmBGmmkrUvG.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/admin/lD3eZ3LipJmBGmmkrUvG.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;h3 id=&quot;metric-performance&quot;&gt;Metric performance &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report-data-studio-dashboard/#metric-performance&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;After the Core Web Vitals page, you&#39;ll find standalone pages for all
&lt;a href=&quot;https://developers.google.com/web/tools/chrome-user-experience-report/#metrics&quot; rel=&quot;noopener&quot;&gt;metrics&lt;/a&gt;
in the CrUX dataset.&lt;/p&gt;
&lt;img alt=&quot;CrUX Dashboard LCP page&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;598&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/admin/AG2jdUtgsQzrxIUlLFyf.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;p&gt;Atop each page is the &lt;strong&gt;Device&lt;/strong&gt; filter, which you can use to restrict the form
factors included in the experience data. For example, you can drill down
specifically into phone experiences. This setting persists across pages.&lt;/p&gt;
&lt;p&gt;The primary visualizations on these pages are the monthly distributions of
experiences categorized as &amp;quot;Good&amp;quot;, &amp;quot;Needs Improvement&amp;quot;, and &amp;quot;Poor&amp;quot;. The
color-coded legend below the chart indicates the range of experiences included
in the category. For example, in the screenshot above, you can see the
percent of &amp;quot;good&amp;quot;
&lt;a href=&quot;https://web.dev/lcp/#what-is-a-good-lcp-score&quot;&gt;Largest Contentful Paint&lt;/a&gt; (LCP) experiences
fluctuating and getting slightly worse in recent months.&lt;/p&gt;
&lt;p&gt;The most recent month&#39;s percentages of &amp;quot;good&amp;quot; and &amp;quot;poor&amp;quot; experiences are shown
above the chart along with an indicator of the percent difference from the
previous month. For this origin, &amp;quot;good&amp;quot; LCP experiences fell by 3.2% to 56.04%
month-over-month.&lt;/p&gt;
&lt;div class=&quot;w-aside w-aside--caution&quot;&gt;
&lt;p&gt;&lt;strong&gt;Caution&lt;/strong&gt;:
Due to a quirk with Data Studio, you may sometimes see &lt;code&gt;No Data&lt;/code&gt; here. This is
normal and due to the previous month&#39;s release not being available until the
second Tuesday.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Additionally, for metrics like LCP and other Core Web Vitals that provide
explicit percentile recommendations, you&#39;ll find the &amp;quot;P75&amp;quot; metric between the
&amp;quot;good&amp;quot; and &amp;quot;poor&amp;quot; percentages. This value corresponds to the origin&#39;s 75th
percentile of user experiences. In other words, 75% of experiences are better
than this value. One thing to note is that this applies to the overall
distribution across &lt;em&gt;all devices&lt;/em&gt; on the origin. Toggling specific devices
with the &lt;strong&gt;Device&lt;/strong&gt; filter will not recalculate the percentile.&lt;/p&gt;
&lt;details class=&quot;w-details&quot;&gt;
&lt;summary class=&quot;w-details__summary&quot;&gt;
  &lt;h2 class=&quot;w-details__header&quot;&gt;
    Boring technical caveats about percentiles
  &lt;/h2&gt;
&lt;/summary&gt;
&lt;p&gt;Be aware that the percentile metrics are based on the histogram data from
&lt;a href=&quot;https://web.dev/chrome-ux-report-bigquery/&quot;&gt;BigQuery&lt;/a&gt;, so the granularity will be coarse:
1000ms for LCP, 100ms for FID, and 0.05 for CLS. In other words, a P75 LCP of
3800ms indicates that the true 75th percentile is somewhere between 3800ms and
3900ms.&lt;/p&gt;
&lt;p&gt;Additionally, the BigQuery dataset uses a technique called &amp;quot;bin spreading&amp;quot; in
which densities of user experiences are intrinsically grouped into very coarse
bins of decreasing granularity. This allows us to include minute densities in
the tail of the distribution without having to exceed four digits of
precision. For example, LCP values less than 3 seconds are grouped into bins
200ms wide. Between 3 and 10 seconds, bins are 500ms wide. Beyond 10 seconds,
bins are 5000ms wide, etc. Rather than having bins of varying widths, bin
spreading ensures that all bins are a constant 100ms wide (the greatest common
divisor), and the distribution is linearly interpolated across each bin.&lt;/p&gt;
&lt;p&gt;Corresponding P75 values in tools like PageSpeed Insights are not based on the
public BigQuery dataset and are able to provide millisecond-precision values.&lt;/p&gt;
&lt;/details&gt;
&lt;h3 id=&quot;user-demographics&quot;&gt;User demographics &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report-data-studio-dashboard/#user-demographics&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;There are two &lt;a href=&quot;https://developers.google.com/web/tools/chrome-user-experience-report/#dimensions&quot; rel=&quot;noopener&quot;&gt;dimensions&lt;/a&gt;
included on the user demographic pages: devices and effective connection
types (ECTs). These pages illustrate the distribution of page views across the
entire origin for users in each demographic.&lt;/p&gt;
&lt;p&gt;The device distribution page shows you the breakdown of phone, desktop, and
tablet users over time. Many origins tend to have little to no tablet data so
you&#39;ll often see &amp;quot;0%&amp;quot; hanging off the edge of the chart.&lt;/p&gt;
&lt;img alt=&quot;CrUX Dashboard device page&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;603&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/admin/6PXh8MoQTWHnHXf8o1ZU.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/admin/6PXh8MoQTWHnHXf8o1ZU.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/admin/6PXh8MoQTWHnHXf8o1ZU.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/admin/6PXh8MoQTWHnHXf8o1ZU.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/admin/6PXh8MoQTWHnHXf8o1ZU.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/admin/6PXh8MoQTWHnHXf8o1ZU.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/admin/6PXh8MoQTWHnHXf8o1ZU.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/admin/6PXh8MoQTWHnHXf8o1ZU.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/admin/6PXh8MoQTWHnHXf8o1ZU.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/admin/6PXh8MoQTWHnHXf8o1ZU.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/admin/6PXh8MoQTWHnHXf8o1ZU.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/admin/6PXh8MoQTWHnHXf8o1ZU.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/admin/6PXh8MoQTWHnHXf8o1ZU.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/admin/6PXh8MoQTWHnHXf8o1ZU.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/admin/6PXh8MoQTWHnHXf8o1ZU.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/admin/6PXh8MoQTWHnHXf8o1ZU.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/admin/6PXh8MoQTWHnHXf8o1ZU.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/admin/6PXh8MoQTWHnHXf8o1ZU.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;p&gt;Similarly, the ECT distribution page shows you the breakdown of 4G, 3G, 2G,
slow 2G, and offline experiences.&lt;/p&gt;
&lt;div class=&quot;w-aside w-aside--key-term&quot;&gt;
&lt;p&gt;&lt;strong&gt;Key Term&lt;/strong&gt;:
Effective connection types are considered &lt;em&gt;effective&lt;/em&gt; because they&#39;re based
on bandwidth measurements on users&#39; devices, and don&#39;t imply any particular
technology used. For example, a desktop user on fast Wi-Fi may be labelled as
4G while a slower mobile connection might be labelled as 2G.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;The distributions for these dimensions are calculated using segments of the
&lt;a href=&quot;https://web.dev/fcp/&quot;&gt;First Contentful Paint&lt;/a&gt; (FCP) histogram data.&lt;/p&gt;
&lt;h2 id=&quot;faq&quot;&gt;FAQ &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report-data-studio-dashboard/#faq&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id=&quot;when-would-i-use-the-crux-dashboard-as-opposed-to-other-tools&quot;&gt;When would I use the CrUX Dashboard as opposed to other tools? &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report-data-studio-dashboard/#when-would-i-use-the-crux-dashboard-as-opposed-to-other-tools&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;The CrUX Dashboard is based on the same underlying data available on BigQuery,
but you don&#39;t need to write a single line of SQL to extract the data and you
don&#39;t ever have to worry about exceeding any free quotas. Setting up a
dashboard is quick and easy, all of the visualizations are generated for you,
and you have the control to share it with anyone you want.&lt;/p&gt;
&lt;h3 id=&quot;are-there-any-limitations-to-using-the-crux-dashboard&quot;&gt;Are there any limitations to using the CrUX Dashboard? &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report-data-studio-dashboard/#are-there-any-limitations-to-using-the-crux-dashboard&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Being based on BigQuery means that the CrUX Dashboard inherits all of its
limitations as well. It is restricted to origin-level data at monthly
granularity.&lt;/p&gt;
&lt;p&gt;The CrUX Dashboard also trades away some of the versatility of the raw data on
BigQuery for simplicity and convenience. For example, metric distributions are
only given as &amp;quot;good&amp;quot;, &amp;quot;needs improvement&amp;quot;, and &amp;quot;poor&amp;quot;, as opposed to the full
histograms. The CrUX Dashboard also provides data at a global level, while the
BigQuery dataset allows you to zoom in on particular countries.&lt;/p&gt;
&lt;h3 id=&quot;where-can-i-learn-more-about-data-studio&quot;&gt;Where can I learn more about Data Studio? &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report-data-studio-dashboard/#where-can-i-learn-more-about-data-studio&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Check out the &lt;a href=&quot;https://marketingplatform.google.com/about/data-studio/features/&quot; rel=&quot;noopener&quot;&gt;Data Studio features page&lt;/a&gt;
for more info.&lt;/p&gt;
</content>
    <author>
      <name>Rick Viscomi</name>
    </author>
  </entry>
  
  <entry>
    <title>Using the Chrome UX Report on BigQuery</title>
    <link href="https://web.dev/chrome-ux-report-bigquery/"/>
    <updated>2020-06-12T00:00:00Z</updated>
    <id>https://web.dev/chrome-ux-report-bigquery/</id>
    <content type="text/html" mode="escaped">&lt;p&gt;The raw data of the Chrome UX Report
(&lt;a href=&quot;https://developers.google.com/web/tools/chrome-user-experience-report/&quot; rel=&quot;noopener&quot;&gt;CrUX&lt;/a&gt;)
is available on
&lt;a href=&quot;https://console.cloud.google.com/bigquery?p=chrome-ux-report&quot; rel=&quot;noopener&quot;&gt;BigQuery&lt;/a&gt;, a
database on the Google Cloud Platform (GCP). Using BigQuery requires a
&lt;a href=&quot;https://developers.google.com/web/tools/chrome-user-experience-report/getting-started#getting-started&quot; rel=&quot;noopener&quot;&gt;GCP project&lt;/a&gt;
and basic knowledge of SQL.&lt;/p&gt;
&lt;p&gt;In this guide, learn how to use BigQuery to write queries against the CrUX
dataset to extract insightful results about the state of user experiences on
the web:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Understand how the data is organized&lt;/li&gt;
&lt;li&gt;Write a basic query to evaluate an origin&#39;s performance&lt;/li&gt;
&lt;li&gt;Write an advanced query to track performance over time&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;data-organization&quot;&gt;Data organization &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report-bigquery/#data-organization&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Start by looking at a basic query:&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;COUNT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;DISTINCT&lt;/span&gt; origin&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;chrome&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;ux&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;report&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;.201809&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;p&gt;To run the query, enter it into the query editor and press the
&amp;quot;Run query&amp;quot; button:&lt;/p&gt;
&lt;img alt=&quot;Enter a simple query into editor and press Run.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;430&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/admin/aZp9WdPcgiTa7j7R1cAP.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/admin/aZp9WdPcgiTa7j7R1cAP.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/admin/aZp9WdPcgiTa7j7R1cAP.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/admin/aZp9WdPcgiTa7j7R1cAP.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/admin/aZp9WdPcgiTa7j7R1cAP.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/admin/aZp9WdPcgiTa7j7R1cAP.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/admin/aZp9WdPcgiTa7j7R1cAP.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/admin/aZp9WdPcgiTa7j7R1cAP.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/admin/aZp9WdPcgiTa7j7R1cAP.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/admin/aZp9WdPcgiTa7j7R1cAP.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/admin/aZp9WdPcgiTa7j7R1cAP.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/admin/aZp9WdPcgiTa7j7R1cAP.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/admin/aZp9WdPcgiTa7j7R1cAP.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/admin/aZp9WdPcgiTa7j7R1cAP.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/admin/aZp9WdPcgiTa7j7R1cAP.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/admin/aZp9WdPcgiTa7j7R1cAP.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/admin/aZp9WdPcgiTa7j7R1cAP.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/admin/aZp9WdPcgiTa7j7R1cAP.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;p&gt;There are two parts to this query:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;SELECT COUNT(DISTINCT origin)&lt;/code&gt; means querying for the number of origins in
the table. Roughly speaking, two URLs are part of the same origin if they have
the same scheme, host, and port.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;FROM&lt;/code&gt;chrome-ux-report.all.201809`` specifies the address of the source
table, which has three parts:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The Cloud project name &lt;code&gt;chrome-ux-report&lt;/code&gt; within which all CrUX data is organized&lt;/li&gt;
&lt;li&gt;The dataset &lt;code&gt;all&lt;/code&gt;, representing data across all countries&lt;/li&gt;
&lt;li&gt;The table &lt;code&gt;201809&lt;/code&gt;, the year and month of the data in YYYYMM format&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There are also datasets for every country. For example,
&lt;code&gt;chrome-ux-report.country_ca.201809&lt;/code&gt; represents only the user experience data
originating from Canada.&lt;/p&gt;
&lt;p&gt;Within each dataset there are tables for every month since 201710. New tables
for the previous calendar month are published regularly.&lt;/p&gt;
&lt;p&gt;The structure of the data tables (also known as the &lt;em&gt;schema&lt;/em&gt;) contains:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The origin, e.g., &lt;code&gt;origin = &#39;https://www.example.com&#39;&lt;/code&gt;, which represents the
aggregate user experience distribution for all pages on that website&lt;/li&gt;
&lt;li&gt;The connection speed at the time of page load, e.g.,
&lt;code&gt;effective_connection_type.name = &#39;4G&#39;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;The device type, e.g., &lt;code&gt;form_factor.name = &#39;desktop&#39;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;The UX metrics themselves
&lt;ul&gt;
&lt;li&gt;first_paint (FP)&lt;/li&gt;
&lt;li&gt;first_contentful_paint (FCP)&lt;/li&gt;
&lt;li&gt;dom_content_loaded (DCL)&lt;/li&gt;
&lt;li&gt;onload (OL)&lt;/li&gt;
&lt;li&gt;experimental.first_input_delay (FID)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The data for each metric is organized as an array of objects. In JSON notation,
&lt;code&gt;first_contentful_paint.histogram.bin&lt;/code&gt; would look similar to this:&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;&quot;start&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token property&quot;&gt;&quot;end&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token property&quot;&gt;&quot;density&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.1234&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;&quot;start&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token property&quot;&gt;&quot;end&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token property&quot;&gt;&quot;density&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.0123&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;	...&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;p&gt;Each bin contains a start and an end time in milliseconds and a density
representing the percent of user experiences within that time range. In other
words, 12.34% of FCP experiences for this hypothetical origin, connection speed,
and device type are less than 100ms. The sum of all bin densities is 100%.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://bigquery.cloud.google.com/table/chrome-ux-report:all.201809?tab=preview&quot; rel=&quot;noopener&quot;&gt;Browse the structure of the tables in BigQuery.&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;evaluating-performance&quot;&gt;Evaluating performance &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report-bigquery/#evaluating-performance&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Let&#39;s use our knowledge of the table schema to write a query that extracts this
performance data.&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt;&lt;br /&gt;  fcp&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;chrome&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;ux&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;report&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;.201809&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  UNNEST&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;first_contentful_paint&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;histogram&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;bin&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;AS&lt;/span&gt; fcp&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;WHERE&lt;/span&gt;&lt;br /&gt;  origin &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;https://developers.google.com&#39;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;AND&lt;/span&gt;&lt;br /&gt;  effective_connection_type&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;4G&#39;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;AND&lt;/span&gt;&lt;br /&gt;  form_factor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;phone&#39;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;AND&lt;/span&gt;&lt;br /&gt;  fcp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;start&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;img alt=&quot;Querying CrUX FCP on BigQuery&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;670&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/admin/ReMoTLXeKjiMqC95PJoV.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/admin/ReMoTLXeKjiMqC95PJoV.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/admin/ReMoTLXeKjiMqC95PJoV.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/admin/ReMoTLXeKjiMqC95PJoV.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/admin/ReMoTLXeKjiMqC95PJoV.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/admin/ReMoTLXeKjiMqC95PJoV.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/admin/ReMoTLXeKjiMqC95PJoV.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/admin/ReMoTLXeKjiMqC95PJoV.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/admin/ReMoTLXeKjiMqC95PJoV.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/admin/ReMoTLXeKjiMqC95PJoV.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/admin/ReMoTLXeKjiMqC95PJoV.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/admin/ReMoTLXeKjiMqC95PJoV.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/admin/ReMoTLXeKjiMqC95PJoV.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/admin/ReMoTLXeKjiMqC95PJoV.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/admin/ReMoTLXeKjiMqC95PJoV.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/admin/ReMoTLXeKjiMqC95PJoV.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/admin/ReMoTLXeKjiMqC95PJoV.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/admin/ReMoTLXeKjiMqC95PJoV.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;p&gt;The result is &lt;code&gt;0.0013&lt;/code&gt;, meaning that 0.13% of user experiences on this origin
are between 0 and 100ms on 4G and on a phone. If we want to generalize our
query to any connection and any device type, we can omit them from the &lt;code&gt;WHERE&lt;/code&gt;
clause and simply use the &lt;code&gt;SUM&lt;/code&gt; aggregator function to add up all of their
respective bin densities:&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token function&quot;&gt;SUM&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fcp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;density&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;chrome&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;ux&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;report&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;.201809&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  UNNEST&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;first_contentful_paint&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;histogram&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;bin&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;AS&lt;/span&gt; fcp&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;WHERE&lt;/span&gt;&lt;br /&gt;  origin &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;https://developers.google.com&#39;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;AND&lt;/span&gt;&lt;br /&gt;  fcp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;start&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;img alt=&quot;Summing CrUX FCP on BigQuery&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;676&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/admin/SaNxd4ZfYHaBGgz8yUJM.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/admin/SaNxd4ZfYHaBGgz8yUJM.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/admin/SaNxd4ZfYHaBGgz8yUJM.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/admin/SaNxd4ZfYHaBGgz8yUJM.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/admin/SaNxd4ZfYHaBGgz8yUJM.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/admin/SaNxd4ZfYHaBGgz8yUJM.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/admin/SaNxd4ZfYHaBGgz8yUJM.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/admin/SaNxd4ZfYHaBGgz8yUJM.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/admin/SaNxd4ZfYHaBGgz8yUJM.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/admin/SaNxd4ZfYHaBGgz8yUJM.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/admin/SaNxd4ZfYHaBGgz8yUJM.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/admin/SaNxd4ZfYHaBGgz8yUJM.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/admin/SaNxd4ZfYHaBGgz8yUJM.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/admin/SaNxd4ZfYHaBGgz8yUJM.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/admin/SaNxd4ZfYHaBGgz8yUJM.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/admin/SaNxd4ZfYHaBGgz8yUJM.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/admin/SaNxd4ZfYHaBGgz8yUJM.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/admin/SaNxd4ZfYHaBGgz8yUJM.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;p&gt;The result is &lt;code&gt;0.0399&lt;/code&gt;, or 3.99% across all devices and connection types.
Let&#39;s modify the query slightly and add up the densities for all bins that are
in the &amp;quot;fast&amp;quot; FCP range of 0–1000ms:&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token function&quot;&gt;SUM&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fcp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;density&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;AS&lt;/span&gt; fast_fcp&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;chrome&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;ux&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;report&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;.201809&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  UNNEST&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;first_contentful_paint&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;histogram&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;bin&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;AS&lt;/span&gt; fcp&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;WHERE&lt;/span&gt;&lt;br /&gt;  origin &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;https://developers.google.com&#39;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;AND&lt;/span&gt;&lt;br /&gt;  fcp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;start&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;img alt=&quot;Querying fast FCP on BigQuery&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;672&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/admin/jkK04PN5sGQxaYnLwmh3.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/admin/jkK04PN5sGQxaYnLwmh3.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/admin/jkK04PN5sGQxaYnLwmh3.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/admin/jkK04PN5sGQxaYnLwmh3.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/admin/jkK04PN5sGQxaYnLwmh3.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/admin/jkK04PN5sGQxaYnLwmh3.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/admin/jkK04PN5sGQxaYnLwmh3.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/admin/jkK04PN5sGQxaYnLwmh3.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/admin/jkK04PN5sGQxaYnLwmh3.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/admin/jkK04PN5sGQxaYnLwmh3.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/admin/jkK04PN5sGQxaYnLwmh3.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/admin/jkK04PN5sGQxaYnLwmh3.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/admin/jkK04PN5sGQxaYnLwmh3.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/admin/jkK04PN5sGQxaYnLwmh3.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/admin/jkK04PN5sGQxaYnLwmh3.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/admin/jkK04PN5sGQxaYnLwmh3.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/admin/jkK04PN5sGQxaYnLwmh3.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/admin/jkK04PN5sGQxaYnLwmh3.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;p&gt;This gives us &lt;code&gt;0.3913&lt;/code&gt;. In other words, 39.13% of the FCP user experiences on
developers.google.com are considered &amp;quot;fast&amp;quot; according to the FCP range
definition.&lt;/p&gt;
&lt;h2 id=&quot;tracking-performance&quot;&gt;Tracking performance &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report-bigquery/#tracking-performance&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Now that we&#39;ve extracted performance data about an origin, let&#39;s compare it to
the historical data available in older tables. To do that, we could rewrite the
table address to an earlier month, or we could use the wildcard syntax to query
all months:&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt;&lt;br /&gt;  _TABLE_SUFFIX &lt;span class=&quot;token keyword&quot;&gt;AS&lt;/span&gt; yyyymm&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token function&quot;&gt;SUM&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fcp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;density&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;AS&lt;/span&gt; fast_fcp&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;chrome&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;ux&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;report&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  UNNEST&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;first_contentful_paint&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;histogram&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;bin&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;AS&lt;/span&gt; fcp&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;WHERE&lt;/span&gt;&lt;br /&gt;  origin &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;https://developers.google.com&#39;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;AND&lt;/span&gt;&lt;br /&gt;  fcp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;start&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;GROUP&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;BY&lt;/span&gt;&lt;br /&gt;  yyyymm&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;ORDER&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;BY&lt;/span&gt;&lt;br /&gt;  yyyymm&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;img alt=&quot;Querying a timeseries of CrUX FCP on BigQuery&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;1219&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/admin/yynnLgYHstp0307DmkBv.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/admin/yynnLgYHstp0307DmkBv.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/admin/yynnLgYHstp0307DmkBv.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/admin/yynnLgYHstp0307DmkBv.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/admin/yynnLgYHstp0307DmkBv.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/admin/yynnLgYHstp0307DmkBv.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/admin/yynnLgYHstp0307DmkBv.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/admin/yynnLgYHstp0307DmkBv.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/admin/yynnLgYHstp0307DmkBv.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/admin/yynnLgYHstp0307DmkBv.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/admin/yynnLgYHstp0307DmkBv.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/admin/yynnLgYHstp0307DmkBv.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/admin/yynnLgYHstp0307DmkBv.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/admin/yynnLgYHstp0307DmkBv.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/admin/yynnLgYHstp0307DmkBv.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/admin/yynnLgYHstp0307DmkBv.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/admin/yynnLgYHstp0307DmkBv.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/admin/yynnLgYHstp0307DmkBv.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;p&gt;Here, we see that the percent of fast FCP experiences varies by a few percentage
points each month.&lt;/p&gt;
&lt;div class=&quot;w-table-wrapper&quot;&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;yyyymm&lt;/th&gt;
&lt;th&gt;fast_fcp&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;201711&lt;/td&gt;
&lt;td&gt;40.17%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;201712&lt;/td&gt;
&lt;td&gt;38.27%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;201801&lt;/td&gt;
&lt;td&gt;39.89%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;201802&lt;/td&gt;
&lt;td&gt;39.76%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;201803&lt;/td&gt;
&lt;td&gt;41.17%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;201804&lt;/td&gt;
&lt;td&gt;41.31%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;201805&lt;/td&gt;
&lt;td&gt;41.55%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;201806&lt;/td&gt;
&lt;td&gt;40.73%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;201807&lt;/td&gt;
&lt;td&gt;40.63%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;201808&lt;/td&gt;
&lt;td&gt;37.75%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;201809&lt;/td&gt;
&lt;td&gt;39.13%&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;&lt;p&gt;With these techniques, you&#39;re able to look up the performance for an origin,
calculate the percent of fast experiences, and track it over time.
As a next step, try querying for two or more origins and comparing their
performance.&lt;/p&gt;
&lt;h2 id=&quot;faq&quot;&gt;FAQ &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report-bigquery/#faq&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id=&quot;when-would-i-use-bigquery-as-opposed-to-other-tools&quot;&gt;When would I use BigQuery as opposed to other tools? &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report-bigquery/#when-would-i-use-bigquery-as-opposed-to-other-tools&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;BigQuery is only needed when you can&#39;t get the same information from other tools
like the CrUX Dashboard and PageSpeed Insights. For example, BigQuery allows you
to slice the data in meaningful ways and even join it with other public datasets
like the &lt;a href=&quot;https://httparchive.org/&quot; rel=&quot;noopener&quot;&gt;HTTP Archive&lt;/a&gt; to do some advanced data
mining.&lt;/p&gt;
&lt;h3 id=&quot;are-there-any-limitations-to-using-bigquery&quot;&gt;Are there any limitations to using BigQuery? &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report-bigquery/#are-there-any-limitations-to-using-bigquery&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Yes, the most important limitation is that by default users can only query 1TB
worth of data per month. Beyond that, the standard rate of $5/TB applies.&lt;/p&gt;
&lt;h3 id=&quot;where-can-i-learn-more-about-bigquery&quot;&gt;Where can I learn more about BigQuery? &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report-bigquery/#where-can-i-learn-more-about-bigquery&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Check out the &lt;a href=&quot;https://cloud.google.com/bigquery/&quot; rel=&quot;noopener&quot;&gt;BigQuery documentation&lt;/a&gt; for
more info.&lt;/p&gt;
</content>
    <author>
      <name>Rick Viscomi</name>
    </author>
  </entry>
  
  <entry>
    <title>Using the Chrome UX Report on PageSpeed Insights</title>
    <link href="https://web.dev/chrome-ux-report-pagespeed-insights/"/>
    <updated>2020-05-28T00:00:00Z</updated>
    <id>https://web.dev/chrome-ux-report-pagespeed-insights/</id>
    <content type="text/html" mode="escaped">&lt;p&gt;&lt;a href=&quot;https://developers.google.com/speed/pagespeed/insights/&quot; rel=&quot;noopener&quot;&gt;PageSpeed Insights&lt;/a&gt;
(PSI) is a tool for web developers to understand what a page&#39;s performance is
and how to improve it. It uses &lt;a href=&quot;https://developers.google.com/web/tools/lighthouse/&quot; rel=&quot;noopener&quot;&gt;Lighthouse&lt;/a&gt;
to audit the page and identify opportunities to improve performance. It also
integrates with the &lt;a href=&quot;https://developers.google.com/web/tools/chrome-user-experience-report/&quot; rel=&quot;noopener&quot;&gt;Chrome UX Report&lt;/a&gt; (CrUX)
to show how real users experience the page and the origin in
aggregate. In this guide, learn how to use PSI to extract insights from CrUX
and better understand the user experience.&lt;/p&gt;
&lt;img alt=&quot;Field data from CrUX in PageSpeed Insights&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;703&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/admin/8ORarOdBzgJ5FAMkws7p.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/admin/8ORarOdBzgJ5FAMkws7p.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/admin/8ORarOdBzgJ5FAMkws7p.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/admin/8ORarOdBzgJ5FAMkws7p.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/admin/8ORarOdBzgJ5FAMkws7p.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/admin/8ORarOdBzgJ5FAMkws7p.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/admin/8ORarOdBzgJ5FAMkws7p.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/admin/8ORarOdBzgJ5FAMkws7p.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/admin/8ORarOdBzgJ5FAMkws7p.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/admin/8ORarOdBzgJ5FAMkws7p.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/admin/8ORarOdBzgJ5FAMkws7p.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/admin/8ORarOdBzgJ5FAMkws7p.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/admin/8ORarOdBzgJ5FAMkws7p.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/admin/8ORarOdBzgJ5FAMkws7p.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/admin/8ORarOdBzgJ5FAMkws7p.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/admin/8ORarOdBzgJ5FAMkws7p.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/admin/8ORarOdBzgJ5FAMkws7p.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/admin/8ORarOdBzgJ5FAMkws7p.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;h2 id=&quot;reading-the-data&quot;&gt;Reading the data &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report-pagespeed-insights/#reading-the-data&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;To get started, go to &lt;a href=&quot;https://developers.google.com/speed/pagespeed/insights/&quot; rel=&quot;noopener&quot;&gt;https://developers.google.com/speed/pagespeed/insights/&lt;/a&gt;
and enter the URL of the page you want to test.&lt;/p&gt;
&lt;img alt=&quot;Enter a URL to get started on PageSpeed Insights&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;203&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/admin/5bnx9Xt0LT2XWk8Gpy3s.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/admin/5bnx9Xt0LT2XWk8Gpy3s.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/admin/5bnx9Xt0LT2XWk8Gpy3s.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/admin/5bnx9Xt0LT2XWk8Gpy3s.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/admin/5bnx9Xt0LT2XWk8Gpy3s.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/admin/5bnx9Xt0LT2XWk8Gpy3s.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/admin/5bnx9Xt0LT2XWk8Gpy3s.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/admin/5bnx9Xt0LT2XWk8Gpy3s.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/admin/5bnx9Xt0LT2XWk8Gpy3s.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/admin/5bnx9Xt0LT2XWk8Gpy3s.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/admin/5bnx9Xt0LT2XWk8Gpy3s.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/admin/5bnx9Xt0LT2XWk8Gpy3s.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/admin/5bnx9Xt0LT2XWk8Gpy3s.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/admin/5bnx9Xt0LT2XWk8Gpy3s.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/admin/5bnx9Xt0LT2XWk8Gpy3s.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/admin/5bnx9Xt0LT2XWk8Gpy3s.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/admin/5bnx9Xt0LT2XWk8Gpy3s.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/admin/5bnx9Xt0LT2XWk8Gpy3s.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;p&gt;After a few seconds, Lighthouse
audits will be performed and you will see sections for Field and Lab data. CrUX
is a collection of real user experiences from the field, while Lighthouse is a
controlled test in the lab.&lt;/p&gt;
&lt;img alt=&quot;Field data from CrUX in PageSpeed Insights&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;296&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/admin/bKoL7v3vnO6Ttl70FkZe.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/admin/bKoL7v3vnO6Ttl70FkZe.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/admin/bKoL7v3vnO6Ttl70FkZe.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/admin/bKoL7v3vnO6Ttl70FkZe.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/admin/bKoL7v3vnO6Ttl70FkZe.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/admin/bKoL7v3vnO6Ttl70FkZe.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/admin/bKoL7v3vnO6Ttl70FkZe.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/admin/bKoL7v3vnO6Ttl70FkZe.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/admin/bKoL7v3vnO6Ttl70FkZe.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/admin/bKoL7v3vnO6Ttl70FkZe.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/admin/bKoL7v3vnO6Ttl70FkZe.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/admin/bKoL7v3vnO6Ttl70FkZe.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/admin/bKoL7v3vnO6Ttl70FkZe.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/admin/bKoL7v3vnO6Ttl70FkZe.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/admin/bKoL7v3vnO6Ttl70FkZe.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/admin/bKoL7v3vnO6Ttl70FkZe.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/admin/bKoL7v3vnO6Ttl70FkZe.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/admin/bKoL7v3vnO6Ttl70FkZe.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;p&gt;In the &lt;strong&gt;Field Data&lt;/strong&gt; section, you&#39;ll see four metrics:
&lt;a href=&quot;https://web.dev/fcp/&quot;&gt;First Contentful Paint&lt;/a&gt; (FCP), &lt;a href=&quot;https://web.dev/fid/&quot;&gt;First Input Delay&lt;/a&gt; (FID),
&lt;a href=&quot;https://web.dev/lcp/&quot;&gt;Largest Contentful Paint&lt;/a&gt; (LCP), and
&lt;a href=&quot;https://web.dev/cls/&quot;&gt;Cumulative Layout Shift&lt;/a&gt; (CLS). FID, LCP, and CLS are
considered the &lt;a href=&quot;https://web.dev/vitals/#core-web-vitals&quot;&gt;Core Web Vitals&lt;/a&gt; metrics. These
metrics are representative of the user experience in different ways:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;FCP&lt;/strong&gt; measures the time until the page displays something in the
foreground, like some text or a logo.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;FID&lt;/strong&gt; measures the interactivity of the page, from the user&#39;s first
interaction to the time the page responds to it.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;LCP&lt;/strong&gt; measures the time until the page displays what is likely its main
content, like a hero image or heading.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;CLS&lt;/strong&gt; measures the degree of layout instability on the page, due to shifts
like asynchronously loaded content being injected.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;w-table-wrapper&quot;&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Metric&lt;/th&gt;
&lt;th&gt;&amp;quot;Good&amp;quot;&lt;/th&gt;
&lt;th&gt;&amp;quot;Needs Improvement&amp;quot;&lt;/th&gt;
&lt;th&gt;&amp;quot;Poor&amp;quot;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;FCP&lt;/td&gt;
&lt;td&gt;0–1000ms&lt;/td&gt;
&lt;td&gt;1000ms–3000ms&lt;/td&gt;
&lt;td&gt;3000ms+&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;FID&lt;/td&gt;
&lt;td&gt;0–100ms&lt;/td&gt;
&lt;td&gt;100–300ms&lt;/td&gt;
&lt;td&gt;300ms+&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;LCP&lt;/td&gt;
&lt;td&gt;0–2500ms&lt;/td&gt;
&lt;td&gt;2500–4000ms&lt;/td&gt;
&lt;td&gt;4000ms+&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CLS&lt;/td&gt;
&lt;td&gt;0.00-0.10&lt;/td&gt;
&lt;td&gt;0.10–0.25&lt;/td&gt;
&lt;td&gt;0.25+&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;&lt;p&gt;This table describes how values for these metrics are categorized as either
&amp;quot;good&amp;quot;, &amp;quot;needing improvement&amp;quot;, or &amp;quot;poor&amp;quot;.&lt;/p&gt;
&lt;p&gt;There are three ways that the user experience is displayed in PSI:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;a label summarizing the page as passing or not passing the Core Web Vitals
assessment&lt;/li&gt;
&lt;li&gt;percentiles measured in seconds or milliseconds (CLS is unitless)&lt;/li&gt;
&lt;li&gt;a distribution representing the percent of &amp;quot;good&amp;quot;, &amp;quot;needing improvement&amp;quot;, and
&amp;quot;poor&amp;quot; experiences&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In the screenshot above, the page is labelled as &amp;quot;passing&amp;quot; the Core Web Vitals
assessment. To pass, the percentile must be categorized as &amp;quot;good&amp;quot;.
Otherwise, the page is labelled as &amp;quot;not passing&amp;quot;.&lt;/p&gt;
&lt;p&gt;The percentiles shown for all metrics correspond to the 75th percentile. In
statistics, a percentile is a measure that indicates the value below which a
given percentage of samples fall. For example, the screenshot above shows that
FID&#39;s 75th percentile is 15ms, meaning that 75% of FID experiences are faster
than 15ms. These values are color-coded according to the threshold table above
where &amp;quot;good&amp;quot; values are green, values &amp;quot;needing improvement&amp;quot; are orange, and
&amp;quot;poor&amp;quot; values are red.&lt;/p&gt;
&lt;p&gt;Finally, the distributions for each metric are illustrated using the &amp;quot;good&amp;quot;,
&amp;quot;needs improvement&amp;quot;, and &amp;quot;poor&amp;quot; grouping. For example, FCP experiences on this
page are &amp;quot;good&amp;quot; (less than 1 second) 44% of the time. FID is &amp;quot;poor&amp;quot; (at least
300 milliseconds) 1% of the time. These distributions represent all user
experiences on the page and their shapes indicate the tendency to be either
&amp;quot;good&amp;quot; or &amp;quot;poor&amp;quot;.&lt;/p&gt;
&lt;h2 id=&quot;summary-of-origin-performance&quot;&gt;Summary of origin performance &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report-pagespeed-insights/#summary-of-origin-performance&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;PSI also includes a summary of origin performance. This is an aggregation of
user experiences across all pages of an origin. You can get the same stats for an entire origin that are available for individual pages. This data is
closely aligned with what is available on &lt;a href=&quot;https://web.dev/chrome-ux-report-bigquery/&quot;&gt;BigQuery&lt;/a&gt;, while the page-level
performance is not made available to query.&lt;/p&gt;
&lt;img alt=&quot;Origin CrUX performance in PageSpeed Insights&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;371&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/admin/7Xr7VVdZMbRlEMlgq3cj.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/admin/7Xr7VVdZMbRlEMlgq3cj.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/admin/7Xr7VVdZMbRlEMlgq3cj.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/admin/7Xr7VVdZMbRlEMlgq3cj.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/admin/7Xr7VVdZMbRlEMlgq3cj.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/admin/7Xr7VVdZMbRlEMlgq3cj.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/admin/7Xr7VVdZMbRlEMlgq3cj.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/admin/7Xr7VVdZMbRlEMlgq3cj.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/admin/7Xr7VVdZMbRlEMlgq3cj.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/admin/7Xr7VVdZMbRlEMlgq3cj.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/admin/7Xr7VVdZMbRlEMlgq3cj.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/admin/7Xr7VVdZMbRlEMlgq3cj.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/admin/7Xr7VVdZMbRlEMlgq3cj.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/admin/7Xr7VVdZMbRlEMlgq3cj.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/admin/7Xr7VVdZMbRlEMlgq3cj.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/admin/7Xr7VVdZMbRlEMlgq3cj.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/admin/7Xr7VVdZMbRlEMlgq3cj.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/admin/7Xr7VVdZMbRlEMlgq3cj.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;p&gt;There is one major difference between the origin-level data on PSI versus
BigQuery. The datasets on BigQuery are released once a month and encompass the data from the previous calendar month. For example, the 202005 dataset
includes all user experiences that occurred in May 2020. On the other
hand, PSI aggregates new data every day encompassing the previous 28 days. So
the results you see today may be different tomorrow and they would not
necessarily be the same as what you&#39;d see in the monthly aggregations on
BigQuery.&lt;/p&gt;
&lt;h2 id=&quot;null-response-when-url-not-available&quot;&gt;Null response when URL not available &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report-pagespeed-insights/#null-response-when-url-not-available&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;If the URL you entered is not available in CrUX, you will see a null response
like the one below, indicating that there is not enough field data.
Lab data from Lighthouse is still available to give you an approximation of the page&#39;s performance.&lt;/p&gt;
&lt;img alt=&quot;No CrUX data on PageSpeed Insights&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;202&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/admin/TQSwqryJR9phVV5vjDs4.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/admin/TQSwqryJR9phVV5vjDs4.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/admin/TQSwqryJR9phVV5vjDs4.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/admin/TQSwqryJR9phVV5vjDs4.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/admin/TQSwqryJR9phVV5vjDs4.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/admin/TQSwqryJR9phVV5vjDs4.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/admin/TQSwqryJR9phVV5vjDs4.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/admin/TQSwqryJR9phVV5vjDs4.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/admin/TQSwqryJR9phVV5vjDs4.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/admin/TQSwqryJR9phVV5vjDs4.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/admin/TQSwqryJR9phVV5vjDs4.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/admin/TQSwqryJR9phVV5vjDs4.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/admin/TQSwqryJR9phVV5vjDs4.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/admin/TQSwqryJR9phVV5vjDs4.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/admin/TQSwqryJR9phVV5vjDs4.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/admin/TQSwqryJR9phVV5vjDs4.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/admin/TQSwqryJR9phVV5vjDs4.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/admin/TQSwqryJR9phVV5vjDs4.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;h2 id=&quot;faq&quot;&gt;FAQ &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report-pagespeed-insights/#faq&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id=&quot;when-would-i-use-pagespeed-insights-as-opposed-to-other-tools&quot;&gt;When would I use PageSpeed Insights as opposed to other tools? &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report-pagespeed-insights/#when-would-i-use-pagespeed-insights-as-opposed-to-other-tools&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;PSI combines the real-world user experience data of CrUX with the lab-based
performance diagnostics of Lighthouse. This makes it easy to see how fast a
page is experienced and how to make it faster all in one place. The daily
aggregation of field data in PSI makes it a great place to more closely
monitor origin or URL performance than tools with less frequent aggregations.&lt;/p&gt;
&lt;h3 id=&quot;are-there-any-limitations-to-using-pagespeed-insights&quot;&gt;Are there any limitations to using PageSpeed Insights? &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report-pagespeed-insights/#are-there-any-limitations-to-using-pagespeed-insights&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;PSI only provides the most recent daily aggregation, so you wouldn&#39;t necessarily be able to see how a site&#39;s performance is trending. There are also some non-vital metrics included in the CrUX dataset that are not exposed in PSI.&lt;/p&gt;
&lt;h3 id=&quot;where-can-i-learn-more-about-pagespeed-insights&quot;&gt;Where can I learn more about PageSpeed Insights? &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/chrome-ux-report-pagespeed-insights/#where-can-i-learn-more-about-pagespeed-insights&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Check out the &lt;a href=&quot;https://developers.google.com/speed/docs/insights/v5/about&quot; rel=&quot;noopener&quot;&gt;PSI documentation&lt;/a&gt;
for more info.&lt;/p&gt;
</content>
    <author>
      <name>Rick Viscomi</name>
    </author>
  </entry>
  
  <entry>
    <title>Fixing layout instability</title>
    <link href="https://web.dev/fixing-layout-instability/"/>
    <updated>2019-09-30T00:00:00Z</updated>
    <id>https://web.dev/fixing-layout-instability/</id>
    <content type="text/html" mode="escaped">&lt;p&gt;In an earlier post I wrote about &lt;a href=&quot;https://dev.to/chromiumdev/measuring-cumulative-layout-shift-cls-in-webpagetest-5cle&quot; rel=&quot;noopener&quot;&gt;measuring Cumulative Layout Shift&lt;/a&gt; (CLS) in WebPageTest. CLS is an aggregation of all layout shifts, so in this post I thought it&#39;d be interesting to dive deeper and inspect each individual layout shift on a page to try to understand what could be causing the instability and actually try to fix the issue(s).&lt;/p&gt;
&lt;h2 id=&quot;measuring-layout-shifts&quot;&gt;Measuring layout shifts &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/fixing-layout-instability/#measuring-layout-shifts&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Using the Layout Instability API, we can get a list of all layout shift events on a page:&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PerformanceObserver&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;list&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;list&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getEntries&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;entry&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;entry&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hadRecentInput&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;observe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;type&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;layout-shift&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; buffered&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;log&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;p&gt;This produces an array of layout shifts that are not preceded by input events:&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;entryType&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;layout-shift&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;startTime&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;210.78500000294298&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;duration&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.0001045969445437389&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;hadRecentInput&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;lastInputTime&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;p&gt;In this example there was a single very tiny shift of 0.01% at 210ms.&lt;/p&gt;
&lt;p&gt;Knowing the time and severity of the shift is useful to help narrow down what could have caused the shift. Let&#39;s turn back to &lt;a href=&quot;https://webpagetest.org/&quot; rel=&quot;noopener&quot;&gt;WebPageTest&lt;/a&gt; for a lab environment to do more testing.&lt;/p&gt;
&lt;h2 id=&quot;measuring-layout-shifts-in-webpagetest&quot;&gt;Measuring layout shifts in WebPageTest &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/fixing-layout-instability/#measuring-layout-shifts-in-webpagetest&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Similar to measuring CLS in WebPageTest, measuring individual layout shifts will require a custom metric. Fortunately, the process is easier now that Chrome 77 is stable. The Layout Instability API is enabled by default, so you should be able to execute that JS snippet on any website within Chrome 77 and get results immediately. In WebPageTest, you can use the default Chrome browser and not have to worry about command line flags or using Canary.&lt;/p&gt;
&lt;p&gt;So let&#39;s modify that script to produce a custom metric for WebPageTest:&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;LayoutShifts&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PerformanceObserver&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;list&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;list&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getEntries&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;entry&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;entry&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hadRecentInput&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;observe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;type&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;layout-shift&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; buffered&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;p&gt;The promise in this script resolves to a JSON representation of the array rather than the array itself. This is because custom metrics can only produce primitive data types like strings or numbers.&lt;/p&gt;
&lt;p&gt;The website I&#39;ll use for the test is &lt;a href=&quot;https://ismyhostfastyet.com/&quot; rel=&quot;noopener&quot;&gt;ismyhostfastyet.com&lt;/a&gt;, a site I built to compare real world loading performance of web hosts.&lt;/p&gt;
&lt;h2 id=&quot;identifying-causes-of-layout-instability&quot;&gt;Identifying causes of layout instability &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/fixing-layout-instability/#identifying-causes-of-layout-instability&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;In the &lt;a href=&quot;http://webpagetest.org/custom_metrics.php?test=190918_6E_ef3c166b4a34033171d47e389cf82939&amp;amp;run=5&amp;amp;cached=0&quot; rel=&quot;noopener&quot;&gt;results&lt;/a&gt; we can see the LayoutShifts custom metric has this value:&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;entryType&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;layout-shift&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;startTime&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3087.2349999990547&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;duration&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.3422101449275362&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;hadRecentInput&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;lastInputTime&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;p&gt;To summarize, there is a single layout shift of 34.2% happening at 3087ms. To help identify the culprit, let&#39;s use WebPageTest&#39;s &lt;a href=&quot;http://webpagetest.org/video/compare.php?tests=190918_6E_ef3c166b4a34033171d47e389cf82939-r%3A5-c%3A0&amp;amp;thumbSize=200&amp;amp;ival=100&amp;amp;end=visual&quot; rel=&quot;noopener&quot;&gt;filmstrip view&lt;/a&gt;.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;Two cells in the filmstrip, showing screenshots before and after the layout shift.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;341&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;Two cells in the filmstrip, showing screenshots before and after the layout shift.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;Scrolling to the ~3 second mark in the filmstrip shows us exactly what the cause of the 34% layout shift is: the colorful table. The website asynchronously fetches a JSON file, then renders it to a table. The table is initially empty, so waiting to fill it up when the results are loaded is causing the shift.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;Web font header appearing out of nowhere.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;336&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;Web font header appearing out of nowhere.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;But that&#39;s not all. When the page is visually complete at ~4.3 seconds, we can see that the &lt;code&gt;&amp;lt;h1&amp;gt;&lt;/code&gt; of the page &amp;quot;Is my host fast yet?&amp;quot; appears out of nowhere. This happens because the site uses a web font and hasn&#39;t taken any steps to optimize rendering. The layout doesn&#39;t actually appear to shift when this happens, but it&#39;s still a poor user experience to have to wait so long to read the title.&lt;/p&gt;
&lt;h2 id=&quot;fixing-layout-instability&quot;&gt;Fixing layout instability &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/fixing-layout-instability/#fixing-layout-instability&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Now that we know the asynchronously generated table is causing one-third of the viewport to shift, it&#39;s time to fix it. We don&#39;t know the contents of the table until the JSON results are actually loaded, but we can still populate the table with some kind of &lt;em&gt;placeholder data&lt;/em&gt; so that the layout itself is relatively stable when the DOM is rendered.&lt;/p&gt;
&lt;p&gt;Here&#39;s the code to generate placeholder data:&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getRandomFiller&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;maxLength&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; filler &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;█&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; len &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;ceil&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; maxLength&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;len&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;filler&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#39;&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getRandomDistribution&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; fast &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; avg &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; fast&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; slow &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fast &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; avg&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;fast&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; avg&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; slow&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// Temporary placeholder data.&lt;/span&gt;&lt;br /&gt;window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;36&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;fast&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; avg&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; slow&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getRandomDistribution&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;  window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    platform&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getRandomFiller&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    client&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getRandomFiller&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    n&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getRandomFiller&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    fast&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    avg&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    slow&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token function&quot;&gt;updateResultsTable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sortResults&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;fast&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;p&gt;The placeholder data is generated randomly before being sorted. It includes the &amp;quot;█&amp;quot; character repeated a random number of times to create visual placeholders for the text and a randomly generated distribution of the three main values. I also added some styles to desaturate all color from the table to make it clear that the data is not fully loaded yet.&lt;/p&gt;
&lt;p&gt;The appearance of the placeholders you use don&#39;t matter for layout stability. The purpose of the placeholders is to assure users that content &lt;em&gt;is&lt;/em&gt; coming and the page isn&#39;t broken.&lt;/p&gt;
&lt;p&gt;Here&#39;s what the placeholders look like while the JSON data is loading:&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;The data table is rendered with placeholder data.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;486&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;The data table is rendered with placeholder data.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;Addressing the web font issue is much simpler. Because the site is using Google Fonts, we just need to pass in the &lt;code&gt;display=swap&lt;/code&gt; property in the CSS request. That&#39;s all. The Fonts API will add the &lt;code&gt;font-display: swap&lt;/code&gt; style in the font declaration, enabling the browser to render text in a fallback font immediately. Here&#39;s the corresponding markup with the fix included:&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;https://fonts.googleapis.com/css?family=Chivo:900&amp;amp;display=swap&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;stylesheet&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;h2 id=&quot;verifying-the-optimizations&quot;&gt;Verifying the optimizations &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/fixing-layout-instability/#verifying-the-optimizations&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;After rerunning the page through WebPageTest, we can generate a before and after &lt;a href=&quot;http://webpagetest.org/video/compare.php?tests=190918_6E_ef3c166b4a34033171d47e389cf82939%2C190918_WF_60f9c9a1c669b20039860c09ca27df7c&amp;amp;thumbSize=200&amp;amp;ival=100&amp;amp;end=visual&quot; rel=&quot;noopener&quot;&gt;comparison&lt;/a&gt; to visualize the difference and measure the new degree of layout instability:&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;WebPageTest filmstrip showing both sites loading side-by-side with and without layout optimizations.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;288&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;WebPageTest filmstrip showing both sites loading side-by-side with and without layout optimizations.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;div&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;entryType&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;layout-shift&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;startTime&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3070.9349999997357&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;duration&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.000050272187989256116&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;hadRecentInput&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;lastInputTime&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;p&gt;According to the &lt;a href=&quot;http://webpagetest.org/custom_metrics.php?test=190918_WF_60f9c9a1c669b20039860c09ca27df7c&amp;amp;run=9&amp;amp;cached=0&quot; rel=&quot;noopener&quot;&gt;custom metric&lt;/a&gt;, there is still a layout shift occurring at 3071ms (about the same time as before) but the severity of the shift is &lt;em&gt;much&lt;/em&gt; smaller: 0.005%. I can live with this.&lt;/p&gt;
&lt;p&gt;It&#39;s also clear from the filmstrip that the &lt;code&gt;&amp;lt;h1&amp;gt;&lt;/code&gt; font is immediately falling back to a system font, enabling users to read it sooner.&lt;/p&gt;
&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/fixing-layout-instability/#conclusion&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Complex websites will probably experience many more layout shifts than in this example, but the remediation process is still the same: add layout instability metrics to WebPageTest, cross-reference the results with the visual loading filmstrip to identify the culprits, and implement a fix using placeholders to reserve the screen real estate.&lt;/p&gt;
&lt;h3 id=&quot;(one-more-thing)-measuring-layout-instability-experienced-by-real-users&quot;&gt;(One more thing) Measuring layout instability experienced by real users &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/fixing-layout-instability/#(one-more-thing)-measuring-layout-instability-experienced-by-real-users&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;It&#39;s nice to be able to run WebPageTest on a page before and after an optimization and see an improvement to a metric, but what really matters is that the user experience is actually getting better. Isn&#39;t that why we&#39;re trying to make the site better in the first place?&lt;/p&gt;
&lt;p&gt;So what would be great is if we start measuring the layout instability experiences of real users along with our traditional web performance metrics. This is a crucial piece of the optimization feedback loop because having data from the field tells us where the problems are and whether our fixes made a positive difference.&lt;/p&gt;
&lt;p&gt;In addition to collecting your own layout instability data, check out the &lt;a href=&quot;https://twitter.com/ChromeUXReport/status/1138555303379816448&quot; rel=&quot;noopener&quot;&gt;Chrome UX Report&lt;/a&gt;, which includes Cumulative Layout Shift data from real user experiences on millions of websites. It allows you to find out how you (or your competitors) are performing, or you can use it to explore the state of layout instability across the web.&lt;/p&gt;
</content>
    <author>
      <name>Rick Viscomi</name>
    </author>
  </entry>
</feed>
