<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>https://web.dev/</id>
  <title>Case Study on web.dev</title>
  <updated>2021-08-11T17:14:17Z</updated>
  <author>
    <name>Google Developers</name>
  </author>
  <link href="https://web.dev/tags/case-study/feed.xml" rel="self"/>
  <link href="https://web.dev/"/>
  <category term="Case Study on web.dev"/>
  <icon>https://web.dev/images/social.png</icon>
  <logo>https://web.dev/images/shared/rss-banner.png</logo>
  <subtitle>Our latest news, updates, and stories about case studies.</subtitle>
  
  
  <entry>
    <title>How committing to Core Web Vitals increased Netzwelt&#39;s advertising revenues by 18%</title>
    <link href="https://web.dev/netzwelt/"/>
    <updated>2021-07-19T00:00:00Z</updated>
    <id>https://web.dev/netzwelt/</id>
    <content type="text/html" mode="escaped">&lt;p&gt;When Google announced the Core Web Vitals initiative,
German publisher &lt;a href=&quot;https://www.netzwelt.de/&quot; rel=&quot;noopener&quot;&gt;Netzwelt&lt;/a&gt; quickly realized the potential of these new metrics
towards a great page experience and improved advertising-based monetization.
They went on a journey to relaunch their website,
applying common performance best practices while optimizing ad tags and placements in parallel.
Committing to great UX and fast pages proved to be a path
for optimizing engagement and ad revenues hand in hand,
with page views up by 27%, ad viewability over 75%, and advertising revenues improving by 18%.&lt;/p&gt;
&lt;div class=&quot;w-stats&quot;&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;27&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;Increase in page views&lt;/p&gt;
  &lt;/div&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;18&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;Increase in ad revenue&lt;/p&gt;
  &lt;/div&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;75&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;Ad viewability&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&quot;the-challenge&quot;&gt;The challenge &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/netzwelt/#the-challenge&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Like many other news publishers,
Netzwelt struggled to find the right balance between optimizing user experience and page speed
while maintaining high ad revenues.
The main challenges they encountered were:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;High &lt;a href=&quot;https://web.dev/cls&quot;&gt;Cumulative Layout Shift&lt;/a&gt; (CLS) due to layout shifts triggered by ads,
especially from multisize slots and top banners.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://web.dev/lcp&quot;&gt;Largest Contentful Paint&lt;/a&gt; (LCP) coming in late due to ads being the largest paint
or by taking bandwidth from hero image loading.&lt;/li&gt;
&lt;li&gt;High &lt;a href=&quot;https://web.dev/fid&quot;&gt;First Input Delay&lt;/a&gt; (FID) caused by third-party JavaScript needed for advertising,
header bidding, and other purposes.&lt;/li&gt;
&lt;li&gt;Side effects on Core Web Vitals from consent dialogs controlled by third-party vendors,
which also added to layout shifts and might be detected as late largest paints.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;optimizing-a-news-website-for-core-web-vitals&quot;&gt;Optimizing a news website for Core Web Vitals &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/netzwelt/#optimizing-a-news-website-for-core-web-vitals&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;When Netzwelt started working on core web vitals,
they quickly noticed that optimizing Core Web Vitals doesn&#39;t need to affect advertisement negatively
but can be used as an opportunity to improve ad viewability.
Therefore, the Netzwelt team optimized Core Web Vitals to lift ad viewability
above 75% to attract higher-value advertising
(the global average for display ads
&lt;a href=&quot;https://www.thinkwithgoogle.com/feature/viewability/state-of-viewability&quot; rel=&quot;noopener&quot;&gt;is less than 50%&lt;/a&gt;).&lt;/p&gt;
&lt;h3 id=&quot;optimizing-cls&quot;&gt;Optimizing CLS &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/netzwelt/#optimizing-cls&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Advertisements often load late (sometimes consciously through lazy-loading),
and their real size is often not known in advance due to multisize and fluid ad placements.&lt;/p&gt;
&lt;p&gt;The problem can be divided into two—ads above and below the fold.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Ads above the fold&lt;/strong&gt; can cause massive layout jumps due to loading late with unknown sizes.
Blocking the largest space they might need can lead to bad UX,
while asking advertisers for fixed sizes may reduce ad income.
Netzwelt solved this problem by making the top ad sticky and removing some of the bigger allowed banner sizes.
The overlaid ad avoids triggering layout jumps for ads of different sizes.
Although the reduced eligible sizes do impact ad sales, the better viewability offsets this easily.&lt;/p&gt;
&lt;p&gt;Historical data and A/B tests helped Netzwelt find the right size
and positioning for different devices and screen sizes,
and CSS media rules used to reserve space.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Ads below the fold&lt;/strong&gt; offer room for significant improvement:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A banner that is not seen but loaded creates poor ad viewability and worsens the page experience.&lt;/li&gt;
&lt;li&gt;A banner that is loaded at the time a user scrolls over it can introduce additional content jumps.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To maintain a good page experience and high ad viewability,
Netzwelt implemented lazy-loading and reserved space for the size of the lowest common denominator.
In a multisize zone the banners requested in the sizes 300x250 to 300x600, reserved 250px in height.
This eliminated layout shifts for the smaller sizes; and reduced them massively for larger banners.
This approach is not optimal, but it is a start and a good compromise.&lt;/p&gt;
&lt;p&gt;To optimize further,
Netzwelt used
&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API&quot; rel=&quot;noopener&quot;&gt;Intersection Observer&lt;/a&gt; and the
&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Network_Information_API&quot; rel=&quot;noopener&quot;&gt;Network Information API&lt;/a&gt;
to control ad placements and reduce layout shifts.
Different ad positions and lazy loading strategies are used depending on
scroll position and network connection quality,
and ads may be changed from multiple to fixed sizes.
The aim of the algorithm is always to maximize ad viewability while minimizing layout shifts.
Browsers not supporting the NetworkInfo API use a proxy value based on a
combination of device and IP derived network type.
This
&lt;a href=&quot;https://addyosmani.com/blog/adaptive-loading/&quot; rel=&quot;noopener&quot;&gt;adaptive loading&lt;/a&gt;
strategy especially reduces CLS for users with slow internet connections.&lt;/p&gt;
&lt;h3 id=&quot;optimizing-fid&quot;&gt;Optimizing FID &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/netzwelt/#optimizing-fid&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;First Input Delay might appear to be a problem for news publishers,
as advertisement often comes with many additional JavaScript libraries.
And there does seem to be a negative impact when looking at lab data like Lighthouse.
However, looking at field data in the
&lt;a href=&quot;https://almanac.httparchive.org/en/2020/performance#fid-by-device&quot; rel=&quot;noopener&quot;&gt;2020 Web Almanac&lt;/a&gt;,
many websites have sufficiently fast response.
Part of this is due to advertising JavaScript loading late (after first input),
caching well (for example getting the treatment of
&lt;a href=&quot;https://v8.dev/blog/code-caching-for-devs&quot; rel=&quot;noopener&quot;&gt;v8 code caching&lt;/a&gt;),
or being optimized well by the ad vendors.
Vendor viewability trackers make sure to avoid
long tasks—so even when the sum of the runtime is long
&lt;a href=&quot;https://web.dev/tbt/&quot;&gt;Total Blocking Time&lt;/a&gt; (TBT) and FID are not affected.
While FID was not a huge problem for Netzwelt, there were still some optimizations to make:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Reducing ad scripts and providers, concentrating on a single stack if possible.&lt;/li&gt;
&lt;li&gt;Loading all scripts with defer or async.&lt;/li&gt;
&lt;li&gt;Using webpack or similar technologies for treeshaking and unbundling.&lt;/li&gt;
&lt;li&gt;Using simple BEM-like CSS rules.&lt;/li&gt;
&lt;li&gt;Avoiding long-running tasks, and using the
&lt;a href=&quot;https://philipwalton.com/articles/idle-until-urgent/&quot; rel=&quot;noopener&quot;&gt;idle-until-urgent&lt;/a&gt; pattern.&lt;/li&gt;
&lt;li&gt;Working with
&lt;a href=&quot;https://developers.google.com/web/fundamentals/performance/rendering/optimize-javascript-execution#use_requestanimationframe_for_visual_changes&quot; rel=&quot;noopener&quot;&gt;RequestAnimationFrame&lt;/a&gt;
wherever layout is affected.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;optimizing-lcp&quot;&gt;Optimizing LCP &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/netzwelt/#optimizing-lcp&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;The Largest Contentful Paint can be influenced by advertisements in
two ways—explicitly by recognizing an ad as the largest paint,
and indirectly by congesting network bandwidth or affecting critical path so that the actual largest paint
(for example a hero image) can&#39;t load in fast enough.&lt;/p&gt;
&lt;p&gt;Netzwelt had already removed medium rectangle ads from the top ad slots while optimizing for CLS.
This had the additional benefit of ads not becoming the largest element.&lt;/p&gt;
&lt;p&gt;Netzwelt follows a strict policy to prioritize content above ads.
Netzwelt prioritized the hero images and fonts used above the fold
and optimized the critical path to take precedence over advertising scripts and adverts.
This prioritization helped LCP to be unaffected by the ads.&lt;/p&gt;
&lt;p&gt;Besides these optimizations, Netzwelt followed other best practices:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Separated CSS for critical rendering path and put it in the header.&lt;/li&gt;
&lt;li&gt;Preloaded the most important fonts, scripts, and images.&lt;/li&gt;
&lt;li&gt;Avoided lazy-loading images above the fold.&lt;/li&gt;
&lt;li&gt;Used &lt;code&gt;font-display=&amp;quot;swap&amp;quot;&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;gdpr-consent-and-core-web-vitals&quot;&gt;GDPR Consent and Core Web Vitals &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/netzwelt/#gdpr-consent-and-core-web-vitals&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Consent dialogs often negatively impact Core Web Vitals.
As with advertisements, there are two ways in which a consent dialog can influence CWV:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Explicitly if it is detected as the largest paint, or causes layout shifts.&lt;/li&gt;
&lt;li&gt;Implicitly, by stealing bandwidth from the actual largest paint,
blocking the critical path to the largest paint,
or delaying ads until consent is in, which can, in turn, trigger layout shifts.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Netzwelt works with a third-party consent provider,
which also implemented optimizations.
First Netzwelt made sure to avoid the straightforward pitfalls:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Consent scripts are loaded async, so as not to block critical resources.&lt;/li&gt;
&lt;li&gt;Consent is formatted so that large elements are not eligible as the largest element within LCP.&lt;/li&gt;
&lt;li&gt;Consent overlay uses &lt;code&gt;position: fixed&lt;/code&gt; to avoid shifts.&lt;/li&gt;
&lt;li&gt;While ads are shown only after consent is given,
adequate whitespace is preserved beforehand to avoid layout shifts when ads load in.&lt;/li&gt;
&lt;li&gt;Making sure the display and positioning of the consent dialog does not trigger layout shifts.
One problem found and fixed here was the scroll-lock option of the service provider,
which disabled scrolling while consent shows by moving the main content of the article on scroll,
causing layout shifts.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;After this work, there were still large discrepancies between field and lab CLS.
While lab CLS was close to zero, field values were significantly above thresholds.
After investigation, the culprit was layout shifts within the consent iframe,
which currently are only correctly captured in field data.
Netzwelt continues to work with the third-party consent provider to improve this issue.&lt;/p&gt;
&lt;h3 id=&quot;news-subscription-models-and-core-web-vitals&quot;&gt;News Subscription Models and Core Web Vitals &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/netzwelt/#news-subscription-models-and-core-web-vitals&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;News publishers are moving to subscription models to fund journalism.
This model is relevant for Core Web Vitals as people will not subscribe to websites with poor user experience.
In addition, subscribers do not expect to see ads in the paid content,
but hiding ads may cause layout shifts.
The website needs to check if users are entitled to view the content and whether to display ads.
These checks may cause additional latencies, leading to content shifts or a poor user experience.&lt;/p&gt;
&lt;p&gt;Netzwelt is using a model where content is always free,
but subscribers will not see ads.
They investigated different ways to query and store entitlements to reduce latencies and layout shifts.&lt;/p&gt;
&lt;p&gt;An initial query of entitlement always caused latencies,
and therefore if querying the entitlements takes too long, the site will display the last cached state.
For new subscribers, this means a small risk of a paying user seeing ads once.
Users just ending a subscription might see one load without ads before the locally stored entitlements update.
Once entitlements are known, they are stored locally using the LocalStorage API,
to avoid additional latencies and layout shifts during future navigation.&lt;/p&gt;
&lt;h2 id=&quot;optimization-results&quot;&gt;Optimization Results &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/netzwelt/#optimization-results&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The results of Netzwelt&#39;s optimizations speak for themselves.
Their PageSpeed Insights score is unrivaled within news publishers worldwide:&lt;/p&gt;
&lt;figure class=&quot;w-figure w-screenshot&quot;&gt;
&lt;img alt=&quot;Screenshot of PageSpeed Insights for the Netzwelt.de site, showing a score of 100.&quot; decoding=&quot;async&quot; height=&quot;622&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/ErZNqWVYCAkOmEu1r7pd.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/ErZNqWVYCAkOmEu1r7pd.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/ErZNqWVYCAkOmEu1r7pd.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/ErZNqWVYCAkOmEu1r7pd.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/ErZNqWVYCAkOmEu1r7pd.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/ErZNqWVYCAkOmEu1r7pd.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/ErZNqWVYCAkOmEu1r7pd.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/ErZNqWVYCAkOmEu1r7pd.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/ErZNqWVYCAkOmEu1r7pd.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/ErZNqWVYCAkOmEu1r7pd.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/ErZNqWVYCAkOmEu1r7pd.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/ErZNqWVYCAkOmEu1r7pd.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/ErZNqWVYCAkOmEu1r7pd.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/ErZNqWVYCAkOmEu1r7pd.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/ErZNqWVYCAkOmEu1r7pd.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/ErZNqWVYCAkOmEu1r7pd.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/ErZNqWVYCAkOmEu1r7pd.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/ErZNqWVYCAkOmEu1r7pd.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;The optimizations improved the page experience
but were made with the business in mind and enhanced ad experience,
ad viewability, and revenue.
After relaunching the optimized page,
Netzwelt saw CPM increases of 20-30%,
with an ad viewability above 75%.
However, Netzwelt assumes the overall revenue uplift to be even higher.
Traffic increased since the relaunch, probably driven by higher user engagement
and lower bounce rates due to improved UX.
These effects are hard to quantify and set in causal relation to the relaunch,
as traffic naturally fluctuates, and there are also effects from the global pandemic.
These indirect effects are one of the reasons why Netzwelt always looks at all numbers when reviewing their site,
not just CPM, which may be misleading. Core Web Vitals and UX metrics,
in combination with all ad-related metrics, provide the real picture.&lt;/p&gt;
&lt;h2 id=&quot;looking-into-the-future&quot;&gt;Looking into the future &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/netzwelt/#looking-into-the-future&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Netzwelt believes that in a future without third-party cookies, contextual targeting via the content,
combined with good UX and page experience (including ad viewability), is the key to success as a news publisher.&lt;/p&gt;
&lt;p&gt;Therefore Netzwelt doesn&#39;t stop with Core Web Vitals
but goes the extra mile by implementing many modern web capabilities such as Progressive Web Apps (PWA),
offline content, dark mode, the Web Share API, and Trusted Web Activities (TWA) using the new
&lt;a href=&quot;https://developer.chrome.com/docs/android/trusted-web-activity/receive-payments-play-billing/&quot; rel=&quot;noopener&quot;&gt;Digital Goods API&lt;/a&gt;.&lt;/p&gt;
</content>
    <author>
      <name>Martin Schierle</name>
    </author>
  </entry>
  
  <entry>
    <title>Blibli&#39;s PWA generates 10x more revenue per user than their previous mobile website</title>
    <link href="https://web.dev/blibli/"/>
    <updated>2021-06-15T19:59:43Z</updated>
    <id>https://web.dev/blibli/</id>
    <content type="text/html" mode="escaped">&lt;p&gt;&lt;a href=&quot;https://www.blibli.com/&quot; rel=&quot;noopener&quot;&gt;Blibli&lt;/a&gt; is a well known e-commerce marketplace in
Indonesia. The company had over 29 million average monthly website visits in
2019. In a recent study, Blibli&#39;s web team found that their mobile web platform
is a significant visitor and user acquisition platform, with 70% of web
users landing on mobile and 30% of web users landing on desktop.&lt;/p&gt;
&lt;p&gt;With that insight, Blibli embarked on a journey to develop a better web
experience and improve conversions. As a result, they were able to achieve some
exceptional results:&lt;/p&gt;
&lt;div class=&quot;w-stats&quot;&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;42&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;Reduction in bounce rates&lt;/p&gt;
  &lt;/div&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;8&lt;sub class=&quot;w-stat__sub&quot;&gt;x&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;Better mCVR in installed PWA compared to browser mobile web&lt;/p&gt;
  &lt;/div&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;2.5&lt;sub class=&quot;w-stat__sub&quot;&gt;x&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;More pages/sessions on installed PWA&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&quot;highlighting-the-opportunity&quot;&gt;Highlighting the opportunity &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/blibli/#highlighting-the-opportunity&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Blibli identified the following areas of opportunities:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;For Blibli, the mobile web platform was important for user
acquisition with many users on mid- to low-tier devices.&lt;/li&gt;
&lt;li&gt;Indonesia&#39;s internet economy was &lt;a href=&quot;https://storage.googleapis.com/gweb-economy-sea.appspot.com/assets/pdf/Indonesia-e-Conomy_SEA_2020_Country_Insights.pdf&quot; rel=&quot;noopener&quot;&gt;expanding rapidly beyond tier 1
cities&lt;/a&gt;.
Hence, PWA and fast pages were a good investment to support user needs like
limited storage and slow networks.&lt;/li&gt;
&lt;li&gt;50% of users that are coming to the Blibli web platform are returning users.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;the-approach-they-used&quot;&gt;The approach they used &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/blibli/#the-approach-they-used&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The team took a staged strategy of short- to medium-term improvements on the
mobile web platform. This included:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A performance optimized website including a UX revamped &lt;a href=&quot;https://www.blibli.com/&quot; rel=&quot;noopener&quot;&gt;home
page&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;A lite version of the home page for new users with a
&lt;a href=&quot;https://developers.google.com/web/fundamentals/primers/service-workers&quot; rel=&quot;noopener&quot;&gt;service worker&lt;/a&gt;
to cache critical assets for subsequent navigation.&lt;/li&gt;
&lt;li&gt;A &lt;a href=&quot;https://web.dev/progressive-web-apps/&quot;&gt;Progressive Web App&lt;/a&gt; (PWA) for
returning users.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;user-flow&quot;&gt;User flow &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/blibli/#user-flow&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;New visitors are presented with a lightweight page which is three times faster
when compared to the old home page.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
&lt;img alt=&quot;A lightweight page that is three times faster than the old.&quot; decoding=&quot;async&quot; height=&quot;1422&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/bfL1ZGsRjv3QcbACnRGu.png?auto=format&amp;w=400&quot; srcset=&quot;https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/bfL1ZGsRjv3QcbACnRGu.png?w=400&amp;auto=format&amp;dpr=1&amp;q=75 1x, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/bfL1ZGsRjv3QcbACnRGu.png?w=400&amp;auto=format&amp;dpr=2&amp;q=50 2x, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/bfL1ZGsRjv3QcbACnRGu.png?w=400&amp;auto=format&amp;dpr=3&amp;q=35 3x, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/bfL1ZGsRjv3QcbACnRGu.png?w=400&amp;auto=format&amp;dpr=4&amp;q=23 4x, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/bfL1ZGsRjv3QcbACnRGu.png?w=400&amp;auto=format&amp;dpr=5&amp;q=20 5x&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;
    A lightweight page that is three times faster than the old.
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;On subsequent pages, Blibli prompts users to add the PWA shortcut
to their home screen.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;video controls=&quot;&quot; autoplay=&quot;&quot; loop=&quot;&quot; muted=&quot;&quot; class=&quot;w-screenshot&quot; style=&quot;width:800px;&quot;&gt;
    &lt;source src=&quot;https://storage.googleapis.com/web-dev-assets/blibli/save-to-home-screen.webm&quot; type=&quot;video/webm&quot; /&gt;
    &lt;source src=&quot;https://storage.googleapis.com/web-dev-assets/blibli/save-to-home-screen.mp4&quot; type=&quot;video/mp4&quot; /&gt;
  &lt;/video&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;
    The add to home screen prompt.
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;If users lose the network connection, they are presented with an elegant offline
fallback page.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
&lt;img alt=&quot;An elegent offline fallback page.&quot; decoding=&quot;async&quot; height=&quot;468&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/biDb6f1owQWxmRNXUauu.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/biDb6f1owQWxmRNXUauu.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/biDb6f1owQWxmRNXUauu.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/biDb6f1owQWxmRNXUauu.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/biDb6f1owQWxmRNXUauu.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/biDb6f1owQWxmRNXUauu.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/biDb6f1owQWxmRNXUauu.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/biDb6f1owQWxmRNXUauu.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/biDb6f1owQWxmRNXUauu.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/biDb6f1owQWxmRNXUauu.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/biDb6f1owQWxmRNXUauu.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/biDb6f1owQWxmRNXUauu.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/biDb6f1owQWxmRNXUauu.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/biDb6f1owQWxmRNXUauu.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/biDb6f1owQWxmRNXUauu.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/biDb6f1owQWxmRNXUauu.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/biDb6f1owQWxmRNXUauu.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/biDb6f1owQWxmRNXUauu.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;
    An elegent offline fallback page.
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;Blibli&#39;s lite page created a first impression that Blibli.com is fast and
responsive. Moreover, the lite page streamlined the number of features by only
focusing on those that deliver the value proposition of Blibli.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;video controls=&quot;&quot; autoplay=&quot;&quot; loop=&quot;&quot; muted=&quot;&quot; class=&quot;w-screenshot&quot; style=&quot;width:800px;&quot;&gt;
    &lt;source src=&quot;https://storage.googleapis.com/web-dev-assets/blibli/responsive-comparison.webm&quot; type=&quot;video/webm&quot; /&gt;
    &lt;source src=&quot;https://storage.googleapis.com/web-dev-assets/blibli/responsive-comparison.mp4&quot; type=&quot;video/mp4&quot; /&gt;
  &lt;/video&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;
    Comparison of loading times before and after streamlining.
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;Blibli&#39;s PWA is installable, giving it an app-like look and feel. It is also
fast and reliable which was achieved using service worker caching and graceful
offline fallback.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
&lt;img alt=&quot;The offline fallback&quot; decoding=&quot;async&quot; height=&quot;1778&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/ONCtI6MryOS5wCLPd3Ep.jpeg?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/ONCtI6MryOS5wCLPd3Ep.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/ONCtI6MryOS5wCLPd3Ep.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/ONCtI6MryOS5wCLPd3Ep.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/ONCtI6MryOS5wCLPd3Ep.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/ONCtI6MryOS5wCLPd3Ep.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/ONCtI6MryOS5wCLPd3Ep.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/ONCtI6MryOS5wCLPd3Ep.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/ONCtI6MryOS5wCLPd3Ep.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/ONCtI6MryOS5wCLPd3Ep.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/ONCtI6MryOS5wCLPd3Ep.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/ONCtI6MryOS5wCLPd3Ep.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/ONCtI6MryOS5wCLPd3Ep.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/ONCtI6MryOS5wCLPd3Ep.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/ONCtI6MryOS5wCLPd3Ep.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/ONCtI6MryOS5wCLPd3Ep.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/ONCtI6MryOS5wCLPd3Ep.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/ONCtI6MryOS5wCLPd3Ep.jpeg?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;
    The offline fallback.
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;This comes as a delight for web users, a large proportion of whom use mid-tier
devices. Since Blibli&#39;s PWA is less than 1MB in size (that&#39;s a whopping 24 times
lighter than their Android app!), there is much less friction for users to
install it. It also makes it easier for Blibli to retain users while providing
them with a seamless app-like experience.&lt;/p&gt;
&lt;h3 id=&quot;set-performance-budgets&quot;&gt;Set performance budgets &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/blibli/#set-performance-budgets&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Blibli made performance budgeting a performance standard within the tech
development and management, where the standard was reviewed on a regular basis.
It&#39;s set as the KPI of internal tech development, with the guidance
of top management to ensure the best platform for all of our users.&lt;/p&gt;
&lt;h2 id=&quot;overall-business-results&quot;&gt;Overall business results &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/blibli/#overall-business-results&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;3x reduction in page load times.&lt;/li&gt;
&lt;li&gt;42% reduction in bounce rates.&lt;/li&gt;
&lt;li&gt;8x Better mobile conversion rates in installed PWA compared to browser
mobile web.&lt;/li&gt;
&lt;li&gt;2.5x more pages/sessions on installed PWA.&lt;/li&gt;
&lt;li&gt;10x more revenue per user compared to the previous mobile website.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;quot;Speed and PWA were a valuable investment for us to provide the best mobile
experience and representing our mission, to deliver the best platform for our
users&amp;quot;
&lt;em&gt;—Collin Dion Agata, Lead Product Manager, Blibli&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Photo by &lt;a href=&quot;https://unsplash.com/@cristian1&quot; rel=&quot;noopener&quot;&gt;Cristian Escobar&lt;/a&gt; on Unsplash.&lt;/p&gt;
</content>
    <author>
      <name>Collin Dion Agata</name>
    </author><author>
      <name>Swetha Gopalakrishnan</name>
    </author>
  </entry>
  
  <entry>
    <title>Improving Cumulative Layout Shift at Telegraph Media Group</title>
    <link href="https://web.dev/telegraph/"/>
    <updated>2021-06-14T00:00:00Z</updated>
    <id>https://web.dev/telegraph/</id>
    <content type="text/html" mode="escaped">&lt;div class=&quot;w-aside w-aside--note&quot;&gt;
&lt;p&gt;Chris is a principal software engineer at &lt;a href=&quot;https://www.telegraph.co.uk/&quot; rel=&quot;noopener&quot;&gt;The
Telegraph&lt;/a&gt;. &lt;/p&gt;&lt;/div&gt;&lt;p&gt;&lt;/p&gt;
&lt;h2 id=&quot;the-visual-stability-challenge&quot;&gt;The visual stability challenge &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/telegraph/#the-visual-stability-challenge&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Layout shifts can be very disruptive. At Telegraph Media Group (TMG) visual stability
is particularly important because readers predominantly use our applications to
consume the news. If the layout shifts while reading an article, the reader will
likely lose their place. This can be a frustrating and distracting experience.&lt;/p&gt;
&lt;p&gt;From an engineering perspective, ensuring the pages don&#39;t shift and interrupt
the reader can be challenging, especially when areas of your application are
loaded asynchronously and added to the page dynamically.&lt;/p&gt;
&lt;p&gt;At TMG, we have multiple teams contributing code client-side:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Core engineering.&lt;/strong&gt; Implementing third-party solutions to power areas such
as content recommendations and commenting.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Marketing.&lt;/strong&gt; Running A/B tests to assess how our readers interact with new
features or changes.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Advertising.&lt;/strong&gt; Managing advert requests and advert pre-bidding.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Editorial.&lt;/strong&gt; Embedding code within articles such as tweets or videos, as
well as custom widgets (for example, Coronavirus case tracker).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ensuring each of these teams do not cause the layout of the page to jolt can be
difficult. Using the &lt;a href=&quot;https://web.dev/cls/&quot;&gt;Cumulative Layout Shift&lt;/a&gt; metric to measure how
often it&#39;s occurring for our readers, the teams got more insight into the real
user experience and a clear goal to strive to. This resulted in our 75th
percentile CLS improving from 0.25 to 0.1 and our passing bucket growing from
57% to 72%.&lt;/p&gt;
&lt;div class=&quot;w-stats&quot;&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;250&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;75th percentile CLS improvement&lt;/p&gt;
  &lt;/div&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;15&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;More users with good CLS score&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&quot;where-we-started&quot;&gt;Where we started &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/telegraph/#where-we-started&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Using &lt;a href=&quot;https://web.dev/chrome-ux-report-data-studio-dashboard/&quot;&gt;CrUX dashboards&lt;/a&gt; we were able
to establish that our pages were shifting more than we&#39;d like.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;CrUX Dashboard showing about 55-60% good, 15% needs improvement, and 25% of poor scores.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;472&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 780px) 780px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/JvZwGUWfJ0bxKBQmD11P.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/JvZwGUWfJ0bxKBQmD11P.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/JvZwGUWfJ0bxKBQmD11P.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/JvZwGUWfJ0bxKBQmD11P.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/JvZwGUWfJ0bxKBQmD11P.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/JvZwGUWfJ0bxKBQmD11P.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/JvZwGUWfJ0bxKBQmD11P.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/JvZwGUWfJ0bxKBQmD11P.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/JvZwGUWfJ0bxKBQmD11P.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/JvZwGUWfJ0bxKBQmD11P.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/JvZwGUWfJ0bxKBQmD11P.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/JvZwGUWfJ0bxKBQmD11P.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/JvZwGUWfJ0bxKBQmD11P.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/JvZwGUWfJ0bxKBQmD11P.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/JvZwGUWfJ0bxKBQmD11P.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/JvZwGUWfJ0bxKBQmD11P.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/JvZwGUWfJ0bxKBQmD11P.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/JvZwGUWfJ0bxKBQmD11P.png?auto=format&amp;w=1560 1560w&quot; width=&quot;780&quot; /&gt;
    &lt;figcaption&gt;Our Cumulative Layout Shift scores between June 2020 and February 2021.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;We ideally wanted at least 75% of our readers to have a &amp;quot;good&amp;quot; experience so we
started identifying the causes of the layout instability.&lt;/p&gt;
&lt;h2 id=&quot;how-we-measured-the-layout-shifts&quot;&gt;How we measured the layout shifts &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/telegraph/#how-we-measured-the-layout-shifts&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;We used a combination of &lt;a href=&quot;https://developer.chrome.com/docs/devtools/&quot; rel=&quot;noopener&quot;&gt;Chrome
DevTools&lt;/a&gt; and
&lt;a href=&quot;https://www.webpagetest.org/&quot; rel=&quot;noopener&quot;&gt;WebPageTest&lt;/a&gt; to help recognize what was causing
the layout to shift. In DevTools, we used the &lt;a href=&quot;https://developer.chrome.com/blog/new-in-devtools-84/#cls&quot; rel=&quot;noopener&quot;&gt;Experience
section&lt;/a&gt; of the
&lt;a href=&quot;https://developer.chrome.com/docs/devtools/evaluate-performance/&quot; rel=&quot;noopener&quot;&gt;Performance&lt;/a&gt;
tab to highlight individual instances of shifting layout and how they
contributed to the overall score.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;The front page of Telegraph with an ad in the header highlughted with a blue overlay.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;465&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/zfpYNnnpwtcG7YAmf7E5.jpg?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/zfpYNnnpwtcG7YAmf7E5.jpg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/zfpYNnnpwtcG7YAmf7E5.jpg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/zfpYNnnpwtcG7YAmf7E5.jpg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/zfpYNnnpwtcG7YAmf7E5.jpg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/zfpYNnnpwtcG7YAmf7E5.jpg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/zfpYNnnpwtcG7YAmf7E5.jpg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/zfpYNnnpwtcG7YAmf7E5.jpg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/zfpYNnnpwtcG7YAmf7E5.jpg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/zfpYNnnpwtcG7YAmf7E5.jpg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/zfpYNnnpwtcG7YAmf7E5.jpg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/zfpYNnnpwtcG7YAmf7E5.jpg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/zfpYNnnpwtcG7YAmf7E5.jpg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/zfpYNnnpwtcG7YAmf7E5.jpg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/zfpYNnnpwtcG7YAmf7E5.jpg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/zfpYNnnpwtcG7YAmf7E5.jpg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/zfpYNnnpwtcG7YAmf7E5.jpg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/zfpYNnnpwtcG7YAmf7E5.jpg?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
    &lt;figcaption&gt;Identifying a layout shift caused by the advert loading client-side above the header using the Experience section of Chrome DevTools.&lt;figcaption&gt;
&lt;/figcaption&gt;&lt;/figcaption&gt;&lt;/figure&gt;
&lt;p&gt;&lt;a href=&quot;https://www.webpagetest.org/&quot; rel=&quot;noopener&quot;&gt;WebPageTest&lt;/a&gt; helpfully highlights where the
layout shift occurs in the timeline view when &amp;quot;Highlight Layout Shifts&amp;quot; is
selected.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;WebPageTest filmstrip view of the Telegraph website with the layoutshift highlighted with a red overlay.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;369&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/qaa60OEaFLoKVzWtntVw.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/qaa60OEaFLoKVzWtntVw.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/qaa60OEaFLoKVzWtntVw.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/qaa60OEaFLoKVzWtntVw.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/qaa60OEaFLoKVzWtntVw.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/qaa60OEaFLoKVzWtntVw.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/qaa60OEaFLoKVzWtntVw.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/qaa60OEaFLoKVzWtntVw.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/qaa60OEaFLoKVzWtntVw.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/qaa60OEaFLoKVzWtntVw.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/qaa60OEaFLoKVzWtntVw.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/qaa60OEaFLoKVzWtntVw.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/qaa60OEaFLoKVzWtntVw.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/qaa60OEaFLoKVzWtntVw.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/qaa60OEaFLoKVzWtntVw.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/qaa60OEaFLoKVzWtntVw.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/qaa60OEaFLoKVzWtntVw.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/qaa60OEaFLoKVzWtntVw.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
    &lt;figcaption&gt;WebPageTest highlighting where the layout shifted.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;After reviewing each shift across our most visited templates we came up with a
list of ideas as to how we could improve.&lt;/p&gt;
&lt;h2 id=&quot;reducing-layout-shifts&quot;&gt;Reducing layout shifts &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/telegraph/#reducing-layout-shifts&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;We focused on four areas where we could reduce layout shifts:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;adverts&lt;/li&gt;
&lt;li&gt;images&lt;/li&gt;
&lt;li&gt;headers&lt;/li&gt;
&lt;li&gt;embeds&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;adverts&quot;&gt;Adverts &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/telegraph/#adverts&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;The adverts load after the initial paint via JavaScript. Some of the containers
they loaded in did not have any reserved height on them.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
&lt;img alt=&quot;Animation of the Telegraph website. The list of stories gets pushed down when an ad loads above it.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;438&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 387px) 387px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/klpZyS7okn4DwfPbL5qZ.gif?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/klpZyS7okn4DwfPbL5qZ.gif?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/klpZyS7okn4DwfPbL5qZ.gif?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/klpZyS7okn4DwfPbL5qZ.gif?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/klpZyS7okn4DwfPbL5qZ.gif?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/klpZyS7okn4DwfPbL5qZ.gif?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/klpZyS7okn4DwfPbL5qZ.gif?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/klpZyS7okn4DwfPbL5qZ.gif?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/klpZyS7okn4DwfPbL5qZ.gif?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/klpZyS7okn4DwfPbL5qZ.gif?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/klpZyS7okn4DwfPbL5qZ.gif?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/klpZyS7okn4DwfPbL5qZ.gif?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/klpZyS7okn4DwfPbL5qZ.gif?auto=format&amp;w=774 774w&quot; width=&quot;387&quot; /&gt;
    &lt;figcaption&gt;The &quot;More stories&quot; block below the advert is shifted down after the advert loads.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;Although we don&#39;t know the exact height, we&#39;re able to reserve space by using
the most common advert size loaded in the slot.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;Animation of the Telegraph website. A placeholder rectangle for the ad is placed above the list of stories. The ad loads in place of the placeholder without causing a layout shift.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;438&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 387px) 387px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/aA7rq5NGK1f1cA5FkT8n.gif?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/aA7rq5NGK1f1cA5FkT8n.gif?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/aA7rq5NGK1f1cA5FkT8n.gif?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/aA7rq5NGK1f1cA5FkT8n.gif?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/aA7rq5NGK1f1cA5FkT8n.gif?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/aA7rq5NGK1f1cA5FkT8n.gif?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/aA7rq5NGK1f1cA5FkT8n.gif?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/aA7rq5NGK1f1cA5FkT8n.gif?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/aA7rq5NGK1f1cA5FkT8n.gif?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/aA7rq5NGK1f1cA5FkT8n.gif?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/aA7rq5NGK1f1cA5FkT8n.gif?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/aA7rq5NGK1f1cA5FkT8n.gif?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/aA7rq5NGK1f1cA5FkT8n.gif?auto=format&amp;w=774 774w&quot; width=&quot;387&quot; /&gt;
    &lt;figcaption&gt;By reserving space for the advert, the &quot;More stories&quot; block below remains static before and after the advert loads.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;We had misjudged the average height of the advert in some cases. For tablet
readers, the slot was collapsing.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
&lt;img alt=&quot;Animation of a tablet view of the Telegraph website. The placeholder slot is bigger than the ad so the content shifts up after ad loads.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;313&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 600px) 600px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/by1xeAvvBKNjiZTVbQ1v.gif?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/by1xeAvvBKNjiZTVbQ1v.gif?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/by1xeAvvBKNjiZTVbQ1v.gif?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/by1xeAvvBKNjiZTVbQ1v.gif?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/by1xeAvvBKNjiZTVbQ1v.gif?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/by1xeAvvBKNjiZTVbQ1v.gif?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/by1xeAvvBKNjiZTVbQ1v.gif?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/by1xeAvvBKNjiZTVbQ1v.gif?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/by1xeAvvBKNjiZTVbQ1v.gif?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/by1xeAvvBKNjiZTVbQ1v.gif?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/by1xeAvvBKNjiZTVbQ1v.gif?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/by1xeAvvBKNjiZTVbQ1v.gif?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/by1xeAvvBKNjiZTVbQ1v.gif?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/by1xeAvvBKNjiZTVbQ1v.gif?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/by1xeAvvBKNjiZTVbQ1v.gif?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/by1xeAvvBKNjiZTVbQ1v.gif?auto=format&amp;w=1200 1200w&quot; width=&quot;600&quot; /&gt;
&lt;figcaption&gt;The advert slot collapsing after it loaded for readers on tablet sized devices.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;We revisited the slot and adjusted the height to use the most common size.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
&lt;img alt=&quot;Animation of a tablet view of the Telegraph website. With the placeholder matching the ad size, there&amp;#x27;s no layoutshift when the ad loads.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;205&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 600px) 600px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/arV5fG7O7CUUHb7mdt54.gif?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/arV5fG7O7CUUHb7mdt54.gif?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/arV5fG7O7CUUHb7mdt54.gif?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/arV5fG7O7CUUHb7mdt54.gif?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/arV5fG7O7CUUHb7mdt54.gif?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/arV5fG7O7CUUHb7mdt54.gif?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/arV5fG7O7CUUHb7mdt54.gif?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/arV5fG7O7CUUHb7mdt54.gif?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/arV5fG7O7CUUHb7mdt54.gif?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/arV5fG7O7CUUHb7mdt54.gif?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/arV5fG7O7CUUHb7mdt54.gif?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/arV5fG7O7CUUHb7mdt54.gif?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/arV5fG7O7CUUHb7mdt54.gif?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/arV5fG7O7CUUHb7mdt54.gif?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/arV5fG7O7CUUHb7mdt54.gif?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/arV5fG7O7CUUHb7mdt54.gif?auto=format&amp;w=1200 1200w&quot; width=&quot;600&quot; /&gt;
&lt;figcaption&gt;Ensuring the space we reserved for the advert slot matched the most commonly served height of the advert.
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;images&quot;&gt;Images &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/telegraph/#images&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;A lot of the images across the website are lazy loaded and have their space
reserved for them.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;Animation of article preview cards loading.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;352&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 600px) 600px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/IFeiuIif24EDbbpObx4n.gif?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/IFeiuIif24EDbbpObx4n.gif?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/IFeiuIif24EDbbpObx4n.gif?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/IFeiuIif24EDbbpObx4n.gif?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/IFeiuIif24EDbbpObx4n.gif?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/IFeiuIif24EDbbpObx4n.gif?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/IFeiuIif24EDbbpObx4n.gif?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/IFeiuIif24EDbbpObx4n.gif?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/IFeiuIif24EDbbpObx4n.gif?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/IFeiuIif24EDbbpObx4n.gif?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/IFeiuIif24EDbbpObx4n.gif?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/IFeiuIif24EDbbpObx4n.gif?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/IFeiuIif24EDbbpObx4n.gif?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/IFeiuIif24EDbbpObx4n.gif?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/IFeiuIif24EDbbpObx4n.gif?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/IFeiuIif24EDbbpObx4n.gif?auto=format&amp;w=1200 1200w&quot; width=&quot;600&quot; /&gt;
    &lt;figcaption&gt;Lazy loading images without disrupting the layout.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;However the inline images at the top of the articles did not have any space
reserved on the container, nor did they have width and height attributes
associated with the tags. This caused the layout to shift as they loaded in.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;Animation of the article page loading. When the main image loads at the top of the page, the text moves down.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;612&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 360px) 360px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/G7PnNyKZhURv7mpYMx9Q.gif?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/G7PnNyKZhURv7mpYMx9Q.gif?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/G7PnNyKZhURv7mpYMx9Q.gif?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/G7PnNyKZhURv7mpYMx9Q.gif?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/G7PnNyKZhURv7mpYMx9Q.gif?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/G7PnNyKZhURv7mpYMx9Q.gif?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/G7PnNyKZhURv7mpYMx9Q.gif?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/G7PnNyKZhURv7mpYMx9Q.gif?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/G7PnNyKZhURv7mpYMx9Q.gif?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/G7PnNyKZhURv7mpYMx9Q.gif?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/G7PnNyKZhURv7mpYMx9Q.gif?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/G7PnNyKZhURv7mpYMx9Q.gif?auto=format&amp;w=720 720w&quot; width=&quot;360&quot; /&gt;
    &lt;figcaption&gt;A layout shift caused by the article&#39;s main image.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;Simply adding the width and height attributes to the images ensured the layout
did not shift.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;Animation of the article page loading with placeholder reserved for the main image. When the main image loads at the top of the page, there&amp;#x27;s no layout shift.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;630&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 360px) 360px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/LuYayFKwpXN889Fk3GLG.gif?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/LuYayFKwpXN889Fk3GLG.gif?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/LuYayFKwpXN889Fk3GLG.gif?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/LuYayFKwpXN889Fk3GLG.gif?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/LuYayFKwpXN889Fk3GLG.gif?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/LuYayFKwpXN889Fk3GLG.gif?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/LuYayFKwpXN889Fk3GLG.gif?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/LuYayFKwpXN889Fk3GLG.gif?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/LuYayFKwpXN889Fk3GLG.gif?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/LuYayFKwpXN889Fk3GLG.gif?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/LuYayFKwpXN889Fk3GLG.gif?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/LuYayFKwpXN889Fk3GLG.gif?auto=format&amp;w=720 720w&quot; width=&quot;360&quot; /&gt;
    &lt;figcaption&gt;The main article image loading without causing the layout to shift.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;header&quot;&gt;Header &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/telegraph/#header&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;The header was below the content in the markup and was positioned at the top
using CSS. The original idea was to prioritise the content loading before the
navigation however this caused the page to momentarily shift.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;ALT_TEXT_HERE&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;333&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/ym64zcKRzey40Ov0JYX5.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/ym64zcKRzey40Ov0JYX5.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/ym64zcKRzey40Ov0JYX5.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/ym64zcKRzey40Ov0JYX5.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/ym64zcKRzey40Ov0JYX5.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/ym64zcKRzey40Ov0JYX5.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/ym64zcKRzey40Ov0JYX5.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/ym64zcKRzey40Ov0JYX5.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/ym64zcKRzey40Ov0JYX5.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/ym64zcKRzey40Ov0JYX5.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/ym64zcKRzey40Ov0JYX5.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/ym64zcKRzey40Ov0JYX5.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/ym64zcKRzey40Ov0JYX5.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/ym64zcKRzey40Ov0JYX5.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/ym64zcKRzey40Ov0JYX5.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/ym64zcKRzey40Ov0JYX5.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/ym64zcKRzey40Ov0JYX5.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/ym64zcKRzey40Ov0JYX5.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
    &lt;figcaption&gt;The header of the page loading inelegantly.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;Moving the header to the top of the markup allowed the page to render without
this shift.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;ALT_TEXT_HERE&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;303&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/drYhZauv1oWZyp7mpQz9.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/drYhZauv1oWZyp7mpQz9.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/drYhZauv1oWZyp7mpQz9.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/drYhZauv1oWZyp7mpQz9.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/drYhZauv1oWZyp7mpQz9.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/drYhZauv1oWZyp7mpQz9.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/drYhZauv1oWZyp7mpQz9.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/drYhZauv1oWZyp7mpQz9.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/drYhZauv1oWZyp7mpQz9.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/drYhZauv1oWZyp7mpQz9.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/drYhZauv1oWZyp7mpQz9.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/drYhZauv1oWZyp7mpQz9.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/drYhZauv1oWZyp7mpQz9.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/drYhZauv1oWZyp7mpQz9.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/drYhZauv1oWZyp7mpQz9.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/drYhZauv1oWZyp7mpQz9.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/drYhZauv1oWZyp7mpQz9.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/drYhZauv1oWZyp7mpQz9.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
    &lt;figcaption&gt;The layout is no longer disrupted by the header of the page loading.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;embeds&quot;&gt;Embeds &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/telegraph/#embeds&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Some of the frequently used embeds have a defined aspect ratio. For example,
YouTube videos. While the player is loading, we pull the thumbnail from YouTube
and use it as a placeholder while the video loads.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
&lt;img alt=&quot;The video player slot loading a low resolution thumbnail while the video player loads.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;612&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 360px) 360px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/BKPbdBJROUIUqoT8coFW.gif?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/BKPbdBJROUIUqoT8coFW.gif?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/BKPbdBJROUIUqoT8coFW.gif?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/BKPbdBJROUIUqoT8coFW.gif?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/BKPbdBJROUIUqoT8coFW.gif?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/BKPbdBJROUIUqoT8coFW.gif?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/BKPbdBJROUIUqoT8coFW.gif?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/BKPbdBJROUIUqoT8coFW.gif?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/BKPbdBJROUIUqoT8coFW.gif?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/BKPbdBJROUIUqoT8coFW.gif?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/BKPbdBJROUIUqoT8coFW.gif?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/BKPbdBJROUIUqoT8coFW.gif?auto=format&amp;w=720 720w&quot; width=&quot;360&quot; /&gt;
    &lt;figcaption&gt;The video player slot loading a low resolution thumbnail while the video player loads.
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;measuring-the-impact&quot;&gt;Measuring the impact &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/telegraph/#measuring-the-impact&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;We were able to measure the impact at a feature level quite easily using the
tooling mentioned towards the start of the article. However we wanted to measure
CLS both at a template level and at a site level. Synthetically, we used
&lt;a href=&quot;https://speedcurve.com/&quot; rel=&quot;noopener&quot;&gt;SpeedCurve&lt;/a&gt; to validate changes both in pre-production
and production.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;SpeedCurve chart showing a steep drop in CLS score.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;343&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/kVRCtjeFVTbN7aOV4O0z.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/kVRCtjeFVTbN7aOV4O0z.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/kVRCtjeFVTbN7aOV4O0z.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/kVRCtjeFVTbN7aOV4O0z.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/kVRCtjeFVTbN7aOV4O0z.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/kVRCtjeFVTbN7aOV4O0z.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/kVRCtjeFVTbN7aOV4O0z.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/kVRCtjeFVTbN7aOV4O0z.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/kVRCtjeFVTbN7aOV4O0z.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/kVRCtjeFVTbN7aOV4O0z.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/kVRCtjeFVTbN7aOV4O0z.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/kVRCtjeFVTbN7aOV4O0z.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/kVRCtjeFVTbN7aOV4O0z.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/kVRCtjeFVTbN7aOV4O0z.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/kVRCtjeFVTbN7aOV4O0z.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/kVRCtjeFVTbN7aOV4O0z.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/kVRCtjeFVTbN7aOV4O0z.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/kVRCtjeFVTbN7aOV4O0z.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
    &lt;figcaption&gt;Tracking CLS progress synthetically using SpeedCurve.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;We&#39;re able to then validate the results in our RUM data (provided by
&lt;a href=&quot;https://www.akamai.com/uk/en/products/performance/mpulse-real-user-monitoring.jsp&quot; rel=&quot;noopener&quot;&gt;mPulse&lt;/a&gt;)
once the code reached production.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;mPulse chart showing a drop in CLS score.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;550&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Bv8QeCPy9zQ4eru2qrhU.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Bv8QeCPy9zQ4eru2qrhU.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Bv8QeCPy9zQ4eru2qrhU.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Bv8QeCPy9zQ4eru2qrhU.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Bv8QeCPy9zQ4eru2qrhU.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Bv8QeCPy9zQ4eru2qrhU.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Bv8QeCPy9zQ4eru2qrhU.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Bv8QeCPy9zQ4eru2qrhU.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Bv8QeCPy9zQ4eru2qrhU.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Bv8QeCPy9zQ4eru2qrhU.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Bv8QeCPy9zQ4eru2qrhU.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Bv8QeCPy9zQ4eru2qrhU.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Bv8QeCPy9zQ4eru2qrhU.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Bv8QeCPy9zQ4eru2qrhU.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Bv8QeCPy9zQ4eru2qrhU.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Bv8QeCPy9zQ4eru2qrhU.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Bv8QeCPy9zQ4eru2qrhU.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Bv8QeCPy9zQ4eru2qrhU.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
    &lt;figcaption&gt;Validating site-wide CLS improvements with mPulse RUM data before and after making changes.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;Checking the RUM data provides us with a good level of confidence that the
changes we&#39;re making are having a positive impact for our readers.&lt;/p&gt;
&lt;p&gt;The final numbers we looked at are for the RUM data Google collects. This is
especially relevant now as they will soon &lt;a href=&quot;https://developers.google.com/search/blog/2020/05/evaluating-page-experience#page-experience-ranking&quot; rel=&quot;noopener&quot;&gt;have an impact on page
ranking&lt;/a&gt;.
For starters we used the &lt;a href=&quot;https://web.dev/chrome-ux-report/&quot;&gt;Chrome UX Report&lt;/a&gt;, both in the
monthly origin level data available through the &lt;a href=&quot;https://g.co/chromeuxdash&quot; rel=&quot;noopener&quot;&gt;CrUX
dashboard&lt;/a&gt;, as well as by &lt;a href=&quot;https://web.dev/chrome-ux-report-bigquery/&quot;&gt;querying
BigQuery&lt;/a&gt; to retrieve historic p75 data. This way
we were easily able to see that for all of the traffic measured by CrUX, &lt;strong&gt;our
75th percentile CLS improved by 250% from 0.25 to 0.1 and our passing bucket
grew from 57% to 72%&lt;/strong&gt;.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;CrUX dashboard showing p75 CLS for telegraph.co.uk is 0.1.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;449&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/vmmokEtVcn7FJzmOIJB8.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/vmmokEtVcn7FJzmOIJB8.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/vmmokEtVcn7FJzmOIJB8.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/vmmokEtVcn7FJzmOIJB8.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/vmmokEtVcn7FJzmOIJB8.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/vmmokEtVcn7FJzmOIJB8.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/vmmokEtVcn7FJzmOIJB8.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/vmmokEtVcn7FJzmOIJB8.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/vmmokEtVcn7FJzmOIJB8.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/vmmokEtVcn7FJzmOIJB8.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/vmmokEtVcn7FJzmOIJB8.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/vmmokEtVcn7FJzmOIJB8.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/vmmokEtVcn7FJzmOIJB8.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/vmmokEtVcn7FJzmOIJB8.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/vmmokEtVcn7FJzmOIJB8.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/vmmokEtVcn7FJzmOIJB8.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/vmmokEtVcn7FJzmOIJB8.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/vmmokEtVcn7FJzmOIJB8.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
    &lt;figcaption&gt;Results from the Crux Dashboard.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;BigQuery showing p75 values improving month to month, from 0.25 to 0.1.&quot; decoding=&quot;async&quot; height=&quot;517&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 488px) 488px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/8d8UOEi5GPcIitsTcQMA.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/8d8UOEi5GPcIitsTcQMA.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/8d8UOEi5GPcIitsTcQMA.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/8d8UOEi5GPcIitsTcQMA.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/8d8UOEi5GPcIitsTcQMA.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/8d8UOEi5GPcIitsTcQMA.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/8d8UOEi5GPcIitsTcQMA.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/8d8UOEi5GPcIitsTcQMA.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/8d8UOEi5GPcIitsTcQMA.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/8d8UOEi5GPcIitsTcQMA.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/8d8UOEi5GPcIitsTcQMA.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/8d8UOEi5GPcIitsTcQMA.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/8d8UOEi5GPcIitsTcQMA.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/8d8UOEi5GPcIitsTcQMA.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/8d8UOEi5GPcIitsTcQMA.png?auto=format&amp;w=976 976w&quot; width=&quot;488&quot; /&gt;
    &lt;figcaption&gt;BigQuery run displaying the p75 values of 2021 to date.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;In addition, we were able to make use of the &lt;a href=&quot;https://developers.google.com/web/tools/chrome-user-experience-report/api/reference&quot; rel=&quot;noopener&quot;&gt;Chrome UX Report
API&lt;/a&gt;
and create some internal dashboards split into templates.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;Internal dashboard showing average good score of 76.2, needs improvement of 9.3, and poor score of 14.6.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;402&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/aYW2QPaFucKThXxZfFAD.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/aYW2QPaFucKThXxZfFAD.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/aYW2QPaFucKThXxZfFAD.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/aYW2QPaFucKThXxZfFAD.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/aYW2QPaFucKThXxZfFAD.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/aYW2QPaFucKThXxZfFAD.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/aYW2QPaFucKThXxZfFAD.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/aYW2QPaFucKThXxZfFAD.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/aYW2QPaFucKThXxZfFAD.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/aYW2QPaFucKThXxZfFAD.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/aYW2QPaFucKThXxZfFAD.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/aYW2QPaFucKThXxZfFAD.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/aYW2QPaFucKThXxZfFAD.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/aYW2QPaFucKThXxZfFAD.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/aYW2QPaFucKThXxZfFAD.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/aYW2QPaFucKThXxZfFAD.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/aYW2QPaFucKThXxZfFAD.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/aYW2QPaFucKThXxZfFAD.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
    &lt;figcaption&gt;Internal dashboards making use of the Chrome UX Report API highlighting our average score and the worst performing pages using that template.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;avoiding-cls-regressions&quot;&gt;Avoiding CLS regressions &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/telegraph/#avoiding-cls-regressions&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;An important aspect of making performance improvements is avoiding regressions.
We&#39;ve set up some basic &lt;a href=&quot;https://web.dev/performance-budgets-101/&quot;&gt;performance budgets&lt;/a&gt; for our
key metrics and included CLS in those.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;343&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/9ggBNUTAptmnmxVlXZGo.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/9ggBNUTAptmnmxVlXZGo.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/9ggBNUTAptmnmxVlXZGo.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/9ggBNUTAptmnmxVlXZGo.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/9ggBNUTAptmnmxVlXZGo.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/9ggBNUTAptmnmxVlXZGo.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/9ggBNUTAptmnmxVlXZGo.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/9ggBNUTAptmnmxVlXZGo.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/9ggBNUTAptmnmxVlXZGo.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/9ggBNUTAptmnmxVlXZGo.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/9ggBNUTAptmnmxVlXZGo.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/9ggBNUTAptmnmxVlXZGo.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/9ggBNUTAptmnmxVlXZGo.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/9ggBNUTAptmnmxVlXZGo.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/9ggBNUTAptmnmxVlXZGo.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/9ggBNUTAptmnmxVlXZGo.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/9ggBNUTAptmnmxVlXZGo.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/9ggBNUTAptmnmxVlXZGo.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
    &lt;figcaption&gt;A performance budget dashboard which shows synthetic checks measuring CLS on some of our high traffic templates. The budget is currently set at 0.025.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;If the test exceeds the budget it&#39;ll send a message to a Slack channel so we can
investigate the cause. We&#39;ve also set up weekly reports, so that even if the
templates remain in budget we&#39;re aware of any changes that have had a negative
impact.&lt;/p&gt;
&lt;p&gt;We&#39;re also planning to expand our budgets to use RUM data as well as synthetic
data, using mPulse to set both &lt;a href=&quot;https://learn.akamai.com/en-us/webhelp/mpulse/mpulse-help/GUID-CEE8FE75-2CD9-423A-BB3E-26EC9D8735A9.html&quot; rel=&quot;noopener&quot;&gt;static
alerts&lt;/a&gt;
and potentially &lt;a href=&quot;https://learn.akamai.com/en-us/webhelp/mpulse/mpulse-help/GUID-C6C446C4-E545-471F-A943-2CE6D885E60C.html&quot; rel=&quot;noopener&quot;&gt;anomaly
detection&lt;/a&gt;
which would make us aware of any changes that are out of the ordinary.&lt;/p&gt;
&lt;p&gt;It&#39;s important for us to approach new features with CLS in mind. A lot of the
changes I&#39;ve mentioned are those we&#39;ve had to fix after they&#39;ve been released to
our readers. Layout stability will be a consideration for the solution design of
any new feature going forward so that we can avoid any unexpected layout shifts
from the start.&lt;/p&gt;
&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/telegraph/#conclusion&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The improvements we&#39;ve made so far were quite easy to implement and have had a
significant impact. A lot of changes I&#39;ve outlined in this article didn&#39;t take
much time to deliver and they were applied to all of the most commonly used
templates which means they&#39;ve had a widespread positive impact for our readers.&lt;/p&gt;
&lt;p&gt;There are still areas of the site we need to improve. We&#39;re exploring ways we
might be able to do more of our client-side logic server-side which will improve
CLS even more. We will keep tracking and monitoring our metrics with an aim to
constantly improve them and provide our readers with the best user experience
possible.&lt;/p&gt;
</content>
    <author>
      <name>Chris Boakes</name>
    </author>
  </entry>
  
  <entry>
    <title>Deprecating Excalidraw Electron in favor of the web version</title>
    <link href="https://web.dev/deprecating-excalidraw-electron/"/>
    <updated>2021-01-07T00:00:00Z</updated>
    <id>https://web.dev/deprecating-excalidraw-electron/</id>
    <content type="text/html" mode="escaped">&lt;div class=&quot;w-aside w-aside--note&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://excalidraw.com/&quot; rel=&quot;noopener&quot;&gt;Excalidraw&lt;/a&gt; is a virtual collaborative whiteboard that lets you easily sketch diagrams that feel hand-drawn.
This article was cross-posted to and first appeared on the &lt;a href=&quot;https://blog.excalidraw.com/deprecating-excalidraw-electron/&quot; rel=&quot;noopener&quot;&gt;Excalidraw blog&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;On the &lt;a href=&quot;https://github.com/excalidraw&quot; rel=&quot;noopener&quot;&gt;Excalidraw project&lt;/a&gt;, we have decided to
deprecate &lt;a href=&quot;https://github.com/excalidraw/excalidraw-desktop&quot; rel=&quot;noopener&quot;&gt;Excalidraw Desktop&lt;/a&gt;, an
&lt;a href=&quot;https://www.electronjs.org/&quot; rel=&quot;noopener&quot;&gt;Electron&lt;/a&gt; wrapper for Excalidraw, in favor of the web version that you
can—and always could—find at &lt;a href=&quot;https://excalidraw.com/&quot; rel=&quot;noopener&quot;&gt;excalidraw.com&lt;/a&gt;. After a careful analysis, we
have decided that &lt;a href=&quot;https://web.dev/pwa/&quot;&gt;Progressive Web App&lt;/a&gt; (PWA) is the future we want to build
upon. Read on to learn why.&lt;/p&gt;
&lt;h2 id=&quot;how-excalidraw-desktop-came-into-being&quot;&gt;How Excalidraw Desktop came into being &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/deprecating-excalidraw-electron/#how-excalidraw-desktop-came-into-being&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Soon after &lt;a href=&quot;https://twitter.com/vjeux&quot; rel=&quot;noopener&quot;&gt;@vjeux&lt;/a&gt; created the initial version of Excalidraw in
January 2020 and &lt;a href=&quot;https://blog.excalidraw.com/reflections-on-excalidraw/&quot; rel=&quot;noopener&quot;&gt;blogged about it&lt;/a&gt;, he proposed the following in
&lt;a href=&quot;https://github.com/excalidraw/excalidraw/issues/561#issue-555138343&quot; rel=&quot;noopener&quot;&gt;Issue #561&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Would be great to wrap Excalidraw within Electron (or equivalent) and publish it as a [platform-specific]
application to the various app stores.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The immediate reaction by &lt;a href=&quot;https://github.com/voluntadpear&quot; rel=&quot;noopener&quot;&gt;@voluntadpear&lt;/a&gt; was to suggest:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;What about making it a PWA instead? Android currently supports adding them to the Play Store as
Trusted Web Activities and hopefully iOS will do the same soon. On Desktop, Chrome lets you
download a desktop shortcut to a PWA.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The decision that &lt;a href=&quot;https://github.com/vjeux&quot; rel=&quot;noopener&quot;&gt;@vjeux&lt;/a&gt; took in the end was simple:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;We should do both :)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;While work on converting the version of Excalidraw into a PWA was started by
&lt;a href=&quot;https://github.com/voluntadpear&quot; rel=&quot;noopener&quot;&gt;@voluntadpear&lt;/a&gt; and later others,
&lt;a href=&quot;https://github.com/lipis&quot; rel=&quot;noopener&quot;&gt;@lipis&lt;/a&gt; independently
&lt;a href=&quot;https://github.com/excalidraw/excalidraw/issues/561#issuecomment-579573783&quot; rel=&quot;noopener&quot;&gt;went ahead&lt;/a&gt; and created
a &lt;a href=&quot;https://github.com/excalidraw/excalidraw-desktop&quot; rel=&quot;noopener&quot;&gt;separate repo&lt;/a&gt; for Excalidraw Desktop.&lt;/p&gt;
&lt;p&gt;To this day, the initial goal set by &lt;a href=&quot;https://github.com/vjeux&quot; rel=&quot;noopener&quot;&gt;@vjeux&lt;/a&gt;, that is, to submit
Excalidraw to the various app stores, has not been reached yet. Honestly, no one has even started
the submission process to any of the stores. But why is that? Before I answer, let&#39;s
look at Electron, the platform.&lt;/p&gt;
&lt;h2 id=&quot;what-is-electron&quot;&gt;What is Electron? &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/deprecating-excalidraw-electron/#what-is-electron&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The unique selling point of &lt;a href=&quot;https://www.electronjs.org/&quot; rel=&quot;noopener&quot;&gt;Electron&lt;/a&gt; is that it allows you to &lt;em&gt;&amp;quot;build
cross-platform desktop apps with JavaScript, HTML, and CSS&amp;quot;&lt;/em&gt;. Apps built with Electron are
&lt;em&gt;&amp;quot;compatible with Mac, Windows, and Linux&amp;quot;&lt;/em&gt;, that is, &lt;em&gt;&amp;quot;Electron apps build and run on three
platforms&amp;quot;&lt;/em&gt;. According to the homepage, the hard parts that Electron makes easy are
&lt;a href=&quot;https://www.electronjs.org/docs/api/auto-updater&quot; rel=&quot;noopener&quot;&gt;automatic updates&lt;/a&gt;,
&lt;a href=&quot;https://www.electronjs.org/docs/api/menu&quot; rel=&quot;noopener&quot;&gt;system-level menus and notifications&lt;/a&gt;,
&lt;a href=&quot;https://www.electronjs.org/docs/api/crash-reporter&quot; rel=&quot;noopener&quot;&gt;crash reporting&lt;/a&gt;,
&lt;a href=&quot;https://www.electronjs.org/docs/api/content-tracing&quot; rel=&quot;noopener&quot;&gt;debugging and profiling&lt;/a&gt;, and
&lt;a href=&quot;https://www.electronjs.org/docs/api/auto-updater#windows&quot; rel=&quot;noopener&quot;&gt;Windows installers&lt;/a&gt;. Turns out, some of
the promised features need a detailed look at the small print.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;For example, automatic updates &lt;em&gt;&amp;quot;are [currently] only [supported] on macOS and Windows. There is
no built-in support for auto-updater on Linux, so it is recommended to use the distribution&#39;s
package manager to update your app&amp;quot;&lt;/em&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Developers can create system-level menus by calling &lt;code&gt;Menu.setApplicationMenu(menu)&lt;/code&gt;. On Windows and
Linux, the menu will be set as each window&#39;s top menu, while on macOS there are many
system-defined standard menus, like the
&lt;a href=&quot;https://developer.apple.com/documentation/appkit/nsapplication/1428608-servicesmenu?language=objc&quot; rel=&quot;noopener&quot;&gt;Services&lt;/a&gt;
menu. To make one&#39;s menus a standard menu, developers should set their menu&#39;s &lt;code&gt;role&lt;/code&gt; accordingly,
and Electron will recognize them and make them become standard menus. This means that a lot of
menu-related code will use the following platform check:
&lt;code&gt;const isMac = process.platform === &#39;darwin&#39;&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Windows installers can be made with
&lt;a href=&quot;https://github.com/electron/windows-installer&quot; rel=&quot;noopener&quot;&gt;windows-installer&lt;/a&gt;. The README of the project
highlights that &lt;em&gt;&amp;quot;for a production app you need to sign your application. Internet Explorer&#39;s
SmartScreen filter will block your app from being downloaded, and many anti-virus vendors will
consider your app as malware unless you obtain a valid cert&amp;quot;&lt;/em&gt; [sic].&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Looking at just these three examples, it is clear that Electron is far from &amp;quot;write once, run
everywhere&amp;quot;. Distributing an app on app stores requires
&lt;a href=&quot;https://www.electronjs.org/docs/tutorial/code-signing&quot; rel=&quot;noopener&quot;&gt;code signing&lt;/a&gt;, a security technology for
certifying app ownership. Packaging an app requires using tools like
&lt;a href=&quot;https://github.com/electron-userland/electron-forge&quot; rel=&quot;noopener&quot;&gt;electron-forge&lt;/a&gt; and thinking about where to
host packages for app updates. It gets complex relatively quickly, especially when the objective
truly is cross platform support. I want to note that it is &lt;em&gt;absolutely&lt;/em&gt; possible to create stunning
Electron apps with enough effort and dedication. For Excalidraw Desktop, we were not there.&lt;/p&gt;
&lt;h2 id=&quot;where-excalidraw-desktop-left-off&quot;&gt;Where Excalidraw Desktop left off &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/deprecating-excalidraw-electron/#where-excalidraw-desktop-left-off&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Excalidraw Desktop so far is basically the Excalidraw web app bundled as an
&lt;a href=&quot;https://github.com/electron/asar&quot; rel=&quot;noopener&quot;&gt;&lt;code&gt;.asar&lt;/code&gt;&lt;/a&gt; file with an added &lt;strong&gt;About Excalidraw&lt;/strong&gt; window. The look
and feel of the application is almost identical to the web version.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;The Excalidraw Desktop application running in an Electron wrapper.&quot; decoding=&quot;async&quot; height=&quot;601&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/admin/oR9usELiRYTSu8V7i7vj.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/admin/oR9usELiRYTSu8V7i7vj.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/admin/oR9usELiRYTSu8V7i7vj.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/admin/oR9usELiRYTSu8V7i7vj.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/admin/oR9usELiRYTSu8V7i7vj.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/admin/oR9usELiRYTSu8V7i7vj.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/admin/oR9usELiRYTSu8V7i7vj.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/admin/oR9usELiRYTSu8V7i7vj.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/admin/oR9usELiRYTSu8V7i7vj.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/admin/oR9usELiRYTSu8V7i7vj.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/admin/oR9usELiRYTSu8V7i7vj.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/admin/oR9usELiRYTSu8V7i7vj.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/admin/oR9usELiRYTSu8V7i7vj.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/admin/oR9usELiRYTSu8V7i7vj.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/admin/oR9usELiRYTSu8V7i7vj.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/admin/oR9usELiRYTSu8V7i7vj.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/admin/oR9usELiRYTSu8V7i7vj.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/admin/oR9usELiRYTSu8V7i7vj.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;Excalidraw Desktop is almost indistinguishable from the web version&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;The Excalidraw Desktop &amp;#x27;About&amp;#x27; window displaying the version of the Electron wrapper and the web app.&quot; decoding=&quot;async&quot; height=&quot;330&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 400px) 400px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/admin/y9d4nWR3p0VjvHcnP0iq.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/admin/y9d4nWR3p0VjvHcnP0iq.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/admin/y9d4nWR3p0VjvHcnP0iq.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/admin/y9d4nWR3p0VjvHcnP0iq.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/admin/y9d4nWR3p0VjvHcnP0iq.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/admin/y9d4nWR3p0VjvHcnP0iq.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/admin/y9d4nWR3p0VjvHcnP0iq.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/admin/y9d4nWR3p0VjvHcnP0iq.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/admin/y9d4nWR3p0VjvHcnP0iq.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/admin/y9d4nWR3p0VjvHcnP0iq.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/admin/y9d4nWR3p0VjvHcnP0iq.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/admin/y9d4nWR3p0VjvHcnP0iq.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/admin/y9d4nWR3p0VjvHcnP0iq.png?auto=format&amp;w=800 800w&quot; width=&quot;400&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;The &lt;strong&gt;About Excalibur&lt;/strong&gt; menu providing insights into the versions&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;On macOS, there is now a system-level menu at the top of the application, but since none of the menu
actions—apart from &lt;strong&gt;Close Window&lt;/strong&gt; and &lt;strong&gt;About Excalidraw&lt;/strong&gt;—are hooked up to to anything, the menu
is, in its current state, pretty useless. Meanwhile, all actions can of course be performed via the
regular Excalidraw toolbars and the context menu.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;The Excalidraw Desktop menu bar on macOS with the &amp;#x27;File&amp;#x27;, &amp;#x27;Close Window&amp;#x27; menu item selected.&quot; decoding=&quot;async&quot; height=&quot;138&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 736px) 736px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/admin/akQQgmMKo66quqeVDdAH.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/admin/akQQgmMKo66quqeVDdAH.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/admin/akQQgmMKo66quqeVDdAH.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/admin/akQQgmMKo66quqeVDdAH.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/admin/akQQgmMKo66quqeVDdAH.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/admin/akQQgmMKo66quqeVDdAH.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/admin/akQQgmMKo66quqeVDdAH.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/admin/akQQgmMKo66quqeVDdAH.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/admin/akQQgmMKo66quqeVDdAH.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/admin/akQQgmMKo66quqeVDdAH.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/admin/akQQgmMKo66quqeVDdAH.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/admin/akQQgmMKo66quqeVDdAH.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/admin/akQQgmMKo66quqeVDdAH.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/admin/akQQgmMKo66quqeVDdAH.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/admin/akQQgmMKo66quqeVDdAH.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/admin/akQQgmMKo66quqeVDdAH.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/admin/akQQgmMKo66quqeVDdAH.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/admin/akQQgmMKo66quqeVDdAH.png?auto=format&amp;w=1472 1472w&quot; width=&quot;736&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;The menu bar of Excalidraw Desktop on macOS&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;We use &lt;a href=&quot;https://github.com/electron-userland/electron-builder&quot; rel=&quot;noopener&quot;&gt;electron-builder&lt;/a&gt;, which supports
&lt;a href=&quot;https://www.electron.build/configuration/configuration#PlatformSpecificBuildOptions-fileAssociations&quot; rel=&quot;noopener&quot;&gt;file type associations&lt;/a&gt;.
By double-clicking an &lt;code&gt;.excalidraw&lt;/code&gt; file, ideally the Excalidraw Desktop app should open. The
relevant excerpt of our &lt;code&gt;electron-builder.json&lt;/code&gt; file looks like this:&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token property&quot;&gt;&quot;fileAssociations&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;      &lt;span class=&quot;token property&quot;&gt;&quot;ext&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;excalidraw&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;      &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Excalidraw&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;      &lt;span class=&quot;token property&quot;&gt;&quot;description&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Excalidraw file&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;      &lt;span class=&quot;token property&quot;&gt;&quot;role&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Editor&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;      &lt;span class=&quot;token property&quot;&gt;&quot;mimeType&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;application/json&quot;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;p&gt;Unfortunately, in practice, this does not always work as intended, since, depending on the
installation type (for the current user, for all users), apps on Windows 10 do not have the
rights to associate a file type to themselves.&lt;/p&gt;
&lt;p&gt;These shortcomings and the pending work to make the experience truly app-like on &lt;em&gt;all&lt;/em&gt; platforms
(which, again, with enough effort &lt;em&gt;is&lt;/em&gt; possible) were a strong argument for us to reconsider our
investment in Excalidraw Desktop. The way bigger argument for us, though, was that we foresee that
for &lt;em&gt;our&lt;/em&gt; use case, we do not need all the features Electron offers. The grown and still growing set
of capabilities of the web serves us equally well, if not better.&lt;/p&gt;
&lt;h2 id=&quot;how-the-web-serves-us-today-and-in-the-future&quot;&gt;How the web serves us today and in the future &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/deprecating-excalidraw-electron/#how-the-web-serves-us-today-and-in-the-future&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Even in 2020, &lt;a href=&quot;https://jquery.com/&quot; rel=&quot;noopener&quot;&gt;jQuery&lt;/a&gt; is still
&lt;a href=&quot;https://almanac.httparchive.org/en/2020/javascript#libraries&quot; rel=&quot;noopener&quot;&gt;incredibly popular&lt;/a&gt;. For many
developers it has become a habit to use it, despite the fact that today they
&lt;a href=&quot;http://youmightnotneedjquery.com/&quot; rel=&quot;noopener&quot;&gt;might not need jQuery&lt;/a&gt;. There is a similar resource for
Electron, aptly called &lt;a href=&quot;https://youmightnotneedelectron.com/&quot; rel=&quot;noopener&quot;&gt;You Might Not Need Electron&lt;/a&gt;. Let me
outline why we think we do not need Electron.&lt;/p&gt;
&lt;h3 id=&quot;installable-progressive-web-app&quot;&gt;Installable Progressive Web App &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/deprecating-excalidraw-electron/#installable-progressive-web-app&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Excalidraw today is an &lt;a href=&quot;https://web.dev/installable/&quot;&gt;installable&lt;/a&gt; Progressive Web App with a
&lt;a href=&quot;https://excalidraw.com/service-worker.js&quot; rel=&quot;noopener&quot;&gt;service worker&lt;/a&gt; and a
&lt;a href=&quot;https://excalidraw.com/manifest.json&quot; rel=&quot;noopener&quot;&gt;web app manifest&lt;/a&gt;. It caches all its resources in two caches,
one for fonts and font-related CSS, and one for everything else.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;Chrome DevTools Application tab showing the two Excalidraw caches.&quot; decoding=&quot;async&quot; height=&quot;569&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/admin/tTo7miHIREZRySv8aoBd.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/admin/tTo7miHIREZRySv8aoBd.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/admin/tTo7miHIREZRySv8aoBd.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/admin/tTo7miHIREZRySv8aoBd.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/admin/tTo7miHIREZRySv8aoBd.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/admin/tTo7miHIREZRySv8aoBd.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/admin/tTo7miHIREZRySv8aoBd.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/admin/tTo7miHIREZRySv8aoBd.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/admin/tTo7miHIREZRySv8aoBd.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/admin/tTo7miHIREZRySv8aoBd.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/admin/tTo7miHIREZRySv8aoBd.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/admin/tTo7miHIREZRySv8aoBd.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/admin/tTo7miHIREZRySv8aoBd.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/admin/tTo7miHIREZRySv8aoBd.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/admin/tTo7miHIREZRySv8aoBd.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/admin/tTo7miHIREZRySv8aoBd.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/admin/tTo7miHIREZRySv8aoBd.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/admin/tTo7miHIREZRySv8aoBd.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;Excalidraw&#39;s cache contents&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;This means the application is fully offline-capable and can run without a network connection.
Chromium-based browsers on both desktop and mobile prompt the user to install the app.
You can see the installation prompt in the screenshot below.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;Excalidraw prompting the user to install the app in Chrome on macOS.&quot; decoding=&quot;async&quot; height=&quot;258&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 400px) 400px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/admin/be3EQLezj3776w6SHLPi.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/admin/be3EQLezj3776w6SHLPi.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/admin/be3EQLezj3776w6SHLPi.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/admin/be3EQLezj3776w6SHLPi.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/admin/be3EQLezj3776w6SHLPi.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/admin/be3EQLezj3776w6SHLPi.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/admin/be3EQLezj3776w6SHLPi.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/admin/be3EQLezj3776w6SHLPi.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/admin/be3EQLezj3776w6SHLPi.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/admin/be3EQLezj3776w6SHLPi.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/admin/be3EQLezj3776w6SHLPi.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/admin/be3EQLezj3776w6SHLPi.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/admin/be3EQLezj3776w6SHLPi.png?auto=format&amp;w=800 800w&quot; width=&quot;400&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;The Excalidraw install dialog in Chrome&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;Excalidraw is configured to run as a standalone application, so when you install it, you get an app
that runs in its own window. It is fully integrated in the operating system&#39;s multitasking UI and
gets its own app icon on the home screen, Dock, or task bar; depending on the platform where you install
it.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;Excalidraw running in its own window.&quot; decoding=&quot;async&quot; height=&quot;584&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/admin/MbMgQlGSBeNcX7Y362jV.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/admin/MbMgQlGSBeNcX7Y362jV.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/admin/MbMgQlGSBeNcX7Y362jV.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/admin/MbMgQlGSBeNcX7Y362jV.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/admin/MbMgQlGSBeNcX7Y362jV.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/admin/MbMgQlGSBeNcX7Y362jV.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/admin/MbMgQlGSBeNcX7Y362jV.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/admin/MbMgQlGSBeNcX7Y362jV.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/admin/MbMgQlGSBeNcX7Y362jV.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/admin/MbMgQlGSBeNcX7Y362jV.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/admin/MbMgQlGSBeNcX7Y362jV.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/admin/MbMgQlGSBeNcX7Y362jV.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/admin/MbMgQlGSBeNcX7Y362jV.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/admin/MbMgQlGSBeNcX7Y362jV.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/admin/MbMgQlGSBeNcX7Y362jV.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/admin/MbMgQlGSBeNcX7Y362jV.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/admin/MbMgQlGSBeNcX7Y362jV.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/admin/MbMgQlGSBeNcX7Y362jV.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;The Excalidraw PWA in a standalone window&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;Excalidraw icon on the macOS Dock.&quot; decoding=&quot;async&quot; height=&quot;167&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 400px) 400px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/admin/7ncf98ZQZcg4g3UP2s7F.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/admin/7ncf98ZQZcg4g3UP2s7F.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/admin/7ncf98ZQZcg4g3UP2s7F.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/admin/7ncf98ZQZcg4g3UP2s7F.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/admin/7ncf98ZQZcg4g3UP2s7F.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/admin/7ncf98ZQZcg4g3UP2s7F.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/admin/7ncf98ZQZcg4g3UP2s7F.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/admin/7ncf98ZQZcg4g3UP2s7F.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/admin/7ncf98ZQZcg4g3UP2s7F.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/admin/7ncf98ZQZcg4g3UP2s7F.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/admin/7ncf98ZQZcg4g3UP2s7F.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/admin/7ncf98ZQZcg4g3UP2s7F.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/admin/7ncf98ZQZcg4g3UP2s7F.png?auto=format&amp;w=800 800w&quot; width=&quot;400&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;The Excalidraw icon on the macOS Dock&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;file-system-access&quot;&gt;File system access &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/deprecating-excalidraw-electron/#file-system-access&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Excalidraw uses &lt;a href=&quot;https://github.com/GoogleChromeLabs/browser-fs-access&quot; rel=&quot;noopener&quot;&gt;browser-fs-access&lt;/a&gt; for
accessing the file system of the operating system. On supporting browsers, this allows for a true
open→edit→save workflow and actual over-saving and &amp;quot;save as&amp;quot;, with a transparent fallback for
other browsers. You can learn more about this feature in my blog post
&lt;a href=&quot;https://web.dev/browser-fs-access/&quot;&gt;Reading and writing files and directories with the browser-fs-access library&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;drag-and-drop-support&quot;&gt;Drag and drop support &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/deprecating-excalidraw-electron/#drag-and-drop-support&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Files can be dragged and dropped onto the Excalidraw window just as in platform-specific applications. On a
browser that supports the &lt;a href=&quot;https://web.dev/file-system-access/&quot;&gt;File System Access API&lt;/a&gt;, a dropped
file can be immediately edited and the modifications be saved to the original file. This is so
intuitive that you sometimes forget that you are dealing with a web app.&lt;/p&gt;
&lt;h3 id=&quot;clipboard-access&quot;&gt;Clipboard access &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/deprecating-excalidraw-electron/#clipboard-access&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Excalidraw works well with the operating system&#39;s clipboard. Entire Excalidraw drawings or also just
individual objects can be copied and pasted in &lt;code&gt;image/png&lt;/code&gt; and &lt;code&gt;image/svg+xml&lt;/code&gt; formats, allowing for
an easy integration with other platform-specific tools like &lt;a href=&quot;https://inkscape.org/&quot; rel=&quot;noopener&quot;&gt;Inkscape&lt;/a&gt; or web-based
tools like &lt;a href=&quot;https://jakearchibald.github.io/svgomg/&quot; rel=&quot;noopener&quot;&gt;SVGOMG&lt;/a&gt;.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;Excalidraw context menu showing the &amp;#x27;copy to clipboard as SVG&amp;#x27; and &amp;#x27;copy to clipboard as PNG&amp;#x27; menu items.&quot; decoding=&quot;async&quot; height=&quot;746&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/admin/90gLbYTtkKtDfun4fiRM.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/admin/90gLbYTtkKtDfun4fiRM.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/admin/90gLbYTtkKtDfun4fiRM.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/admin/90gLbYTtkKtDfun4fiRM.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/admin/90gLbYTtkKtDfun4fiRM.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/admin/90gLbYTtkKtDfun4fiRM.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/admin/90gLbYTtkKtDfun4fiRM.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/admin/90gLbYTtkKtDfun4fiRM.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/admin/90gLbYTtkKtDfun4fiRM.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/admin/90gLbYTtkKtDfun4fiRM.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/admin/90gLbYTtkKtDfun4fiRM.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/admin/90gLbYTtkKtDfun4fiRM.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/admin/90gLbYTtkKtDfun4fiRM.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/admin/90gLbYTtkKtDfun4fiRM.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/admin/90gLbYTtkKtDfun4fiRM.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/admin/90gLbYTtkKtDfun4fiRM.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/admin/90gLbYTtkKtDfun4fiRM.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/admin/90gLbYTtkKtDfun4fiRM.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;The Excalidraw context menu offering clipboard actions&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;file-handling&quot;&gt;File handling &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/deprecating-excalidraw-electron/#file-handling&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Excalidraw already supports the experimental &lt;a href=&quot;https://web.dev/file-handling/&quot;&gt;File Handling API&lt;/a&gt;,
which means &lt;code&gt;.excalidraw&lt;/code&gt; files can be double-clicked in the operating system&#39;s file manager and
open directly in the Excalidraw app, since Excalidraw registers as a file handler for &lt;code&gt;.excalidraw&lt;/code&gt;
files in the operating system.&lt;/p&gt;
&lt;h3 id=&quot;declarative-link-capturing&quot;&gt;Declarative link capturing &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/deprecating-excalidraw-electron/#declarative-link-capturing&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Excalidraw drawings can be shared by link. Here is an
&lt;a href=&quot;https://excalidraw.com/#json=4646308765761536,jwZJW8JsOM75vdhqG2nBgA&quot; rel=&quot;noopener&quot;&gt;example&lt;/a&gt;. In the future, if
people have Excalidraw installed as a PWA, such links will not open in a browser tab, but launch a
new standalone window. Pending implementation, this will work thanks to
&lt;a href=&quot;https://github.com/WICG/sw-launch/blob/master/declarative_link_capturing.md&quot; rel=&quot;noopener&quot;&gt;declarative link capturing&lt;/a&gt;,
an, at the time of writing, bleeding-edge proposal for a new web platform feature.&lt;/p&gt;
&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/deprecating-excalidraw-electron/#conclusion&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The web has come a long way, with more and more features landing in browsers that only a couple of
years or even months ago were unthinkable on the web and exclusive to platform-specific applications.
Excalidraw is at the forefront of what is possible in the browser, all while acknowledging that not
all browsers on all platforms support each feature we use. By betting on a progressive
enhancement strategy, we enjoy the latest and greatest wherever possible, but without leaving anyone
behind. Best viewed in &lt;em&gt;any&lt;/em&gt; browser.&lt;/p&gt;
&lt;p&gt;Electron has served us well, but in 2020 and beyond, we can live without it. Oh, and for that
objective of &lt;a href=&quot;https://github/com/vjeux&quot; rel=&quot;noopener&quot;&gt;@vjeux&lt;/a&gt;: since the Android Play Store now accepts PWAs in a
container format called &lt;a href=&quot;https://web.dev/using-a-pwa-in-your-android-app/&quot;&gt;Trusted Web Activity&lt;/a&gt; and
since the
&lt;a href=&quot;https://docs.microsoft.com/en-us/microsoft-edge/progressive-web-apps-edgehtml/microsoft-store&quot; rel=&quot;noopener&quot;&gt;Microsoft Store supports PWAs&lt;/a&gt;,
too, you can expect Excalidraw in these stores in the not too distant future. Meanwhile, you can
always use and install &lt;a href=&quot;https://excalidraw.com/&quot; rel=&quot;noopener&quot;&gt;Excalidraw in and from the browser&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;acknowledgements&quot;&gt;Acknowledgements &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/deprecating-excalidraw-electron/#acknowledgements&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;This article was reviewed by &lt;a href=&quot;https://github.com/lipis&quot; rel=&quot;noopener&quot;&gt;@lipis&lt;/a&gt;,
&lt;a href=&quot;https://github.com/dwelle&quot; rel=&quot;noopener&quot;&gt;@dwelle&lt;/a&gt;, and
&lt;a href=&quot;https://github.com/jpmedley&quot; rel=&quot;noopener&quot;&gt;Joe Medley&lt;/a&gt;.&lt;/p&gt;
</content>
    <author>
      <name>Thomas Steiner</name>
    </author>
  </entry>
  
  <entry>
    <title>Mainline Menswear implements PWA and sees a 55% conversion rate uplift</title>
    <link href="https://web.dev/mainline-mensware/"/>
    <updated>2021-04-20T00:00:00Z</updated>
    <id>https://web.dev/mainline-mensware/</id>
    <content type="text/html" mode="escaped">&lt;p&gt;Mainline is an online clothing retailer that offers the biggest designer brand names in fashion. The
UK-based company entrusts its team of in-house experts, blended strategically with key partners, to
provide a frictionless shopping experience for all. With market presence in over 100 countries via
seven custom-built territorial websites and an app, Mainline will continue to ensure the ecommerce
offering is rivalling the competition.&lt;/p&gt;
&lt;h2 id=&quot;challenge&quot;&gt;Challenge &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/mainline-mensware/#challenge&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Mainline Menswear&#39;s goal was to complement the current mobile optimized website with progressive
features that would adhere to their &#39;mobile first&#39; vision, focusing on mobile-friendly design and
functionality with a growing smartphone market in mind.&lt;/p&gt;
&lt;h2 id=&quot;solution&quot;&gt;Solution &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/mainline-mensware/#solution&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The objective was to build and launch a PWA that complemented the original mobile friendly version
of the Mainline Menswear website, and then compare the stats to their hybrid mobile app,
which is currently available on Android and iOS.&lt;/p&gt;
&lt;p&gt;Once the app launched and was being used by a small section of Mainline Menswear users, they were able to
determine the difference in key stats between PWA, app, and Web.&lt;/p&gt;
&lt;p&gt;The approach Mainline took when converting their website to a PWA was to make sure that
the framework they selected for their website (Nuxt.js, utilizing Vue.js) would be future-proof
and enable them to take advantage of fast moving web technology.&lt;/p&gt;
&lt;h2 id=&quot;results&quot;&gt;Results &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/mainline-mensware/#results&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;div class=&quot;w-stats&quot;&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;139&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;More pages per session in PWA vs. web.&lt;/p&gt;
  &lt;/div&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;161&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;Longer session durations in PWA vs. web.&lt;/p&gt;
  &lt;/div&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;10&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;Lower bounce rate in PWA vs. web&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;w-stats&quot;&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;12.5&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;Higher average order value in PWA vs. web&lt;/p&gt;
  &lt;/div&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;55&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;Higher conversion rate in PWA vs. web.&lt;/p&gt;
  &lt;/div&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;243&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;Higher revenue per session in PWA vs. web.&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&quot;technical-deep-dive&quot;&gt;Technical deep dive &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/mainline-mensware/#technical-deep-dive&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://www.mainlinemenswear.co.uk/&quot; rel=&quot;noopener&quot;&gt;Mainline Menswear&lt;/a&gt; is using the
&lt;a href=&quot;https://nuxtjs.org/&quot; rel=&quot;noopener&quot;&gt;Nuxt.js framework&lt;/a&gt; to bundle and render their site, which is a single page
application (SPA).&lt;/p&gt;
&lt;h3 id=&quot;generating-a-service-worker-file&quot;&gt;Generating a service worker file &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/mainline-mensware/#generating-a-service-worker-file&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;For generating the service worker, Mainline Menswear added configuration through a custom
implementation of the &lt;a href=&quot;https://pwa.nuxtjs.org/workbox&quot; rel=&quot;noopener&quot;&gt;&lt;code&gt;nuxt/pwa&lt;/code&gt; Workbox module&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The reason they forked the &lt;code&gt;nuxt/pwa&lt;/code&gt; module was to allow the team to add more customizations to the
service worker file that they weren&#39;t able to or had issues with when using the standard version.
One such optimization was around the &lt;a href=&quot;https://web.dev/mainline-mensware/#providing-offline-functionality&quot;&gt;offline functionality&lt;/a&gt; of
the site like, for example, serving a default offline page and gathering analytics while offline.&lt;/p&gt;
&lt;h3 id=&quot;anatomy-of-the-web-app-manifest&quot;&gt;Anatomy of the web app manifest &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/mainline-mensware/#anatomy-of-the-web-app-manifest&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;The team generated a manifest with icons for different mobile app icon sizes and other web app
details like &lt;code&gt;name&lt;/code&gt;, &lt;code&gt;description&lt;/code&gt; and &lt;code&gt;theme_color&lt;/code&gt;:&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Mainline Menswear&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token property&quot;&gt;&quot;short_name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;MMW&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token property&quot;&gt;&quot;description&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Shop mens designer clothes with Mainline Menswear. Famous brands including Hugo Boss, Adidas, and Emporio Armani.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token property&quot;&gt;&quot;icons&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;      &lt;span class=&quot;token property&quot;&gt;&quot;src&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/_nuxt/icons/icon_512.c2336e.png&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;      &lt;span class=&quot;token property&quot;&gt;&quot;sizes&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;512x512&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;      &lt;span class=&quot;token property&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;image/png&quot;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token property&quot;&gt;&quot;theme_color&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;#107cbb&quot;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;p&gt;The web app, once installed, can be launched from the home screen without the browser getting in the
way. This is achieved by adding the &lt;code&gt;display&lt;/code&gt; parameter in the web app manifest file:&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token property&quot;&gt;&quot;display&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;standalone&quot;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;p&gt;Last but not the least, the company is now able to easily track how many users are visiting their
web app from the home screen by simply appending a &lt;code&gt;utm_source&lt;/code&gt; parameter in the &lt;code&gt;start_url&lt;/code&gt; field of
the manifest:&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token property&quot;&gt;&quot;start_url&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/?utm_source=pwa&quot;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;div class=&quot;w-aside w-aside--note&quot;&gt;
&lt;p&gt;See &lt;a href=&quot;https://web.dev/add-manifest/&quot;&gt;Add a web app manifest&lt;/a&gt; for a more in-depth explanation of all the
web app manifest fields. &lt;/p&gt;&lt;/div&gt;&lt;p&gt;&lt;/p&gt;
&lt;h3 id=&quot;runtime-caching-for-faster-navigations&quot;&gt;Runtime caching for faster navigations &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/mainline-mensware/#runtime-caching-for-faster-navigations&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Caching for web apps is a must for page speed optimization and for providing a better user
experience for returning users.&lt;/p&gt;
&lt;p&gt;For caching on the web, there are quite a few
&lt;a href=&quot;https://dev.to/jonchen/service-worker-caching-and-http-caching-p82&quot; rel=&quot;noopener&quot;&gt;different approaches&lt;/a&gt;. The team
is using a mix of the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Caching&quot; rel=&quot;noopener&quot;&gt;HTTP cache&lt;/a&gt; and
the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Cache&quot; rel=&quot;noopener&quot;&gt;Cache API&lt;/a&gt; for caching assets on the
client side.&lt;/p&gt;
&lt;p&gt;The Cache API gives Mainline Menswear finer control over the cached assets, allowing them to apply
complex strategies to each file type. While all this sounds complicated and hard to set up and
maintain, &lt;a href=&quot;https://developers.google.com/web/tools/workbox&quot; rel=&quot;noopener&quot;&gt;Workbox&lt;/a&gt; provides them with an easy
way of declaring such complex strategies and eases the pain of maintenance.&lt;/p&gt;
&lt;h4 id=&quot;caching-css-and-js&quot;&gt;Caching CSS and JS &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/mainline-mensware/#caching-css-and-js&quot;&gt;#&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;For CSS and JS files, the team chose to cache them and serve them over the cache using the
&lt;a href=&quot;https://developers.google.com/web/tools/workbox/reference-docs/latest/module-workbox-strategies.StaleWhileRevalidate&quot; rel=&quot;noopener&quot;&gt;&lt;code&gt;StaleWhileRevalidate&lt;/code&gt;&lt;/a&gt;
Workbox strategy. This strategy allows them to serve all Nuxt CSS and JS files fast,
which significantly increases their site&#39;s performance.
At the same time, the files are being updated in the background to the latest version for the next visit:&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* sw.js */&lt;/span&gt;&lt;br /&gt;workbox&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;routing&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;registerRoute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token regex&quot;&gt;&lt;span class=&quot;token regex-delimiter&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token regex-source language-regex&quot;&gt;\/_nuxt\/.*(?:js|css)$&lt;/span&gt;&lt;span class=&quot;token regex-delimiter&quot;&gt;/&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;workbox&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strategies&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;StaleWhileRevalidate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    cacheName&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;css_js&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token string&quot;&gt;&#39;GET&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;h4 id=&quot;caching-google-fonts&quot;&gt;Caching Google fonts &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/mainline-mensware/#caching-google-fonts&quot;&gt;#&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;The strategy for caching Google Fonts depends on two file types:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The stylesheet that contains the &lt;code&gt;@font-face&lt;/code&gt; declarations.&lt;/li&gt;
&lt;li&gt;The underlying font files (requested within the stylesheet mentioned above).&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Cache the Google Fonts stylesheets with a stale-while-revalidate strategy.&lt;/span&gt;&lt;br /&gt;workbox&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;routing&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;registerRoute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token regex&quot;&gt;&lt;span class=&quot;token regex-delimiter&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token regex-source language-regex&quot;&gt;https:\/\/fonts\.googleapis\.com\/*&lt;/span&gt;&lt;span class=&quot;token regex-delimiter&quot;&gt;/&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;workbox&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strategies&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;StaleWhileRevalidate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    cacheName&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;google_fonts_stylesheets&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token string&quot;&gt;&#39;GET&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token comment&quot;&gt;// Cache the underlying font files with a cache-first strategy for 1 year.&lt;/span&gt;&lt;br /&gt;workbox&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;routing&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;registerRoute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token regex&quot;&gt;&lt;span class=&quot;token regex-delimiter&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token regex-source language-regex&quot;&gt;https:\/\/fonts\.gstatic\.com\/*&lt;/span&gt;&lt;span class=&quot;token regex-delimiter&quot;&gt;/&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;workbox&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strategies&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;CacheFirst&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    cacheName&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;google_fonts_webfonts&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    plugins&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;br /&gt;      &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;workbox&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;cacheableResponse&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;CacheableResponsePlugin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;        statuses&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;      &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;workbox&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;expiration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ExpirationPlugin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;        maxAgeSeconds&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;24&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;365&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 1 year&lt;/span&gt;&lt;br /&gt;        maxEntries&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token string&quot;&gt;&#39;GET&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;div class=&quot;w-aside w-aside--note&quot;&gt;
&lt;p&gt;A full example of the common Google Fonts strategy can be found in the
&lt;a href=&quot;https://developers.google.com/web/tools/workbox/guides/common-recipes#google_fonts&quot; rel=&quot;noopener&quot;&gt;Workbox Docs&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;h4 id=&quot;caching-images&quot;&gt;Caching images &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/mainline-mensware/#caching-images&quot;&gt;#&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;For images, Mainline Menswear decided to go with two strategies. The first strategy applies
to all images coming from their CDN, which are usually product images. Their pages are image-heavy so
they are conscious of not taking too much of their users&#39; device storage. So through Workbox, they
added a strategy that is &lt;strong&gt;caching images coming only from their CDN&lt;/strong&gt; with a &lt;strong&gt;maximum
of 60 images&lt;/strong&gt; using the
&lt;a href=&quot;https://developers.google.com/web/tools/workbox/reference-docs/latest/module-workbox-expiration.ExpirationPlugin&quot; rel=&quot;noopener&quot;&gt;&lt;code&gt;ExpirationPlugin&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The 61st (newest) image requested, replaces the 1st (oldest) image so that no more than 60 product
images are cached at any point in time.&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;workbox&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;routing&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;registerRoute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; url&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; request &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;&lt;br /&gt;    url&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;origin &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;https://mainline-menswear-res.cloudinary.com&#39;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;br /&gt;    request&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;destination &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;image&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;workbox&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strategies&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;StaleWhileRevalidate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    cacheName&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;product_images&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    plugins&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;br /&gt;      &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;workbox&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;expiration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ExpirationPlugin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token comment&quot;&gt;// Only cache 60 images.&lt;/span&gt;&lt;br /&gt;        maxEntries&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;        purgeOnQuotaError&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;p&gt;The second image strategy handles the rest of the images being requested by the origin.
These images tend to be very few and small across the whole origin, but to be on the safe side,
the number of these cached images is also limited to 60.&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;workbox&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;routing&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;registerRoute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token regex&quot;&gt;&lt;span class=&quot;token regex-delimiter&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token regex-source language-regex&quot;&gt;\.(?:png|gif|jpg|jpeg|svg|webp)$&lt;/span&gt;&lt;span class=&quot;token regex-delimiter&quot;&gt;/&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;workbox&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strategies&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;StaleWhileRevalidate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    cacheName&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;images&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    plugins&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;br /&gt;      &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;workbox&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;expiration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ExpirationPlugin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token comment&quot;&gt;// Only cache 60 images.&lt;/span&gt;&lt;br /&gt;        maxEntries&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;        purgeOnQuotaError&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;div class=&quot;w-aside w-aside--objective&quot;&gt;
&lt;p&gt;&lt;strong&gt;Objective&lt;/strong&gt;:  Even though the caching strategy is exactly the same as the previous one, by
splitting images into two caches (&lt;code&gt;product_images&lt;/code&gt; and &lt;code&gt;images&lt;/code&gt;), it allows for more flexible
updates to the strategies or caches. &lt;/p&gt;&lt;/div&gt;&lt;p&gt;&lt;/p&gt;
&lt;h3 id=&quot;providing-offline-functionality&quot;&gt;Providing offline functionality &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/mainline-mensware/#providing-offline-functionality&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;The offline page is precached right after the service worker is installed and activated. They do
this by creating a list of all offline dependencies: the offline HTML file and an offline SVG icon.&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;OFFLINE_HTML&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;/offline/offline.html&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;PRECACHE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; url&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;OFFLINE_HTML&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; revision&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;70f044fda3e9647a98f084763ae2c32a&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; url&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;/offline/offline.svg&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; revision&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;efe016c546d7ba9f20aefc0afa9fc74a&#39;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;p&gt;The precache list is then fed into Workbox which takes care of all the heavy lifting of adding the
URLs to the cache, checking for any revision mismatch, updating, and serving the
precached files with a &lt;code&gt;CacheFirst&lt;/code&gt; strategy.&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;workbox&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;precaching&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;precacheAndRoute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PRECACHE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;h4 id=&quot;handling-offline-navigations&quot;&gt;Handling offline navigations &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/mainline-mensware/#handling-offline-navigations&quot;&gt;#&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;Once the service worker activates and the offline page is precached, it is then used to &lt;strong&gt;respond to
offline navigation requests by the user&lt;/strong&gt;. While Mainline Menswear&#39;s web app is an SPA, the offline
page shows only after the page reloads, the user closes and reopens the browser tab, or when the web
app is launched from the home screen while offline.&lt;/p&gt;
&lt;p&gt;To achieve this, Mainline Menswear provided a fallback to failed
&lt;a href=&quot;https://developers.google.com/web/tools/workbox/reference-docs/latest/module-workbox-routing.NavigationRoute&quot; rel=&quot;noopener&quot;&gt;&lt;code&gt;NavigationRoute&lt;/code&gt;&lt;/a&gt;
requests with the precached offline page:&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; htmlHandler &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;workbox&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strategies&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;NetworkOnly&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; navigationRoute &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;workbox&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;routing&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;NavigationRoute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; event &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; request &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;request&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token comment&quot;&gt;// A NavigationRoute matches navigation requests in the browser, i.e. requests for HTML&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;mark class=&quot;highlight-line highlight-line-active&quot;&gt;    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; htmlHandler&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;handle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; request &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; caches&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;match&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;OFFLINE_HTML&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/mark&gt;&lt;br /&gt;&lt;mark class=&quot;highlight-line highlight-line-active&quot;&gt;        ignoreSearch&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;/mark&gt;&lt;br /&gt;&lt;mark class=&quot;highlight-line highlight-line-active&quot;&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/mark&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;workbox&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;routing&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;registerRoute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;navigationRoute&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;h2 id=&quot;demo&quot;&gt;Demo &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/mainline-mensware/#demo&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;video autoplay=&quot;&quot; loop=&quot;&quot; muted=&quot;&quot; playsinline=&quot;&quot; width=&quot;300&quot;&gt;      &lt;source src=&quot;https://storage.googleapis.com/web-dev-uploads/video/8WbTDNrhLsU0El80frMBGE4eMCD3/eJgApjFLpSRFMcMyC4e0.mp4&quot; type=&quot;video/mp4&quot; /&gt;    &lt;/video&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;Offline page example as seen on www.mainlinemenswear.co.uk.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;reporting-successful-installs&quot;&gt;Reporting successful installs &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/mainline-mensware/#reporting-successful-installs&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Apart from the home screen launch tracking (with &lt;code&gt;&amp;quot;start_url&amp;quot;: &amp;quot;/?utm_source=pwa&amp;quot;&lt;/code&gt; in the web
application manifest), the web app also reports successful app installs by listening to the
&lt;code&gt;appinstalled&lt;/code&gt; event on &lt;code&gt;window&lt;/code&gt;:&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#39;appinstalled&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;evt&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token function&quot;&gt;ga&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#39;send&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;event&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;Install&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;Success&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;blockquote&gt;
   Adding PWA capabilities to your website will
  further enhance your customers experience of shopping with you, and will be quicker to market than a
  [platform-specific] app. 
  &lt;cite&gt;Andy Hoyle, Head of Development&lt;/cite&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/mainline-mensware/#conclusion&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;To learn more about progressive web apps and how to build them, head to the
&lt;a href=&quot;https://web.dev/progressive-web-apps/&quot;&gt;Progressive Web Apps section&lt;/a&gt; on web.dev.&lt;/p&gt;
&lt;p&gt;To read more Progressive Web Apps case studies, browse to the
&lt;a href=&quot;https://web.dev/tags/case-study/&quot;&gt;case studies section&lt;/a&gt;.&lt;/p&gt;
</content>
    <author>
      <name>Charis Theodoulou</name>
    </author><author>
      <name>Natasha Kosoglov</name>
    </author><author>
      <name>Thomas Steiner</name>
    </author>
  </entry>
  
  <entry>
    <title>The business impact of Core Web Vitals</title>
    <link href="https://web.dev/vitals-business-impact/"/>
    <updated>2021-05-18T00:00:00Z</updated>
    <id>https://web.dev/vitals-business-impact/</id>
    <content type="text/html" mode="escaped">&lt;img alt=&quot;LCP, FID, CLS&quot; decoding=&quot;async&quot; height=&quot;232&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/m80oUd2zASInyKJJ7QNc.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/m80oUd2zASInyKJJ7QNc.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/m80oUd2zASInyKJJ7QNc.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/m80oUd2zASInyKJJ7QNc.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/m80oUd2zASInyKJJ7QNc.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/m80oUd2zASInyKJJ7QNc.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/m80oUd2zASInyKJJ7QNc.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/m80oUd2zASInyKJJ7QNc.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/m80oUd2zASInyKJJ7QNc.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/m80oUd2zASInyKJJ7QNc.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/m80oUd2zASInyKJJ7QNc.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/m80oUd2zASInyKJJ7QNc.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/m80oUd2zASInyKJJ7QNc.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/m80oUd2zASInyKJJ7QNc.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/m80oUd2zASInyKJJ7QNc.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/m80oUd2zASInyKJJ7QNc.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/m80oUd2zASInyKJJ7QNc.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/m80oUd2zASInyKJJ7QNc.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;p&gt;Are you struggling to convince your stakeholders to adopt
&lt;a href=&quot;https://web.dev/learn-web-vitals/&quot;&gt;Core Web Vitals&lt;/a&gt;?
Or are you wondering if it actually helps your business?
This article will help you understand how Core Web Vitals correlate with
key business metrics by exploring examples of companies which have already seen
positive impact for their users and business.&lt;/p&gt;
&lt;p&gt;If you prefer video, check out this talk from Google I/O:&lt;/p&gt;
&lt;div class=&quot;youtube&quot;&gt;  &lt;lite-youtube videoid=&quot;nPmAE0YjGK0&quot;&gt;  &lt;/lite-youtube&gt;&lt;/div&gt;
&lt;h2 id=&quot;why-core-web-vitals-matter-to-your-users-and-business&quot;&gt;Why Core Web Vitals matter to your users and business &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/vitals-business-impact/#why-core-web-vitals-matter-to-your-users-and-business&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Different stakeholders in an organization can have different priorities.
Core Web Vitals can bring them all on the same page by focusing on
optimizing user-centric metrics and the resulting business growth.&lt;/p&gt;
&lt;img alt=&quot;Thinking about CWV.&quot; decoding=&quot;async&quot; height=&quot;318&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/zqgaPavQTlKrJVTs9ttR.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/zqgaPavQTlKrJVTs9ttR.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/zqgaPavQTlKrJVTs9ttR.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/zqgaPavQTlKrJVTs9ttR.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/zqgaPavQTlKrJVTs9ttR.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/zqgaPavQTlKrJVTs9ttR.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/zqgaPavQTlKrJVTs9ttR.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/zqgaPavQTlKrJVTs9ttR.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/zqgaPavQTlKrJVTs9ttR.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/zqgaPavQTlKrJVTs9ttR.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/zqgaPavQTlKrJVTs9ttR.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/zqgaPavQTlKrJVTs9ttR.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/zqgaPavQTlKrJVTs9ttR.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/zqgaPavQTlKrJVTs9ttR.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/zqgaPavQTlKrJVTs9ttR.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/zqgaPavQTlKrJVTs9ttR.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/zqgaPavQTlKrJVTs9ttR.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/zqgaPavQTlKrJVTs9ttR.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;p&gt;The path to good Core Web Vitals can vary from site to site
depending on where they are in the performance journey and how complex the site design is.
It can range from grabbing the low-hanging fruit and getting meaningful results;
to implementing complex solutions that fix challenging issues.
Regardless of the amount of time spent,
decision makers should treat this as a long term investment into growth of their business.
Delivering a fast and seamless navigation experience delights users
and helps turn them into loyal and returning customers.
For product managers, performance should be an important criteria
that defines the quality and success of new product features.
And product excellence and working on interesting challenges improves developer satisfaction as well.&lt;/p&gt;
&lt;p&gt;While &lt;a href=&quot;https://developers.google.com/search/blog/2021/04/more-details-page-experience&quot; rel=&quot;noopener&quot;&gt;Core Web Vitals as a ranking signal&lt;/a&gt;
gives additional motivation to invest time in performance,
adopting Core Web Vitals has many other short- and long-term benefits beyond ranking.
Let&#39;s explore several case studies of global and local brands who adopted Core Web Vitals
(before it had impact on ranking) because of its focus on user experience.&lt;/p&gt;
&lt;h2 id=&quot;case-studies&quot;&gt;Case studies &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/vitals-business-impact/#case-studies&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id=&quot;vodafone&quot;&gt;Vodafone &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/vitals-business-impact/#vodafone&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Vodafone (Italy) improved LCP by &lt;strong&gt;31%&lt;/strong&gt; to achieve &lt;strong&gt;8% more sales&lt;/strong&gt;.&lt;/p&gt;
&lt;img alt=&quot;8% more sales&quot; decoding=&quot;async&quot; height=&quot;368&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/OThyIjGk0YMLgXbvMbFT.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/OThyIjGk0YMLgXbvMbFT.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/OThyIjGk0YMLgXbvMbFT.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/OThyIjGk0YMLgXbvMbFT.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/OThyIjGk0YMLgXbvMbFT.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/OThyIjGk0YMLgXbvMbFT.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/OThyIjGk0YMLgXbvMbFT.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/OThyIjGk0YMLgXbvMbFT.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/OThyIjGk0YMLgXbvMbFT.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/OThyIjGk0YMLgXbvMbFT.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/OThyIjGk0YMLgXbvMbFT.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/OThyIjGk0YMLgXbvMbFT.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/OThyIjGk0YMLgXbvMbFT.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/OThyIjGk0YMLgXbvMbFT.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/OThyIjGk0YMLgXbvMbFT.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/OThyIjGk0YMLgXbvMbFT.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/OThyIjGk0YMLgXbvMbFT.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/OThyIjGk0YMLgXbvMbFT.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;h4 id=&quot;techniques&quot;&gt;Techniques &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/vitals-business-impact/#techniques&quot;&gt;#&lt;/a&gt;&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Server Side Render the critical HTML.&lt;/li&gt;
&lt;li&gt;Reduce render blocking Javascript.&lt;/li&gt;
&lt;li&gt;Image optimization techniques.&lt;/li&gt;
&lt;li&gt;Resize hero image; defer non critical resources.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;key-learnings&quot;&gt;Key learnings &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/vitals-business-impact/#key-learnings&quot;&gt;#&lt;/a&gt;&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;A/B testing is the best way to measure the meaningful impact.&lt;/li&gt;
&lt;li&gt;A/B should be a server side one.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;icook&quot;&gt;iCook &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/vitals-business-impact/#icook&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;iCook improved CLS by 15% to achieve 10% more ad revenue.&lt;/p&gt;
&lt;img alt=&quot;Chart showing ad revenue increasing.&quot; decoding=&quot;async&quot; height=&quot;422&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/VUyTBGhoj9Tr17yhAcD7.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/VUyTBGhoj9Tr17yhAcD7.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/VUyTBGhoj9Tr17yhAcD7.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/VUyTBGhoj9Tr17yhAcD7.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/VUyTBGhoj9Tr17yhAcD7.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/VUyTBGhoj9Tr17yhAcD7.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/VUyTBGhoj9Tr17yhAcD7.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/VUyTBGhoj9Tr17yhAcD7.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/VUyTBGhoj9Tr17yhAcD7.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/VUyTBGhoj9Tr17yhAcD7.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/VUyTBGhoj9Tr17yhAcD7.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/VUyTBGhoj9Tr17yhAcD7.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/VUyTBGhoj9Tr17yhAcD7.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/VUyTBGhoj9Tr17yhAcD7.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/VUyTBGhoj9Tr17yhAcD7.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/VUyTBGhoj9Tr17yhAcD7.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/VUyTBGhoj9Tr17yhAcD7.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/VUyTBGhoj9Tr17yhAcD7.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;h4 id=&quot;techniques-2&quot;&gt;Techniques &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/vitals-business-impact/#techniques-2&quot;&gt;#&lt;/a&gt;&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Less variability in ad unit size and fixed size ad slots pre-allocated in UI.&lt;/li&gt;
&lt;li&gt;Optimized ad script loading logic to prioritize header bidding and defer non-critical JS.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;key-learnings-2&quot;&gt;Key learnings &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/vitals-business-impact/#key-learnings-2&quot;&gt;#&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;Fill rate might get impacted but eventually revenue uplifts with ads viewability improvement.&lt;/p&gt;
&lt;h3 id=&quot;tokopedia&quot;&gt;Tokopedia &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/vitals-business-impact/#tokopedia&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Tokopedia improved LCP by 55% and saw 23% better average session duration.&lt;/p&gt;
&lt;img alt=&quot;Before 3.78s, after 1.72s.&quot; decoding=&quot;async&quot; height=&quot;722&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/HsbbXe0pp73pfZvAlwNl.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/HsbbXe0pp73pfZvAlwNl.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/HsbbXe0pp73pfZvAlwNl.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/HsbbXe0pp73pfZvAlwNl.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/HsbbXe0pp73pfZvAlwNl.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/HsbbXe0pp73pfZvAlwNl.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/HsbbXe0pp73pfZvAlwNl.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/HsbbXe0pp73pfZvAlwNl.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/HsbbXe0pp73pfZvAlwNl.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/HsbbXe0pp73pfZvAlwNl.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/HsbbXe0pp73pfZvAlwNl.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/HsbbXe0pp73pfZvAlwNl.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/HsbbXe0pp73pfZvAlwNl.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/HsbbXe0pp73pfZvAlwNl.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/HsbbXe0pp73pfZvAlwNl.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/HsbbXe0pp73pfZvAlwNl.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/HsbbXe0pp73pfZvAlwNl.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/HsbbXe0pp73pfZvAlwNl.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;h4 id=&quot;techniques-3&quot;&gt;Techniques &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/vitals-business-impact/#techniques-3&quot;&gt;#&lt;/a&gt;&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Server-side render (SSR) LCP element.&lt;/li&gt;
&lt;li&gt;Preload LCP Element.&lt;/li&gt;
&lt;li&gt;Image optimization (compression, WebP, lazy load non-critical images).&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;key-learnings-3&quot;&gt;Key learnings &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/vitals-business-impact/#key-learnings-3&quot;&gt;#&lt;/a&gt;&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Built a performance monitoring dashboard
to monitor progress and impact across teams.&lt;/li&gt;
&lt;li&gt;Experimented with different rendering techniques
(for example, SSR LCP element vs SSR above the fold content vs Full client-side rendering).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The case studies above show that you can achieve a lot
by adopting best practices and implementing quick wins.
Here are a few more real-world examples of this point.&lt;/p&gt;
&lt;img alt=&quot;GEDI saw 77% reduction in CLS and 8% reduction in bounce rate, Lazada saw 3xLCP and 16.9 increase in conversion rate on mobile, GYAO saw 3.1x LCP and 108% improvement in click-thorugh rate&quot; decoding=&quot;async&quot; height=&quot;447&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/hIDblcgodY2P2ltWd9nt.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/hIDblcgodY2P2ltWd9nt.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/hIDblcgodY2P2ltWd9nt.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/hIDblcgodY2P2ltWd9nt.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/hIDblcgodY2P2ltWd9nt.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/hIDblcgodY2P2ltWd9nt.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/hIDblcgodY2P2ltWd9nt.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/hIDblcgodY2P2ltWd9nt.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/hIDblcgodY2P2ltWd9nt.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/hIDblcgodY2P2ltWd9nt.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/hIDblcgodY2P2ltWd9nt.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/hIDblcgodY2P2ltWd9nt.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/hIDblcgodY2P2ltWd9nt.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/hIDblcgodY2P2ltWd9nt.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/hIDblcgodY2P2ltWd9nt.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/hIDblcgodY2P2ltWd9nt.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/hIDblcgodY2P2ltWd9nt.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/hIDblcgodY2P2ltWd9nt.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;p&gt;The above results were achieved by grabbing low hanging fruit such as:&lt;/p&gt;
&lt;div class=&quot;w-table-wrapper&quot;&gt;
  &lt;table&gt;
    &lt;thead&gt;
      &lt;tr&gt;
        &lt;th&gt;&lt;a href=&quot;https://web.dev/fast/#i18n.paths.fast.topics.optimize_your_images&quot;&gt;
        Image optimization&lt;/a&gt;&lt;/th&gt;
        &lt;th&gt;&lt;a href=&quot;https://web.dev/optimize-lcp/&quot;&gt;JavaScript optimization&lt;/a&gt;&lt;/th&gt;
        &lt;th&gt;&lt;a href=&quot;https://web.dev/optimize-cls/#ads-embeds-and-iframes-without-dimensions&quot;&gt;
        Ads and dynamic content&lt;/a&gt;&lt;/th&gt;
      &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
      &lt;tr&gt;
        &lt;td&gt;Using WebP image format&lt;/td&gt;
        &lt;td&gt;Deferring third-party JS&lt;/td&gt;
        &lt;td&gt;Reserving space for ads above-the-fold&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;Using image CDNs&lt;/td&gt;
        &lt;td&gt;Removing render-blocking and unused JS&lt;/td&gt;
        &lt;td&gt;Setting height for dynamic content&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;Compression&lt;/td&gt;
        &lt;td&gt;Lazy-loading non-critical JS&lt;/td&gt;
        &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;Deferring non-critical images&lt;/td&gt;
        &lt;td&gt;Preloading critical JS&lt;/td&gt;
        &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;Preloading hero images&lt;/td&gt;
        &lt;td&gt;&lt;/td&gt;
        &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;a href=&quot;https://web.dev/image-aspect-ratio/&quot;&gt;Specifying aspect ratio&lt;/a&gt;&lt;/td&gt;
        &lt;td&gt;&lt;/td&gt;
        &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/tbody&gt;
  &lt;/table&gt;
&lt;/div&gt;
&lt;p&gt;For more best practices, check out the
&lt;a href=&quot;https://web.dev/learn-web-vitals&quot;&gt;Web Vitals guidance&lt;/a&gt;.
Use
&lt;a href=&quot;https://developers.google.com/speed/pagespeed/insights/&quot; rel=&quot;noopener&quot;&gt;PageSpeed Insights&lt;/a&gt;
to audit your website and get actionable recommendations immediately.&lt;/p&gt;
&lt;p&gt;There are several more global brands which have also benefited from investing in Core Web Vitals.&lt;/p&gt;
&lt;img alt=&quot;&quot; decoding=&quot;async&quot; height=&quot;424&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/awVh5EYicG4VRqOWb3au.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/awVh5EYicG4VRqOWb3au.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/awVh5EYicG4VRqOWb3au.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/awVh5EYicG4VRqOWb3au.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/awVh5EYicG4VRqOWb3au.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/awVh5EYicG4VRqOWb3au.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/awVh5EYicG4VRqOWb3au.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/awVh5EYicG4VRqOWb3au.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/awVh5EYicG4VRqOWb3au.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/awVh5EYicG4VRqOWb3au.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/awVh5EYicG4VRqOWb3au.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/awVh5EYicG4VRqOWb3au.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/awVh5EYicG4VRqOWb3au.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/awVh5EYicG4VRqOWb3au.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/awVh5EYicG4VRqOWb3au.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/awVh5EYicG4VRqOWb3au.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/awVh5EYicG4VRqOWb3au.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/awVh5EYicG4VRqOWb3au.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;ul&gt;
&lt;li&gt;Tencent Video saw &lt;strong&gt;70% better CTR&lt;/strong&gt; for videos by passing Core Web Vitals.&lt;/li&gt;
&lt;li&gt;Cdiscount improved all 3 metrics which contributed to &lt;strong&gt;6% revenue uplift&lt;/strong&gt; in their Black Friday sale.&lt;/li&gt;
&lt;li&gt;Wix increased mobile origins passing Core Web Vitals by &lt;strong&gt;over 250% year-on-year&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Nykaa found that a 40% improvement in LCP led to &lt;strong&gt;28% more organic traffic&lt;/strong&gt; from T2/T3 cities.&lt;/li&gt;
&lt;li&gt;NIKKEI STYLE&#39;s 18% LCP improvement resulted in &lt;strong&gt;9% more pageviews per session&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://web.dev/ndtv&quot;&gt;NDTV gained a &lt;strong&gt;50% better bounce rate&lt;/strong&gt; after halving LCP, along with other product changes.&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://web.dev/agrofy/&quot;&gt;Full case studyAgrofy Market&#39;s 70% better LCP correlated to &lt;strong&gt;76% reduction in load abandonment&lt;/strong&gt;.&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Flipkart achieved &lt;strong&gt;2.6% reduction in bounce rate&lt;/strong&gt; by improving Core Web Vitals metrics.&lt;/li&gt;
&lt;li&gt;Ameba Manga improved the &lt;strong&gt;number of comics read by 2-3 times&lt;/strong&gt; by improving the CLS score 10 times.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://web.dev/yahoo-japan-news/&quot;&gt;Yahoo! Japan fixed CLS which led to a 98% reduction in poor pages and &lt;strong&gt;15% uplift in page views per session&lt;/strong&gt;.&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;AliExpress improved CLS by 10 times and LCP by double, which translated to &lt;strong&gt;15% lesser bounce rates&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;how-can-you-get-started-now&quot;&gt;How can you get started now? &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/vitals-business-impact/#how-can-you-get-started-now&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id=&quot;step-1:-start-measuring&quot;&gt;Step 1: Start measuring &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/vitals-business-impact/#step-1:-start-measuring&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Start by measuring your site using field tools! There are various tools available, from
both Google and other providers.&lt;/p&gt;
&lt;img alt=&quot;&quot; decoding=&quot;async&quot; height=&quot;459&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/BZbi6hd4OUfKmwyDgQeR.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/BZbi6hd4OUfKmwyDgQeR.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/BZbi6hd4OUfKmwyDgQeR.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/BZbi6hd4OUfKmwyDgQeR.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/BZbi6hd4OUfKmwyDgQeR.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/BZbi6hd4OUfKmwyDgQeR.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/BZbi6hd4OUfKmwyDgQeR.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/BZbi6hd4OUfKmwyDgQeR.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/BZbi6hd4OUfKmwyDgQeR.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/BZbi6hd4OUfKmwyDgQeR.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/BZbi6hd4OUfKmwyDgQeR.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/BZbi6hd4OUfKmwyDgQeR.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/BZbi6hd4OUfKmwyDgQeR.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/BZbi6hd4OUfKmwyDgQeR.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/BZbi6hd4OUfKmwyDgQeR.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/BZbi6hd4OUfKmwyDgQeR.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/BZbi6hd4OUfKmwyDgQeR.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/BZbi6hd4OUfKmwyDgQeR.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;h4 id=&quot;google-tools&quot;&gt;Google tools &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/vitals-business-impact/#google-tools&quot;&gt;#&lt;/a&gt;&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Search Console&lt;/li&gt;
&lt;li&gt;PageSpeed insights&lt;/li&gt;
&lt;li&gt;web-vitals JS&lt;/li&gt;
&lt;li&gt;Chrome User Experience Report&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;third-party-tools&quot;&gt;Third-party tools &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/vitals-business-impact/#third-party-tools&quot;&gt;#&lt;/a&gt;&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Cloudflare&lt;/li&gt;
&lt;li&gt;New Relic&lt;/li&gt;
&lt;li&gt;Akamai&lt;/li&gt;
&lt;li&gt;Calibre&lt;/li&gt;
&lt;li&gt;WebPageTest&lt;/li&gt;
&lt;li&gt;Blue Triangle&lt;/li&gt;
&lt;li&gt;Sentry&lt;/li&gt;
&lt;li&gt;SpeedCurve&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Pick the tool that works best for you.
You can go a step further and &lt;a href=&quot;https://web.dev/vitals-ga4&quot;&gt;integrate with
Google Analytics 4&lt;/a&gt;
to correlate Core Web Vitals with your business metrics.&lt;/p&gt;
&lt;h3 id=&quot;step-2:-convince-your-stakeholders&quot;&gt;Step 2: Convince your stakeholders &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/vitals-business-impact/#step-2:-convince-your-stakeholders&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Educate your stakeholders about the importance of adopting Core Web Vitals
to improve user experience and its correlation with company&#39;s business metrics.&lt;/li&gt;
&lt;li&gt;Get a sponsor internally to start a small experiment.&lt;/li&gt;
&lt;li&gt;Create a shared goal among stakeholders to improve Core Web Vitals across teams.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;step-3:-deliver-successful-implementation-using-these-tips&quot;&gt;Step 3: Deliver successful implementation using these tips &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/vitals-business-impact/#step-3:-deliver-successful-implementation-using-these-tips&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Prioritize&lt;/strong&gt;: Pick a page with high traffic and/or conversion significance
to deliver meaningful results (for example, ads landing page, conversion page, or popular pages).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;A/B Test&lt;/strong&gt;: Use server side testing to avoid any rendering cost.
Compare results between optimized and unoptimized versions.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Monitor&lt;/strong&gt;: Use continuous monitoring to prevent regressions.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Lastly, we believe that performance is a journey not a destination.
On that note, we plan to keep this article updated with the latest case study highlights.
If you also have a compelling business win and would like to be featured in this article,
&lt;a href=&quot;https://web.dev/handbook/quick-start/&quot;&gt;submit a content proposal&lt;/a&gt;.&lt;/p&gt;
</content>
    <author>
      <name>Saurabh Rajpal</name>
    </author><author>
      <name>Swetha Gopalakrishnan</name>
    </author>
  </entry>
  
  <entry>
    <title>Orange: New PWA converts 52% better on mobile
</title>
    <link href="https://web.dev/orange/"/>
    <updated>2021-05-11T00:00:00Z</updated>
    <id>https://web.dev/orange/</id>
    <content type="text/html" mode="escaped">&lt;div class=&quot;w-aside w-aside--note&quot;&gt;
&lt;p&gt;The authors of this case study are Orange employees and worked on the PWA project.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://www.orange.pl/&quot; rel=&quot;noopener&quot;&gt;Orange Polska S.A.&lt;/a&gt; (part of the international Orange Group) is a leading
provider of telecommunications services in Poland, including mobile and fixed telecommunications
services such as voice, data, internet access, and television. We also provide IT and integration
services, leased lines, and other telecommunications value-added services and equipment.&lt;/p&gt;
&lt;img alt=&quot;Screenshots of the new PWA.&quot; decoding=&quot;async&quot; height=&quot;533&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/lI8AvPzBsobGijMdUH3p.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/lI8AvPzBsobGijMdUH3p.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/lI8AvPzBsobGijMdUH3p.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/lI8AvPzBsobGijMdUH3p.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/lI8AvPzBsobGijMdUH3p.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/lI8AvPzBsobGijMdUH3p.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/lI8AvPzBsobGijMdUH3p.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/lI8AvPzBsobGijMdUH3p.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/lI8AvPzBsobGijMdUH3p.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/lI8AvPzBsobGijMdUH3p.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/lI8AvPzBsobGijMdUH3p.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/lI8AvPzBsobGijMdUH3p.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/lI8AvPzBsobGijMdUH3p.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/lI8AvPzBsobGijMdUH3p.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/lI8AvPzBsobGijMdUH3p.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/lI8AvPzBsobGijMdUH3p.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/lI8AvPzBsobGijMdUH3p.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/lI8AvPzBsobGijMdUH3p.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;h2 id=&quot;challenge&quot;&gt;Challenge &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/orange/#challenge&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;We all know that feeling of anxiety that turns into irritation when a website takes forever to load.
For digital companies with little to no physical presence the impact of this is obvious, especially
when it comes to mobile apps where our internal research clearly shows that the single most
important reason for app de-installation is speed. However, if you operate in an established sector
like us with a strong brick-and-mortar strategy for distribution channels, the impact of digital
speed is not as obvious, because digital is not the only source of our sales. This makes it even
more challenging to persuade executives to invest in speed.&lt;/p&gt;
&lt;p&gt;When pitching our executives, we made our case stronger by turning to our historical performance
data on Google Analytics to clearly show the correlation between loading time and conversion rates.
With cold, hard facts we were able to show that every additional second of page load time resulted
in 15-20% lower revenue and sales.&lt;/p&gt;
&lt;figure&gt;
  &lt;img alt=&quot;Charts that show the correlation between load time and conversions.&quot; decoding=&quot;async&quot; height=&quot;366&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/dtZxd66DIrH6QX7Ff9FH.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/dtZxd66DIrH6QX7Ff9FH.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/dtZxd66DIrH6QX7Ff9FH.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/dtZxd66DIrH6QX7Ff9FH.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/dtZxd66DIrH6QX7Ff9FH.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/dtZxd66DIrH6QX7Ff9FH.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/dtZxd66DIrH6QX7Ff9FH.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/dtZxd66DIrH6QX7Ff9FH.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/dtZxd66DIrH6QX7Ff9FH.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/dtZxd66DIrH6QX7Ff9FH.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/dtZxd66DIrH6QX7Ff9FH.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/dtZxd66DIrH6QX7Ff9FH.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/dtZxd66DIrH6QX7Ff9FH.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/dtZxd66DIrH6QX7Ff9FH.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/dtZxd66DIrH6QX7Ff9FH.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/dtZxd66DIrH6QX7Ff9FH.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/dtZxd66DIrH6QX7Ff9FH.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/dtZxd66DIrH6QX7Ff9FH.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption&gt;
    The top chart (in orange) shows the conversion rate on the old site, segmented by loading
    time. For example, the first bar from the left represents users who experienced a loading time
    of less than 2 seconds. The bar next to it represents users who experienced a loading time of
    between 2 and 3 seconds. The bottom chart (in grey) shows the loading times that all users
    actually experienced on the old site. 
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;approach&quot;&gt;Approach &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/orange/#approach&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;We decided to build a Progressive Web App (PWA). We specifically focused on mobile traffic because
more than 75% of customers use our website through a mobile device. The team focused equally on
improving key performance indicators and delivering a more engaging and attractive experience.&lt;/p&gt;
&lt;p&gt;We launched a new cross-functional scrum team (including IT, business, and UX professionals) that
aimed at delivering a proof of concept to answer the following questions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Are we able to effectively reduce loading time while respecting our significant legacy
limitations?&lt;/li&gt;
&lt;li&gt;What will be the actual impact on conversion and revenue?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We chose &lt;a href=&quot;https://nextjs.org/&quot; rel=&quot;noopener&quot;&gt;Next.js&lt;/a&gt; because of its many optimizations that are either enabled by
default or easy to set up, such as automatic server-side rendering (which is especially important
for our SEO),  data prefetching, and code splitting. Another key consideration for us was that
Next.js enabled us to migrate pages one-by-one without introducing any problems in our legacy
applications. Nevertheless, we had to manage the transformation in a complex environment where we
were still reliant on legacy systems, resulting in service unavailability. To remedy this we have
integrated &lt;a href=&quot;https://developers.google.com/web/tools/workbox&quot; rel=&quot;noopener&quot;&gt;Workbox&lt;/a&gt; so that our website would
always be available even if the backend was down. Workbox also gave us nice performance boosts
thanks to its built-in solutions for precaching, request routing, and runtime caching.&lt;/p&gt;
&lt;h2 id=&quot;results&quot;&gt;Results &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/orange/#results&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Our new PWA has an average loading time 30% faster than the old site, our conversion on mobile
devices has increased 52%, our bounce rate has improved 12%, and our session depth has improved 18%.
This experience has confirmed the strategic direction to transform all customer-facing solutions
(including customer self-care and salesman frontends) towards PWA technology.&lt;/p&gt;
</content>
    <author>
      <name>Adam Skręt</name>
    </author><author>
      <name>Rafał Filipek</name>
    </author><author>
      <name>Marcin Sierakowski</name>
    </author>
  </entry>
  
  <entry>
    <title>How Zalando reduced performance feedback time from 1 day to 15 minutes with Lighthouse CI</title>
    <link href="https://web.dev/zalando/"/>
    <updated>2021-04-13T00:00:00Z</updated>
    <id>https://web.dev/zalando/</id>
    <content type="text/html" mode="escaped">&lt;div class=&quot;w-aside w-aside--note&quot;&gt;
&lt;p&gt;This case study was authored by Jeremy Colin and Jan Brockmeyer from the Zalando web infrastructure team.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;With more than 35 million active customers,
&lt;a href=&quot;https://www.zalando.com/&quot; rel=&quot;noopener&quot;&gt;Zalando&lt;/a&gt; is Europe&#39;s leading online fashion platform.
In this post we explain why we started to use Lighthouse CI,
the ease of implementation,
and the advantages to our team.&lt;/p&gt;
&lt;p&gt;At Zalando, we know the relationship between website performance and revenue.
In the past,
&lt;a href=&quot;https://engineering.zalando.com/posts/2018/06/loading-time-matters.html&quot; rel=&quot;noopener&quot;&gt;we tested how artificially increasing the loading time on Catalog pages&lt;/a&gt;
affected bounce rates,
conversion rates, and revenue per user.
The results were clear.
A 100 milliseconds page load time improvement led to increased engagement with lower bounce rate and a 0.7% uplift in revenue per session.&lt;/p&gt;
&lt;div class=&quot;w-stats&quot;&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;100&lt;sub class=&quot;w-stat__sub&quot;&gt;ms&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;Page load time improvement&lt;/p&gt;
  &lt;/div&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;0.7&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;Increased revenue per session&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&quot;company-buy-in-does-not-always-translate-to-performance&quot;&gt;Company buy-in does not always translate to performance &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/zalando/#company-buy-in-does-not-always-translate-to-performance&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Despite the strong performance buy-in inside the company,
if performance is not set as a product delivery criteria
it can easily slip away. When we were redesigning Zalando website in 2020
we focused on delivering
&lt;a href=&quot;https://corporate.zalando.com/en/newsroom/news-stories/zalando-sets-out-revolutionize-pre-owned-fashion-europe&quot; rel=&quot;noopener&quot;&gt;new features&lt;/a&gt;
while  maintaining excellent user experience and applying a facelift
to the website with custom fonts and more vibrant colors.
However, when the redesigned website and app were ready for release,
early adopter metrics revealed that the new version was slower.
First Contentful Paint was up to 53% slower,
and our measured Time to Interactive reported up to 59% slower.&lt;/p&gt;
&lt;h2 id=&quot;the-web-at-zalando&quot;&gt;The web at Zalando &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/zalando/#the-web-at-zalando&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The Zalando website is created by a core team developing a framework,
&lt;a href=&quot;https://engineering.zalando.com/posts/2021/03/micro-frontends-part1.html&quot; rel=&quot;noopener&quot;&gt;with over 15 feature teams contributing frontend microservices&lt;/a&gt;.
While supporting the new release,
we also transitioned part of our website to a more centralized architecture.&lt;/p&gt;
&lt;p&gt;The previous architecture called &lt;a href=&quot;https://www.mosaic9.org/&quot; rel=&quot;noopener&quot;&gt;Mosaic&lt;/a&gt;
included a way to measure page performance with in-house metrics.
However, it was difficult to compare performance metrics prior to rolling out to real users
as we lacked internal lab performance monitoring tools.
Despite deploying every day,
there was a feedback loop of around one day for developers working on performance improvements.&lt;/p&gt;
&lt;h2 id=&quot;web-vitals-and-lighthouse-to-the-rescue&quot;&gt;Web Vitals and Lighthouse to the rescue &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/zalando/#web-vitals-and-lighthouse-to-the-rescue&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;We were not entirely satisfied with our in-house metrics as they did not adapt well to our new setup.
More importantly, they were not centered on customer experience.
We switched to &lt;a href=&quot;https://web.dev/vitals/&quot;&gt;Core Web Vitals&lt;/a&gt;
as they provided a condensed, yet comprehensive and user-centric set of metrics.&lt;/p&gt;
&lt;p&gt;In order to improve the performance before the release,
we needed to create a proper
&lt;a href=&quot;https://web.dev/how-to-measure-speed/#lab-data-vs-field-data&quot;&gt;lab environment&lt;/a&gt;.
This provided reproducible measurements,
in addition to testing conditions representing our 90th percentile of field data.
Now, engineers working on performance improvements knew where to focus their
efforts to make the biggest impact.
We were already using Lighthouse audit reports locally.
So our first iteration was to develop a service based on &lt;a href=&quot;https://github.com/GoogleChrome/lighthouse#using-the-node-module&quot; rel=&quot;noopener&quot;&gt;Lighthouse node module&lt;/a&gt;,
where changes could be tested from our staging environment.
This gave us a reliable performance feedback loop of around one hour,
which enabled us to bring the performance on par and save our release!&lt;/p&gt;
&lt;h2 id=&quot;giving-performance-feedback-to-developers-on-pull-requests&quot;&gt;Giving performance feedback to developers on pull requests &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/zalando/#giving-performance-feedback-to-developers-on-pull-requests&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;We did not want to stop there,
as we wanted to take the opportunity to not only be reactive towards performance but also proactive.
Making the jump from Lighthouse node module to &lt;a href=&quot;https://web.dev/lighthouse-ci/&quot;&gt;Lighthouse CI (LHCI) server&lt;/a&gt;
was not too difficult.
We opted for the self hosted solution in order to give us a a better integration with our existing company services.
Our LHCI server application gets built as a Docker image,
which is then deployed to our Kubernetes cluster together with a PostgreSQL database, and reports to our GitHub.&lt;/p&gt;
&lt;p&gt;Our framework was already providing some performance feedback to developers—
component bundle sizes were being compared to threshold values on every commit.
Now we are able to report Lighthouse metrics as GitHub status checks.
These cause the CI pipeline to fail if they do not meet the performance thresholds,
with a link to the detailed Lighthouse reports as shown in the following images.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;Image of GitHub UI showing lines of successful checks.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;126&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/vPqK9LEp3dKrHSSqULRe.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/vPqK9LEp3dKrHSSqULRe.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/vPqK9LEp3dKrHSSqULRe.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/vPqK9LEp3dKrHSSqULRe.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/vPqK9LEp3dKrHSSqULRe.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/vPqK9LEp3dKrHSSqULRe.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/vPqK9LEp3dKrHSSqULRe.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/vPqK9LEp3dKrHSSqULRe.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/vPqK9LEp3dKrHSSqULRe.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/vPqK9LEp3dKrHSSqULRe.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/vPqK9LEp3dKrHSSqULRe.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/vPqK9LEp3dKrHSSqULRe.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/vPqK9LEp3dKrHSSqULRe.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/vPqK9LEp3dKrHSSqULRe.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/vPqK9LEp3dKrHSSqULRe.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/vPqK9LEp3dKrHSSqULRe.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/vPqK9LEp3dKrHSSqULRe.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/vPqK9LEp3dKrHSSqULRe.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption&gt;Lighthouse CI GitHub status checks make it easy for developers
    to understand the regression and address it before it reaches production.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;Comparison image in Lighthouse CI showing how the commit compares to the main branch&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;370&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/PRQBzVBLG7wG1Ftngp6B.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/PRQBzVBLG7wG1Ftngp6B.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/PRQBzVBLG7wG1Ftngp6B.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/PRQBzVBLG7wG1Ftngp6B.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/PRQBzVBLG7wG1Ftngp6B.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/PRQBzVBLG7wG1Ftngp6B.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/PRQBzVBLG7wG1Ftngp6B.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/PRQBzVBLG7wG1Ftngp6B.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/PRQBzVBLG7wG1Ftngp6B.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/PRQBzVBLG7wG1Ftngp6B.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/PRQBzVBLG7wG1Ftngp6B.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/PRQBzVBLG7wG1Ftngp6B.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/PRQBzVBLG7wG1Ftngp6B.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/PRQBzVBLG7wG1Ftngp6B.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/PRQBzVBLG7wG1Ftngp6B.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/PRQBzVBLG7wG1Ftngp6B.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/PRQBzVBLG7wG1Ftngp6B.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/ZDZVuXt6QqfXtxkpXcPGfnygYjd2/PRQBzVBLG7wG1Ftngp6B.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption&gt;Lighthouse CI detailed commit report compared to the main branch.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;extending-the-performance-coverage&quot;&gt;Extending the performance coverage &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/zalando/#extending-the-performance-coverage&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;We started with a very pragmatic approach.
Currently Lighthouse only runs on two of our most important pages:
the home page and product detail page.
Fortunately, Lighthouse CI makes it easy to extend the run configurations.
Feature teams working on specific pages of our website are able to set up their matching URL pattern and assertions.
With this in place, we are pretty confident that our performance coverage will increase.&lt;/p&gt;
&lt;p&gt;We are now much more confident when building larger releases,
and developers can enjoy a much shorter feedback loop on the performance of their code.&lt;/p&gt;
</content>
    <author>
      <name>Jeremy Colin</name>
    </author><author>
      <name>Jan Brockmeyer</name>
    </author>
  </entry>
  
  <entry>
    <title>Lowe&#39;s website is among fastest performing e-commerce websites</title>
    <link href="https://web.dev/lowes/"/>
    <updated>2021-03-23T00:00:00Z</updated>
    <id>https://web.dev/lowes/</id>
    <content type="text/html" mode="escaped">&lt;div class=&quot;w-aside w-aside--note&quot;&gt;
&lt;p&gt;This post was authored by &lt;a href=&quot;https://www.linkedin.com/in/choudhuryashish/&quot; rel=&quot;noopener&quot;&gt;Ashish Choudhury&lt;/a&gt;,
&lt;a href=&quot;https://www.linkedin.com/in/dinakarchandolu/&quot; rel=&quot;noopener&quot;&gt;Dinakar Chandolu&lt;/a&gt;,
&lt;a href=&quot;https://www.linkedin.com/in/abhimanyuraibahadur/&quot; rel=&quot;noopener&quot;&gt;Abhimanyu Raibahadur&lt;/a&gt;, and
&lt;a href=&quot;https://www.linkedin.com/in/dhilip-venkatesh-uvarajan-16914624/&quot; rel=&quot;noopener&quot;&gt;Dhilipvenkatesh Uvarajan&lt;/a&gt;
from Lowe&#39;s.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://www.lowes.com/&quot; rel=&quot;noopener&quot;&gt;Lowe&#39;s&lt;/a&gt; is a nearly $90B home improvement retailer
that operates about 2,200 stores and employs more than 300,000 associates.
By building an automated testing and monitoring system that prevents performance regressions from deploying to production,
Lowe&#39;s Site Speed Team was able to improve its website performance,
ranking among the top retail sites.&lt;/p&gt;
&lt;h2 id=&quot;problem&quot;&gt;Problem &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/lowes/#problem&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The Site Speed Team&#39;s goal is to make the Lowe&#39;s site one of the fastest e-commerce sites in terms of page load performance.
Before they built their automated testing and monitoring system,
Lowe&#39;s website developers were unable to measure performance automatically in pre-production environments.
Existing tools only conducted tests in the production environment.
As a result, inferior builds slipped into production, creating a poor user experience.
These inferior builds would remain in production until they were detected by the Site Speed Team and reverted by the author.&lt;/p&gt;
&lt;h2 id=&quot;solution&quot;&gt;Solution &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/lowes/#solution&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The Site Speed Team used open source tools to build an automated performance testing and monitoring system for pre-production environments.
The system measures the performance of every pull request (PR)
and gates the PR from shipping to production if it does not meet the Site Speed Team&#39;s
&lt;a href=&quot;https://web.dev/performance-budgets-101/&quot;&gt;performance budget&lt;/a&gt; and &lt;a href=&quot;https://web.dev/vitals/&quot;&gt;metric criteria&lt;/a&gt;.
The system also measures SEO and ADA compliance.&lt;/p&gt;
&lt;h2 id=&quot;impact&quot;&gt;Impact &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/lowes/#impact&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;From a sample of 1 team over 16 weeks deploying 102 builds,
the automated performance testing and monitoring system prevented 32 builds with subpar performance from going into production.&lt;/p&gt;
&lt;p&gt;Where it used to take the Site Speed Team three to five days to inform developers that they had shipped performance regressions into production,
the system now automatically informs developers of performance problems five minutes after submitting a pull request in a pre-production environment.&lt;/p&gt;
&lt;p&gt;Code quality is improving over time,
as measured by the fact that fewer pull requests are being flagged for performance regressions.
The Site Speed Team is also gradually tightening governance budgets to continuously improve site quality.&lt;/p&gt;
&lt;p&gt;In general, having clear ownership of problematic code has shifted the engineering culture.
Instead of begrudging reactive corrections because it was never clear who actually introduced the problems,
the team can make proactive optimizations with ownership of problematic code being objectively attributable.&lt;/p&gt;
&lt;h2 id=&quot;implementation&quot;&gt;Implementation &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/lowes/#implementation&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The heart of the Site Speed Governance (SSG) app is &lt;a href=&quot;https://web.dev/lighthouse-ci/&quot;&gt;Lighthouse CI&lt;/a&gt;.
The SSG app uses Lighthouse to validate and audit the page performance of every pull request.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
&lt;img alt=&quot;A process diagram of the SSG app, the steps shown in the diagram are described later in the article.&quot; decoding=&quot;async&quot; height=&quot;567&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/62alkvo2eRYoyptYeDbZ.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/62alkvo2eRYoyptYeDbZ.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/62alkvo2eRYoyptYeDbZ.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/62alkvo2eRYoyptYeDbZ.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/62alkvo2eRYoyptYeDbZ.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/62alkvo2eRYoyptYeDbZ.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/62alkvo2eRYoyptYeDbZ.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/62alkvo2eRYoyptYeDbZ.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/62alkvo2eRYoyptYeDbZ.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/62alkvo2eRYoyptYeDbZ.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/62alkvo2eRYoyptYeDbZ.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/62alkvo2eRYoyptYeDbZ.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/62alkvo2eRYoyptYeDbZ.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/62alkvo2eRYoyptYeDbZ.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/62alkvo2eRYoyptYeDbZ.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/62alkvo2eRYoyptYeDbZ.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/62alkvo2eRYoyptYeDbZ.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/62alkvo2eRYoyptYeDbZ.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;The SSG app causes a build to fail if the Site Speed Team&#39;s defined
&lt;a href=&quot;https://web.dev/performance-budgets-101/&quot;&gt;performance budget&lt;/a&gt; and metric targets are not reached.
It enforces not only load performance but also SEO, PWA, and accessibility.
It can report status immediately to authors, reviewers, and SRE teams.
It can also be configured to bypass the checks when exceptions are needed.&lt;/p&gt;
&lt;h2 id=&quot;automated-speed-governance-(asg)-process-flow&quot;&gt;Automated Speed Governance (ASG) process flow &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/lowes/#automated-speed-governance-(asg)-process-flow&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id=&quot;spinnaker&quot;&gt;Spinnaker &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/lowes/#spinnaker&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Start point. A developer merges their code into a pre-production environment.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Deploy the pre-production environment with CDN assets.&lt;/li&gt;
&lt;li&gt;Check for the successful deployment.&lt;/li&gt;
&lt;li&gt;Run a &lt;a href=&quot;https://www.docker.com/&quot; rel=&quot;noopener&quot;&gt;Docker&lt;/a&gt;
container to start building the ASG application or send a notification (in the event of deployment failure).&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;jenkins-and-lighthouse&quot;&gt;Jenkins and Lighthouse &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/lowes/#jenkins-and-lighthouse&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Build the ASG application with &lt;a href=&quot;https://www.jenkins.io/&quot; rel=&quot;noopener&quot;&gt;Jenkins&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Run a custom Docker container that has Chrome and Lighthouse installed.
Pull &lt;code&gt;lighthouserc.json&lt;/code&gt; from the SSG app and run &lt;code&gt;lhci autorun --collect-url=https://example.com&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;jenkins-and-ssg-app&quot;&gt;Jenkins and SSG app &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/lowes/#jenkins-and-ssg-app&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Extract &lt;code&gt;assertion-results.json&lt;/code&gt; from lhci and compare it to predefined budgets in &lt;code&gt;budgets.json&lt;/code&gt;.
Save the output as a text file and upload it to &lt;a href=&quot;https://www.sonatype.com/nexus/repository-oss&quot; rel=&quot;noopener&quot;&gt;Nexus&lt;/a&gt; for future comparisons.&lt;/li&gt;
&lt;li&gt;Compare the current &lt;code&gt;assertion-results.json&lt;/code&gt; to the last successful build
(downloaded from Nexus) and save it as a text file.&lt;/li&gt;
&lt;li&gt;Build an HTML email with the success or failure information.&lt;/li&gt;
&lt;li&gt;Send the email to the relevant distribution lists with Jenkins.&lt;/li&gt;
&lt;/ol&gt;
</content>
    <author>
      <name>Ashish Choudhury</name>
    </author><author>
      <name>Dinakar Chandolu</name>
    </author><author>
      <name>Abhimanyu Raibahadur</name>
    </author><author>
      <name>Dhilip venkatesh Uvarajan</name>
    </author><author>
      <name>Safwan Samla</name>
    </author><author>
      <name>Garima Mimani</name>
    </author>
  </entry>
  
  <entry>
    <title>Vodafone: A 31% improvement in LCP increased sales by 8%</title>
    <link href="https://web.dev/vodafone/"/>
    <updated>2021-03-17T00:00:00Z</updated>
    <id>https://web.dev/vodafone/</id>
    <content type="text/html" mode="escaped">&lt;p&gt;&lt;a href=&quot;https://www.vodafone.com/&quot; rel=&quot;noopener&quot;&gt;Vodafone&lt;/a&gt; is a leading telecommunications company in
Europe and Africa operating fixed and mobile networks in 21 countries and
partnering with mobile networks in 48 more. By running an A/B test on a landing
page (where version A was optimized for Web Vitals and had a 31% better LCP
score in the
&lt;a href=&quot;https://www.searchenginejournal.com/google-explains-why-field-data-is-more-reliable-than-lab-data/372404/&quot; rel=&quot;noopener&quot;&gt;field&lt;/a&gt;
than version B), Vodafone determined that optimizing for Web Vitals generated 8%
more sales.&lt;/p&gt;
&lt;div class=&quot;w-stats&quot;&gt;
 &lt;div class=&quot;w-stat&quot;&gt;
   &lt;p class=&quot;w-stat__figure&quot;&gt;31&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
   &lt;p class=&quot;w-stat__desc&quot;&gt;A 31% improvement in LCP led to…&lt;/p&gt;
 &lt;/div&gt;
 &lt;div class=&quot;w-stat&quot;&gt;
   &lt;p class=&quot;w-stat__figure&quot;&gt;&lt;sub class=&quot;w-stat__sub&quot;&gt;+&lt;/sub&gt;8&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
   &lt;p class=&quot;w-stat__desc&quot;&gt;Increase in total sales&lt;/p&gt;
 &lt;/div&gt;
 &lt;div class=&quot;w-stat&quot;&gt;
   &lt;p class=&quot;w-stat__figure&quot;&gt;&lt;sub class=&quot;w-stat__sub&quot;&gt;+&lt;/sub&gt;15&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
   &lt;p class=&quot;w-stat__desc&quot;&gt;Uplift in the lead to visit rate&lt;/p&gt;
 &lt;/div&gt;
 &lt;div class=&quot;w-stat&quot;&gt;
   &lt;p class=&quot;w-stat__figure&quot;&gt;&lt;sub class=&quot;w-stat__sub&quot;&gt;+&lt;/sub&gt;11&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
   &lt;p class=&quot;w-stat__desc&quot;&gt;Uplift in the cart to visit rate&lt;/p&gt;
 &lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&quot;opportunity&quot;&gt;Highlighting the opportunity &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/vodafone/#opportunity&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Vodafone knew that faster websites generally correlate to improved business metrics and were
interested in optimizing their Web Vitals scores as a potential strategy for increasing sales, but
they needed to determine exactly what kind of ROI they would get.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;Two screenshots of the Vodafone website.&quot; decoding=&quot;async&quot; height=&quot;751&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/3OKAembHLoX5QAdP1vya.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/3OKAembHLoX5QAdP1vya.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/3OKAembHLoX5QAdP1vya.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/3OKAembHLoX5QAdP1vya.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/3OKAembHLoX5QAdP1vya.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/3OKAembHLoX5QAdP1vya.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/3OKAembHLoX5QAdP1vya.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/3OKAembHLoX5QAdP1vya.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/3OKAembHLoX5QAdP1vya.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/3OKAembHLoX5QAdP1vya.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/3OKAembHLoX5QAdP1vya.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/3OKAembHLoX5QAdP1vya.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/3OKAembHLoX5QAdP1vya.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/3OKAembHLoX5QAdP1vya.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/3OKAembHLoX5QAdP1vya.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/3OKAembHLoX5QAdP1vya.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/3OKAembHLoX5QAdP1vya.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/3OKAembHLoX5QAdP1vya.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption&gt;
    Some example screenshots of Vodafone&#39;s website. Note that these are &lt;b&gt;not&lt;/b&gt; version
    A and version B from the A/B test. Both versions were visually and functionally identical.
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;approach&quot;&gt;The approach they used &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/vodafone/#approach&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id=&quot;ab-test&quot;&gt;A/B test &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/vodafone/#ab-test&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;The traffic for the A/B test came from different paid media channels, including display,
iOS/Android, search, and social. 50% of the traffic was sent to the optimized landing page (version
A), and 50% was sent to the baseline page (version B). Version A and version B both got around 100K
clicks and 34K visits per day. As mentioned before, the only difference between version A and
version B was that version A was optimized for Web Vitals. There were no functional or visual
differences between the two versions other than that. Vodafone used the
&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/PerformanceObserver&quot; rel=&quot;noopener&quot;&gt;&lt;code&gt;PerformanceObserver&lt;/code&gt;&lt;/a&gt; API to
measure LCP on real user sessions and sent the
&lt;a href=&quot;https://www.searchenginejournal.com/google-explains-why-field-data-is-more-reliable-than-lab-data/372404/&quot; rel=&quot;noopener&quot;&gt;field data&lt;/a&gt;
to their analytics provider.&lt;/p&gt;
&lt;img alt=&quot;A diagram of the A/B test setup.&quot; decoding=&quot;async&quot; height=&quot;398&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/bDOhlrGwsiuknDTBjUJg.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/bDOhlrGwsiuknDTBjUJg.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/bDOhlrGwsiuknDTBjUJg.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/bDOhlrGwsiuknDTBjUJg.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/bDOhlrGwsiuknDTBjUJg.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/bDOhlrGwsiuknDTBjUJg.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/bDOhlrGwsiuknDTBjUJg.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/bDOhlrGwsiuknDTBjUJg.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/bDOhlrGwsiuknDTBjUJg.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/bDOhlrGwsiuknDTBjUJg.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/bDOhlrGwsiuknDTBjUJg.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/bDOhlrGwsiuknDTBjUJg.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/bDOhlrGwsiuknDTBjUJg.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/bDOhlrGwsiuknDTBjUJg.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/bDOhlrGwsiuknDTBjUJg.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/bDOhlrGwsiuknDTBjUJg.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/bDOhlrGwsiuknDTBjUJg.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/bDOhlrGwsiuknDTBjUJg.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;h3 id=&quot;optimizations&quot;&gt;Optimizations &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/vodafone/#optimizations&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Vodafone made the following changes on the optimized page (version A):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Moved the rendering logic for a widget from client-side to server-side&lt;/strong&gt;, which resulted in
less &lt;a href=&quot;https://web.dev/render-blocking-resources/&quot;&gt;render-blocking JavaScript&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Server-side rendered&lt;/strong&gt; critical HTML&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Optimized images&lt;/strong&gt;, including &lt;a href=&quot;https://web.dev/uses-responsive-images/&quot;&gt;resizing&lt;/a&gt; the hero
image, &lt;a href=&quot;https://jakearchibald.github.io/svgomg/&quot; rel=&quot;noopener&quot;&gt;optimizing SVG images&lt;/a&gt;, using media queries to
&lt;a href=&quot;https://web.dev/browser-level-image-lazy-loading/&quot;&gt;avoid loading images&lt;/a&gt; that weren&#39;t yet
visible in the viewport, and &lt;a href=&quot;https://web.dev/squoosh-v2/&quot;&gt;optimizing PNG images&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;results&quot;&gt;Overall business results &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/vodafone/#results&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;div class=&quot;w-columns&quot;&gt;
  &lt;div&gt;
    &lt;p&gt;
      After optimizing version A for Web Vitals and comparing it to the
      unoptimized version B, Vodafone found that version A led to:
    &lt;/p&gt;
    &lt;ul&gt;
      &lt;li&gt;An 8% increase in sales&lt;/li&gt;
      &lt;li&gt;
        A 15% improvement in the lead to visit rate (the number of users who became
        a lead versus the total number of visitors)
      &lt;/li&gt;
      &lt;li&gt;
        An 11% improvement in the cart to visit rate (the number of users
        who visited their cart versus the total number of visitors)
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
  &lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;An illustration that reiterates the business results.&quot; decoding=&quot;async&quot; height=&quot;1175&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/ADfHPOlQ19oaiuRrzmWZ.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/ADfHPOlQ19oaiuRrzmWZ.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/ADfHPOlQ19oaiuRrzmWZ.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/ADfHPOlQ19oaiuRrzmWZ.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/ADfHPOlQ19oaiuRrzmWZ.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/ADfHPOlQ19oaiuRrzmWZ.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/ADfHPOlQ19oaiuRrzmWZ.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/ADfHPOlQ19oaiuRrzmWZ.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/ADfHPOlQ19oaiuRrzmWZ.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/ADfHPOlQ19oaiuRrzmWZ.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/ADfHPOlQ19oaiuRrzmWZ.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/ADfHPOlQ19oaiuRrzmWZ.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/ADfHPOlQ19oaiuRrzmWZ.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/ADfHPOlQ19oaiuRrzmWZ.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/ADfHPOlQ19oaiuRrzmWZ.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/ADfHPOlQ19oaiuRrzmWZ.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/ADfHPOlQ19oaiuRrzmWZ.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/ADfHPOlQ19oaiuRrzmWZ.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;/figure&gt;
&lt;/div&gt;
&lt;p&gt;The following table shows the values for &lt;code&gt;DOMContentLoaded&lt;/code&gt; (&amp;quot;DCL&amp;quot;) and LCP that
Vodafone observed on version A (&amp;quot;Optimized Page&amp;quot;) and version B (&amp;quot;Default
Page&amp;quot;). Note that DCL actually &lt;em&gt;increased&lt;/em&gt; 15%. The absolute values related to
business metrics have been redacted.&lt;/p&gt;
&lt;img alt=&quot;Optimized Page had a DCL of 4.05s and a LCP of 5.7s. Default Page had a DCL of 3.52s and a LCP of 8.3s.&quot; decoding=&quot;async&quot; height=&quot;413&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/cvDjZ2T3CfWzp8BlFw6Z.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/cvDjZ2T3CfWzp8BlFw6Z.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/cvDjZ2T3CfWzp8BlFw6Z.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/cvDjZ2T3CfWzp8BlFw6Z.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/cvDjZ2T3CfWzp8BlFw6Z.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/cvDjZ2T3CfWzp8BlFw6Z.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/cvDjZ2T3CfWzp8BlFw6Z.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/cvDjZ2T3CfWzp8BlFw6Z.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/cvDjZ2T3CfWzp8BlFw6Z.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/cvDjZ2T3CfWzp8BlFw6Z.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/cvDjZ2T3CfWzp8BlFw6Z.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/cvDjZ2T3CfWzp8BlFw6Z.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/cvDjZ2T3CfWzp8BlFw6Z.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/cvDjZ2T3CfWzp8BlFw6Z.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/cvDjZ2T3CfWzp8BlFw6Z.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/cvDjZ2T3CfWzp8BlFw6Z.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/cvDjZ2T3CfWzp8BlFw6Z.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/cvDjZ2T3CfWzp8BlFw6Z.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;blockquote&gt;
  &lt;p style=&quot;font-style: italic; font-size: 1.5rem;&quot;&gt;
    At Vodafone, we test new solutions, measure results, keep what worked and question what didn&#39;t,
    learning from mistakes. We call it &quot;Experiment, Learn Fast&quot;. Thanks to the collaboration with Google
    and the introduction of LCP as the main KPI for page performance, it was possible to
    significantly improve the customer experience of our e-commerce.
  &lt;/p&gt;
  &lt;cite&gt;Davide Grossi, Head of Digital Marketing, Business&lt;/cite&gt;
&lt;/blockquote&gt;
&lt;p&gt;Check out the &lt;a href=&quot;https://web.dev/tags/scale-on-web&quot;&gt;Scale on web case studies&lt;/a&gt; page for more
success stories.&lt;/p&gt;
</content>
    
  </entry>
  
  <entry>
    <title>How CLS optimizations increased Yahoo! JAPAN News&#39;s page views per session by 15%</title>
    <link href="https://web.dev/yahoo-japan-news/"/>
    <updated>2021-03-09T00:00:00Z</updated>
    <id>https://web.dev/yahoo-japan-news/</id>
    <content type="text/html" mode="escaped">&lt;p&gt;&lt;a href=&quot;https://www.yahoo.co.jp/&quot; rel=&quot;noopener&quot;&gt;Yahoo! JAPAN&lt;/a&gt; is one of the largest media companies in Japan,
providing over 79 billion page views per month. Their news platform, &lt;a href=&quot;https://news.yahoo.co.jp/&quot; rel=&quot;noopener&quot;&gt;Yahoo!
JAPAN News&lt;/a&gt; has more than 22 billion page views per
month and an engineering team dedicated to improving the user experience.&lt;/p&gt;
&lt;p&gt;By continuously monitoring Core Web Vitals (CWV), they correlated the site&#39;s
improved &lt;a href=&quot;https://web.dev/cls&quot;&gt;Cumulative Layout Shift (CLS)&lt;/a&gt; score with a 15%
increase in page views per session and 13% increase in session duration.&lt;/p&gt;
&lt;div class=&quot;w-stats&quot;&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;0.2&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;CLS improvement&lt;/p&gt;
  &lt;/div&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;15.1&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;More page views per session&lt;/p&gt;
  &lt;/div&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;13.3&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;Longer session duration&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;w-aside w-aside--note&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://web.dev/cls&quot;&gt;Cumulative Layout Shift&lt;/a&gt; measures how visually stable a
website is—it helps quantify how often users experience unexpected layout
shifts.&lt;/p&gt;
&lt;/div&gt; 
&lt;p&gt;Page content moving around unexpectedly often causes accidental clicks,
disorientation on the page, and ultimately user frustration. Frustrated users
tend not to stick around for long. To keep users happy, the page layout should
stay stable through the entire lifecycle of the user journey. For Yahoo! JAPAN
News this improvement had a significant positive impact on business critical
engagement metrics.&lt;/p&gt;
&lt;p&gt;For technical details on how they improved the CLS, read the
&lt;a href=&quot;https://techblog.yahoo.co.jp/entry/2021022230076263/&quot; rel=&quot;noopener&quot;&gt;Yahoo! JAPAN News engineering team&#39;s post&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;identifying-the-issue&quot;&gt;Identifying the issue &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/yahoo-japan-news/#identifying-the-issue&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Monitoring Core Web Vitals, including CLS, is crucial in catching issues and
identifying where they&#39;re coming from. At Yahoo! JAPAN News, &lt;a href=&quot;https://search.google.com/search-console/about&quot; rel=&quot;noopener&quot;&gt;Search
Console&lt;/a&gt; provided a great
overview of groups of pages with performance issues and
&lt;a href=&quot;https://web.dev/learn/#lighthouse&quot;&gt;Lighthouse&lt;/a&gt; helped identify per-page
opportunities to improve page experience. Using these tools, they discovered
that the article detail page had poor CLS.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;Google Search Console Core Web Vitals Report showing high CLS for article details page.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;719&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/GhORGAous9gyou5yTmHj.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/GhORGAous9gyou5yTmHj.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/GhORGAous9gyou5yTmHj.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/GhORGAous9gyou5yTmHj.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/GhORGAous9gyou5yTmHj.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/GhORGAous9gyou5yTmHj.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/GhORGAous9gyou5yTmHj.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/GhORGAous9gyou5yTmHj.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/GhORGAous9gyou5yTmHj.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/GhORGAous9gyou5yTmHj.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/GhORGAous9gyou5yTmHj.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/GhORGAous9gyou5yTmHj.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/GhORGAous9gyou5yTmHj.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/GhORGAous9gyou5yTmHj.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/GhORGAous9gyou5yTmHj.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/GhORGAous9gyou5yTmHj.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/GhORGAous9gyou5yTmHj.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/GhORGAous9gyou5yTmHj.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;
    Google Search Console Core Web Vitals Report.
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;Lighthouse Avoid large layout shifts audit showing DOm elements that contribute the most to the CLS on the page.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;265&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/3YwmCzVBl78a9TdOKu90.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/3YwmCzVBl78a9TdOKu90.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/3YwmCzVBl78a9TdOKu90.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/3YwmCzVBl78a9TdOKu90.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/3YwmCzVBl78a9TdOKu90.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/3YwmCzVBl78a9TdOKu90.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/3YwmCzVBl78a9TdOKu90.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/3YwmCzVBl78a9TdOKu90.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/3YwmCzVBl78a9TdOKu90.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/3YwmCzVBl78a9TdOKu90.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/3YwmCzVBl78a9TdOKu90.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/3YwmCzVBl78a9TdOKu90.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/3YwmCzVBl78a9TdOKu90.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/3YwmCzVBl78a9TdOKu90.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/3YwmCzVBl78a9TdOKu90.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/3YwmCzVBl78a9TdOKu90.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/3YwmCzVBl78a9TdOKu90.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/3YwmCzVBl78a9TdOKu90.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;
    Lighthouse &quot;Avoid large layout shifts&quot; audit shows which elements are
    contributing to CLS score and how much.
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;It&#39;s important to keep in mind the &lt;em&gt;cumulative&lt;/em&gt; part of the Cumulative Layout
Shift—the score is captured through the entire page lifecycle. In the
real-world, the score can include shifts that happen as a result of user
interactions such as scrolling a page or tapping a button. To collect CLS scores
from the &lt;a href=&quot;https://web.dev/how-to-measure-speed/#lab-data-vs-field-data&quot;&gt;field
data&lt;/a&gt;, the team
integrated &lt;a href=&quot;https://github.com/GoogleChrome/web-vitals/&quot; rel=&quot;noopener&quot;&gt;web-vitals&lt;/a&gt; JavaScript
library reporting.&lt;/p&gt;
&lt;div class=&quot;w-aside w-aside--note&quot;&gt;
&lt;p&gt;As a part of performance monitoring strategy, they&#39;re also working on building
an internal tool with &lt;a href=&quot;https://web.dev/lighthouse-ci/&quot;&gt;Lighthouse CI&lt;/a&gt; to
continuously audit performance across businesses in the company.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;The team used Chrome DevTools to identify which elements were making layout
shifts on the page.
&lt;a href=&quot;https://developers.google.com/web/updates/2019/07/devtools&quot; rel=&quot;noopener&quot;&gt;Layout Shift Regions&lt;/a&gt;
in DevTools visualizes elements that contribute to CLS by highlighting them with
a blue rectangle whenever a layout shift happens.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;Article details page with blue rectangles overlayed on the hero image and the text.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;668&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 376px) 376px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/scvRgLxkZVQoGfOtjZ4z.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/scvRgLxkZVQoGfOtjZ4z.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/scvRgLxkZVQoGfOtjZ4z.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/scvRgLxkZVQoGfOtjZ4z.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/scvRgLxkZVQoGfOtjZ4z.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/scvRgLxkZVQoGfOtjZ4z.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/scvRgLxkZVQoGfOtjZ4z.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/scvRgLxkZVQoGfOtjZ4z.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/scvRgLxkZVQoGfOtjZ4z.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/scvRgLxkZVQoGfOtjZ4z.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/scvRgLxkZVQoGfOtjZ4z.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/scvRgLxkZVQoGfOtjZ4z.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/scvRgLxkZVQoGfOtjZ4z.png?auto=format&amp;w=752 752w&quot; width=&quot;376&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;
    Visualized layout shifts.
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;They figured out that a layout shift occurred after the hero image at the top of
the article was loaded for the first view.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;Screenshots of the article details page showing side by side comparison before and after layout shift.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;455&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 798px) 798px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/HdGiCh7O8ZhqcOkfVGEv.jpg?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/HdGiCh7O8ZhqcOkfVGEv.jpg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/HdGiCh7O8ZhqcOkfVGEv.jpg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/HdGiCh7O8ZhqcOkfVGEv.jpg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/HdGiCh7O8ZhqcOkfVGEv.jpg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/HdGiCh7O8ZhqcOkfVGEv.jpg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/HdGiCh7O8ZhqcOkfVGEv.jpg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/HdGiCh7O8ZhqcOkfVGEv.jpg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/HdGiCh7O8ZhqcOkfVGEv.jpg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/HdGiCh7O8ZhqcOkfVGEv.jpg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/HdGiCh7O8ZhqcOkfVGEv.jpg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/HdGiCh7O8ZhqcOkfVGEv.jpg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/HdGiCh7O8ZhqcOkfVGEv.jpg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/HdGiCh7O8ZhqcOkfVGEv.jpg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/HdGiCh7O8ZhqcOkfVGEv.jpg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/HdGiCh7O8ZhqcOkfVGEv.jpg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/HdGiCh7O8ZhqcOkfVGEv.jpg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/HdGiCh7O8ZhqcOkfVGEv.jpg?auto=format&amp;w=1596 1596w&quot; width=&quot;798&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;
    Layout shift on the article detail page.
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;In the example above, when the image finishes loading, the text gets pushed down
(the position change is indicated with the red line).&lt;/p&gt;
&lt;h2 id=&quot;improving-cls-for-images&quot;&gt;Improving CLS for images &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/yahoo-japan-news/#improving-cls-for-images&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;For fixed-size images, layout shifts can be prevented by specifying the &lt;code&gt;width&lt;/code&gt;
and &lt;code&gt;height&lt;/code&gt; attributes in the &lt;code&gt;img&lt;/code&gt; element and using the CSS
&lt;a href=&quot;https://web.dev/aspect-ratio&quot;&gt;&lt;code&gt;aspect-ratio&lt;/code&gt;&lt;/a&gt;
property available in modern browsers. However, Yahoo! JAPAN News needed to
support not only modern browsers, but also browsers installed in relatively old
operating systems such as iOS 9.&lt;/p&gt;
&lt;p&gt;They used &lt;a href=&quot;https://css-tricks.com/aspect-ratio-boxes/&quot; rel=&quot;noopener&quot;&gt;Aspect Ratio Boxes&lt;/a&gt;—a
method which uses markup to reserve the space on the page before the image is
loaded. This method requires knowing the aspect ratio of the image in advance,
which they were able to get from the backend API.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;Screenshots of the article details page showing side by side comparison before and after CLS optimization.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;439&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/gUbS3jB6zMBZwEU3wmW6.jpg?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/gUbS3jB6zMBZwEU3wmW6.jpg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/gUbS3jB6zMBZwEU3wmW6.jpg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/gUbS3jB6zMBZwEU3wmW6.jpg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/gUbS3jB6zMBZwEU3wmW6.jpg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/gUbS3jB6zMBZwEU3wmW6.jpg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/gUbS3jB6zMBZwEU3wmW6.jpg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/gUbS3jB6zMBZwEU3wmW6.jpg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/gUbS3jB6zMBZwEU3wmW6.jpg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/gUbS3jB6zMBZwEU3wmW6.jpg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/gUbS3jB6zMBZwEU3wmW6.jpg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/gUbS3jB6zMBZwEU3wmW6.jpg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/gUbS3jB6zMBZwEU3wmW6.jpg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/gUbS3jB6zMBZwEU3wmW6.jpg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/gUbS3jB6zMBZwEU3wmW6.jpg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/gUbS3jB6zMBZwEU3wmW6.jpg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/gUbS3jB6zMBZwEU3wmW6.jpg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/gUbS3jB6zMBZwEU3wmW6.jpg?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;
    Left: reserved blank space for the image at the top of the page; right: the
    hero image loaded in the reserved space without layout shifts.
    &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;results&quot;&gt;Results &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/yahoo-japan-news/#results&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The number of URLs with poor performance in Search Console decreased by 98% and
CLS in lab data decreased from about 0.2 to 0. More importantly, there were
several
&lt;a href=&quot;https://nicj.net/cumulative-layout-shift-in-the-real-world/&quot; rel=&quot;noopener&quot;&gt;correlated improvements in business metrics&lt;/a&gt;.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;Search Console report showing a significant drop in pages with performance issues.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;509&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Q5pRaIvOgzb4tqgv5dWo.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Q5pRaIvOgzb4tqgv5dWo.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Q5pRaIvOgzb4tqgv5dWo.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Q5pRaIvOgzb4tqgv5dWo.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Q5pRaIvOgzb4tqgv5dWo.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Q5pRaIvOgzb4tqgv5dWo.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Q5pRaIvOgzb4tqgv5dWo.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Q5pRaIvOgzb4tqgv5dWo.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Q5pRaIvOgzb4tqgv5dWo.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Q5pRaIvOgzb4tqgv5dWo.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Q5pRaIvOgzb4tqgv5dWo.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Q5pRaIvOgzb4tqgv5dWo.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Q5pRaIvOgzb4tqgv5dWo.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Q5pRaIvOgzb4tqgv5dWo.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Q5pRaIvOgzb4tqgv5dWo.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Q5pRaIvOgzb4tqgv5dWo.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Q5pRaIvOgzb4tqgv5dWo.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/Q5pRaIvOgzb4tqgv5dWo.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;
    Search Console after improvements.
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;div class=&quot;w-aside w-aside--note&quot;&gt;
&lt;p&gt;Search Console doesn&#39;t reflect improvements in real-time.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;When Yahoo! JAPAN News compared user engagement metrics before and after CLS
optimization, they saw multiple improvements:&lt;/p&gt;
&lt;div class=&quot;w-stats&quot;&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;15.1&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;More page views per session&lt;/p&gt;
  &lt;/div&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;13.3&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;Longer session duration&lt;/p&gt;
  &lt;/div&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;1.72&lt;sub class=&quot;w-stat__sub&quot;&gt;%*&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;Lower bounce rate (*percentage points)&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;By improving CLS and other Core Web Vitals metrics, Yahoo! JAPAN News also got
the
&lt;a href=&quot;https://blog.chromium.org/2020/08/highlighting-great-user-experiences-on.html&quot; rel=&quot;noopener&quot;&gt;&amp;quot;Fast page&amp;quot; label&lt;/a&gt;
in the context menu of Chrome Android.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;Fast page label in Chrome on Android.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;600&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 400px) 400px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/ivyeENjT9NKZLhdn9WJm.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/ivyeENjT9NKZLhdn9WJm.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/ivyeENjT9NKZLhdn9WJm.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/ivyeENjT9NKZLhdn9WJm.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/ivyeENjT9NKZLhdn9WJm.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/ivyeENjT9NKZLhdn9WJm.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/ivyeENjT9NKZLhdn9WJm.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/ivyeENjT9NKZLhdn9WJm.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/ivyeENjT9NKZLhdn9WJm.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/ivyeENjT9NKZLhdn9WJm.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/ivyeENjT9NKZLhdn9WJm.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/ivyeENjT9NKZLhdn9WJm.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/ivyeENjT9NKZLhdn9WJm.png?auto=format&amp;w=800 800w&quot; width=&quot;400&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;
    &quot;Fast page&quot; label in Chrome on Android.
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;Layout shifts are frustrating and discourage users from reading more pages, but
that can be improved by using the appropriate tools, identifying issues, and
applying best practices. Improving CLS is a chance to improve your business.&lt;/p&gt;
&lt;p&gt;For more information, read the
&lt;a href=&quot;https://techblog.yahoo.co.jp/entry/2021022230076263/&quot; rel=&quot;noopener&quot;&gt;Yahoo! JAPAN engineering team&#39;s post&lt;/a&gt;.&lt;/p&gt;
</content>
    <author>
      <name>Shunya Shishido</name>
    </author><author>
      <name>Tomoki Kiraku</name>
    </author><author>
      <name>Milica Mihajlija</name>
    </author>
  </entry>
  
  <entry>
    <title>How Wix improved website performance by evolving their infrastructure</title>
    <link href="https://web.dev/wix/"/>
    <updated>2021-03-10T00:00:00Z</updated>
    <id>https://web.dev/wix/</id>
    <content type="text/html" mode="escaped">&lt;div class=&quot;w-aside w-aside--note&quot;&gt;
&lt;p&gt;Alon leads the core backend team at &lt;a href=&quot;https://www.wix.com/&quot; rel=&quot;noopener&quot;&gt;Wix&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Thanks to leveraging industry standards, cloud providers, and CDN capabilities,
combined with a major rewrite of our website runtime, the percentage of Wix
sites reaching good 75th percentile scores on all Core Web Vitals (CWV) metrics
&lt;strong&gt;more than tripled&lt;/strong&gt; year over year, according to data from
&lt;a href=&quot;https://developers.google.com/web/tools/chrome-user-experience-report&quot; rel=&quot;noopener&quot;&gt;CrUX&lt;/a&gt;
and
&lt;a href=&quot;https://httparchive.org/faq#how-do-i-use-bigquery-to-write-custom-queries-over-the-data&quot; rel=&quot;noopener&quot;&gt;HTTPArchive&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Wix adopted a performance-oriented culture, and further improvements will
continue rolling out to users. As we focus on performance KPIs, we expect to see
the number of sites passing CWV thresholds grow.&lt;/p&gt;
&lt;h2 id=&quot;overview&quot;&gt;Overview &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/wix/#overview&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The world of performance is &lt;a href=&quot;https://youtu.be/ctavZT87syI&quot; rel=&quot;noopener&quot;&gt;beautifully complex&lt;/a&gt;,
with many variables and intricacies. Research shows that site &lt;a href=&quot;https://web.dev/milliseconds-make-millions&quot;&gt;speed has a
direct impact on conversion rates and revenues&lt;/a&gt; for
businesses. In recent years, the industry has put more emphasis on performance
visibility and &lt;a href=&quot;https://web.dev/fast&quot;&gt;making the web faster&lt;/a&gt;. Starting in May 2021, &lt;a href=&quot;https://developers.google.com/search/blog/2020/11/timing-for-page-experience&quot; rel=&quot;noopener&quot;&gt;page
experience
signals&lt;/a&gt;
will be included in Google Search ranking.&lt;/p&gt;
&lt;p&gt;The unique challenge at Wix is supporting &lt;strong&gt;millions&lt;/strong&gt; of sites, some of which
were built &lt;em&gt;many years ago&lt;/em&gt; and have not been updated since. We have various
&lt;a href=&quot;https://support.wix.com/en/performance-and-technical-issues/site-performance&quot; rel=&quot;noopener&quot;&gt;tools and
articles&lt;/a&gt;
to assist our users on what they can do to analyze and improve the performance
of their sites.&lt;/p&gt;
&lt;p&gt;Wix is a managed environment and not everything is in the hands of the user.
Sharing common infrastructures presents many challenges for all these sites, but
also opens opportunities for major enhancements across the board, i.e.
leveraging the economies of scale.&lt;/p&gt;
&lt;div class=&quot;w-aside w-aside--note&quot;&gt;
&lt;p&gt;&lt;em&gt;In this post I will focus on enhancements done around serving the initial HTML, which
initiates the page loading process.&lt;/em&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;h3 id=&quot;speaking-in-a-common-language&quot;&gt;Speaking in a common language &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/wix/#speaking-in-a-common-language&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;One of the core difficulties with performance is finding a common terminology to
discuss different aspects of the user experience, while considering both the
technical and perceived performance. Using a well-defined, common language
within the organization enabled us to easily discuss and categorize the
different technical parts and trade-offs, clarified our performance reports and
tremendously helped to understand what aspects we should focus on improving
first.&lt;/p&gt;
&lt;p&gt;We adjusted all our monitoring and internal discussions to include industry
standard metrics such as &lt;a href=&quot;https://web.dev/vitals/&quot;&gt;Web Vitals&lt;/a&gt;, which include:&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;A diagram of the 2020 Core Web Vitals: LCP, FID, and CLS.&quot; decoding=&quot;async&quot; height=&quot;215&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/PLF62sx8lHkpKbnvYKKR.jpg?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/PLF62sx8lHkpKbnvYKKR.jpg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/PLF62sx8lHkpKbnvYKKR.jpg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/PLF62sx8lHkpKbnvYKKR.jpg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/PLF62sx8lHkpKbnvYKKR.jpg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/PLF62sx8lHkpKbnvYKKR.jpg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/PLF62sx8lHkpKbnvYKKR.jpg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/PLF62sx8lHkpKbnvYKKR.jpg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/PLF62sx8lHkpKbnvYKKR.jpg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/PLF62sx8lHkpKbnvYKKR.jpg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/PLF62sx8lHkpKbnvYKKR.jpg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/PLF62sx8lHkpKbnvYKKR.jpg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/PLF62sx8lHkpKbnvYKKR.jpg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/PLF62sx8lHkpKbnvYKKR.jpg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/PLF62sx8lHkpKbnvYKKR.jpg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/PLF62sx8lHkpKbnvYKKR.jpg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/PLF62sx8lHkpKbnvYKKR.jpg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/PLF62sx8lHkpKbnvYKKR.jpg?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;Core Web Vitals&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;site-complexity-and-performance-scores&quot;&gt;Site complexity and performance scores &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/wix/#site-complexity-and-performance-scores&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;It&#39;s pretty easy to create a site that loads instantly so long as you
&lt;a href=&quot;https://justinjackson.ca/words.html&quot; rel=&quot;noopener&quot;&gt;make it very simple&lt;/a&gt; using only
HTML and serve it via a CDN.&lt;/p&gt;
&lt;figure class=&quot;w-figure w-figure--inline-left&quot;&gt;
  &lt;img alt=&quot;PageSpeed Insights Example&quot; decoding=&quot;async&quot; height=&quot;647&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/xMUN9CUVvgnHofImPcV5.jpg?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/xMUN9CUVvgnHofImPcV5.jpg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/xMUN9CUVvgnHofImPcV5.jpg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/xMUN9CUVvgnHofImPcV5.jpg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/xMUN9CUVvgnHofImPcV5.jpg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/xMUN9CUVvgnHofImPcV5.jpg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/xMUN9CUVvgnHofImPcV5.jpg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/xMUN9CUVvgnHofImPcV5.jpg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/xMUN9CUVvgnHofImPcV5.jpg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/xMUN9CUVvgnHofImPcV5.jpg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/xMUN9CUVvgnHofImPcV5.jpg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/xMUN9CUVvgnHofImPcV5.jpg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/xMUN9CUVvgnHofImPcV5.jpg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/xMUN9CUVvgnHofImPcV5.jpg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/xMUN9CUVvgnHofImPcV5.jpg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/xMUN9CUVvgnHofImPcV5.jpg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/xMUN9CUVvgnHofImPcV5.jpg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/xMUN9CUVvgnHofImPcV5.jpg?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;However, the reality is that sites are getting more and more complex and
sophisticated, operating more like applications rather than documents, and
supporting functionalities such as blogs, e-commerce solutions, custom code,
etc.&lt;/p&gt;
&lt;p&gt;Wix offers a very large &lt;a href=&quot;https://www.wix.com/website/templates&quot; rel=&quot;noopener&quot;&gt;variety of
templates&lt;/a&gt;, enabling its users to easily
build a site with many business capabilities. Those additional features often
come with &lt;em&gt;some&lt;/em&gt; performance costs.&lt;/p&gt;
&lt;h2 id=&quot;the-journey&quot;&gt;The journey &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/wix/#the-journey&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id=&quot;in-the-beginning-there-was-html&quot;&gt;In the beginning, there was HTML &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/wix/#in-the-beginning-there-was-html&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Every time a webpage is loaded, it always starts with an initial request to a
URL in order to retrieve the HTML document. This HTML response triggers all the
additional client requests and browser logic to run and render your site. This
is the most important part of the page loading, because nothing happens until
the beginning of the response arrives (known as TTFB - time to first byte).&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;WebPageTest First View&quot; decoding=&quot;async&quot; height=&quot;411&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/b1KKSlUQQTuNCDj4ndyJ.jpg?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/b1KKSlUQQTuNCDj4ndyJ.jpg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/b1KKSlUQQTuNCDj4ndyJ.jpg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/b1KKSlUQQTuNCDj4ndyJ.jpg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/b1KKSlUQQTuNCDj4ndyJ.jpg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/b1KKSlUQQTuNCDj4ndyJ.jpg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/b1KKSlUQQTuNCDj4ndyJ.jpg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/b1KKSlUQQTuNCDj4ndyJ.jpg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/b1KKSlUQQTuNCDj4ndyJ.jpg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/b1KKSlUQQTuNCDj4ndyJ.jpg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/b1KKSlUQQTuNCDj4ndyJ.jpg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/b1KKSlUQQTuNCDj4ndyJ.jpg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/b1KKSlUQQTuNCDj4ndyJ.jpg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/b1KKSlUQQTuNCDj4ndyJ.jpg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/b1KKSlUQQTuNCDj4ndyJ.jpg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/b1KKSlUQQTuNCDj4ndyJ.jpg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/b1KKSlUQQTuNCDj4ndyJ.jpg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/b1KKSlUQQTuNCDj4ndyJ.jpg?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;WebPageTest First View&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h4 id=&quot;the-past:-client-side-rendering-(csr)&quot;&gt;The past: client-side rendering (CSR) &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/wix/#the-past:-client-side-rendering-(csr)&quot;&gt;#&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;When operating large scale systems, you always have trade-offs you need to
consider, such as performance, reliability and costs. Up to a few years ago, Wix
used client-side rendering (CSR), in which the actual HTML content was generated
via JavaScript on the client side (i.e. in the browser) allowing us to support a
high scale of sites without having huge backend operational costs.&lt;/p&gt;
&lt;p&gt;CSR enabled us to use a common HTML document, which was essentially empty. All
it did was trigger the download of the required code and data which was then
used to generate the full HTML on the client device.&lt;/p&gt;
&lt;h4 id=&quot;today:-server-side-rendering-(ssr)&quot;&gt;Today: server-side rendering (SSR) &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/wix/#today:-server-side-rendering-(ssr)&quot;&gt;#&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;A few years ago we transitioned to server-side rendering (SSR), as that was
beneficial both to SEO and performance, improving initial page visibility times
and ensuring better indexing for search engines that do not have full support
for running JavaScript.&lt;/p&gt;
&lt;p&gt;This approach improved the visibility experience, especially on slower
devices/connections, and opened the door for further performance optimizations.
However, it also meant that for each web page request, a unique HTML response
was generated on the fly, which is &lt;strong&gt;far&lt;/strong&gt; from optimal, especially for sites
with a large amount of views.&lt;/p&gt;
&lt;h3 id=&quot;introducing-caching-in-multiple-locations&quot;&gt;Introducing caching in multiple locations &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/wix/#introducing-caching-in-multiple-locations&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;The HTML for each site was mostly static, but it had a few caveats:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;It frequently changes. Each time a user edits their site, or makes changes in site data,
such as on the website store inventory.&lt;/li&gt;
&lt;li&gt;It had certain data and cookies that were &lt;strong&gt;visitor specific&lt;/strong&gt;,
meaning two people visiting the same site would see somewhat different HTML. For example,
to support products features such as remembering what items a visitor put in the cart,
or the chat the visitor started with the business earlier, and more.&lt;/li&gt;
&lt;li&gt;Not all pages are cacheable. For example a page with custom user code on it,
that displays the current time as part of the document, is not eligible for caching.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Initially, we took the relatively safe approach of caching the HTML &lt;span style=&quot;text-decoration:underline;&quot;&gt;without&lt;/span&gt; visitor data, and then only
modified specific parts of the HTML response on the fly for each visitor, for
each cache hit.&lt;/p&gt;
&lt;h4 id=&quot;in-house-cdn-solution&quot;&gt;In-house CDN solution &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/wix/#in-house-cdn-solution&quot;&gt;#&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;We did this by deploying an in-house solution: Using &lt;a href=&quot;https://varnish-cache.org/&quot; rel=&quot;noopener&quot;&gt;Varnish HTTP
Cache&lt;/a&gt; for proxying and caching, Kafka for
invalidation messages, and a Scala/Netty-based service which proxies these HTML
responses, but mutates the HTML and adds visitor-specific data and cookies to
the cached response.&lt;/p&gt;
&lt;p&gt;This solution enabled us to deploy these &lt;strong&gt;slim&lt;/strong&gt; components in many more
geographic locations and multiple cloud provider regions, which are spread
across the world. In 2019, we introduced &lt;strong&gt;over 15 new regions&lt;/strong&gt;, and gradually
enabled caching for over 90% of our page views that were eligible for caching.
Serving sites from additional locations reduced the &lt;a href=&quot;https://www.cloudping.co/grid&quot; rel=&quot;noopener&quot;&gt;network
latency&lt;/a&gt; between the clients and the servers
serving the HTML response, by bringing the content closer to the website&#39;s
visitors.&lt;/p&gt;
&lt;p&gt;We also started caching certain read-only API responses by using the same
solution and invalidating the cache on any change to the site content. For
example, the list of blog posts on the site is cached and invalidated when a
post is published/modified.&lt;/p&gt;
&lt;h4 id=&quot;reducing-complexities&quot;&gt;Reducing complexities &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/wix/#reducing-complexities&quot;&gt;#&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;Implementing caching improved performance substantially, mostly on the
&lt;a href=&quot;https://web.dev/time-to-first-byte/&quot;&gt;TTFB&lt;/a&gt; and &lt;a href=&quot;https://web.dev/fcp/&quot;&gt;FCP&lt;/a&gt; phases, and improved our
reliability by serving the content from a location closer to the end user.&lt;/p&gt;
&lt;p&gt;However, the need to modify the HTML for each response introduced an unnecessary
complexity that, if removed, presented an opportunity for further performance
improvements.&lt;/p&gt;
&lt;h3 id=&quot;browser-caching-(and-preparations-for-cdns)&quot;&gt;Browser caching (and preparations for CDNs) &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/wix/#browser-caching-(and-preparations-for-cdns)&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;div class=&quot;w-figure&quot;&gt;
  &lt;div class=&quot;w-stats&quot;&gt;
    &lt;div class=&quot;w-stat&quot;&gt;
     &lt;p class=&quot;w-stat__figure&quot;&gt;~ 13&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
     &lt;p class=&quot;w-stat__desc&quot;&gt;HTML requests served directly from the browser cache,
     saving much bandwidth and reducing loading times for repeat views&lt;/p&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The next step was to actually remove this visitor-specific data from the HTML
&lt;span style=&quot;text-decoration:underline;&quot;&gt;entirely&lt;/span&gt;, and retrieve it from a
separate endpoint, called by the client for this purpose, after the HTML has
arrived.&lt;/p&gt;
&lt;p&gt;We carefully migrated this data and cookies to a new endpoint, which is called
on each page load, but returns a slim JSON, which is required only for the
&lt;a href=&quot;https://reactjs.org/docs/react-dom.html#hydrate&quot; rel=&quot;noopener&quot;&gt;hydration process&lt;/a&gt;, to reach
full page interactivity.&lt;/p&gt;
&lt;p&gt;This allowed us to enable browser caching of the HTML, which means that browsers
now save the HTML response for repeating visits, and only call the server to
validate that the content hasn&#39;t changed. This is done using &lt;a href=&quot;https://en.wikipedia.org/wiki/HTTP_ETag&quot; rel=&quot;noopener&quot;&gt;HTTP
ETag&lt;/a&gt;, which is basically an identifier
assigned to a specific version of an HTML resource. If the content is still the
same, a &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/304&quot; rel=&quot;noopener&quot;&gt;304 Not
Modified&lt;/a&gt; response
is sent by our servers to the client, without a body.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;ALT_TEXT_HERE&quot; decoding=&quot;async&quot; height=&quot;410&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/hr1xnQccJEkHTBGxS5wF.jpg?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/hr1xnQccJEkHTBGxS5wF.jpg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/hr1xnQccJEkHTBGxS5wF.jpg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/hr1xnQccJEkHTBGxS5wF.jpg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/hr1xnQccJEkHTBGxS5wF.jpg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/hr1xnQccJEkHTBGxS5wF.jpg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/hr1xnQccJEkHTBGxS5wF.jpg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/hr1xnQccJEkHTBGxS5wF.jpg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/hr1xnQccJEkHTBGxS5wF.jpg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/hr1xnQccJEkHTBGxS5wF.jpg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/hr1xnQccJEkHTBGxS5wF.jpg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/hr1xnQccJEkHTBGxS5wF.jpg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/hr1xnQccJEkHTBGxS5wF.jpg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/hr1xnQccJEkHTBGxS5wF.jpg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/hr1xnQccJEkHTBGxS5wF.jpg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/hr1xnQccJEkHTBGxS5wF.jpg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/hr1xnQccJEkHTBGxS5wF.jpg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/hr1xnQccJEkHTBGxS5wF.jpg?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;WebPageTest Repeat View&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;In addition, this change means that our HTML is no longer visitor-specific and
contains no cookies. In other words it can basically be cached anywhere, opening
the door to using CDN providers that have much better geo presence in hundreds
of locations around the world.&lt;/p&gt;
&lt;h3 id=&quot;dns-ssl-and-http2&quot;&gt;DNS, SSL and HTTP/2 &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/wix/#dns-ssl-and-http2&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;With caching enabled, wait times were reduced and other important parts of the
initial connection became more substantial. Enhancing our networking
infrastructure and monitoring enabled us to improve our DNS, connection, and SSL
times.&lt;/p&gt;
&lt;figure class=&quot;w-figure w-figure--inline-right&quot;&gt;
  &lt;img alt=&quot;A response time graph.&quot; decoding=&quot;async&quot; height=&quot;441&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/Uuvh9xTItQ8wMA9s13RP.jpg?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/Uuvh9xTItQ8wMA9s13RP.jpg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/Uuvh9xTItQ8wMA9s13RP.jpg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/Uuvh9xTItQ8wMA9s13RP.jpg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/Uuvh9xTItQ8wMA9s13RP.jpg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/Uuvh9xTItQ8wMA9s13RP.jpg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/Uuvh9xTItQ8wMA9s13RP.jpg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/Uuvh9xTItQ8wMA9s13RP.jpg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/Uuvh9xTItQ8wMA9s13RP.jpg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/Uuvh9xTItQ8wMA9s13RP.jpg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/Uuvh9xTItQ8wMA9s13RP.jpg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/Uuvh9xTItQ8wMA9s13RP.jpg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/Uuvh9xTItQ8wMA9s13RP.jpg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/Uuvh9xTItQ8wMA9s13RP.jpg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/Uuvh9xTItQ8wMA9s13RP.jpg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/Uuvh9xTItQ8wMA9s13RP.jpg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/Uuvh9xTItQ8wMA9s13RP.jpg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/Uuvh9xTItQ8wMA9s13RP.jpg?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/HTTP/2&quot; rel=&quot;noopener&quot;&gt;HTTP/2&lt;/a&gt; was enabled for all user domains,
reducing both the amount of connections required and the overhead that comes
with each new connection. This was a relatively easy change to deploy, while
taking advantage of the &lt;a href=&quot;https://developers.google.com/web/fundamentals/performance/http2&quot; rel=&quot;noopener&quot;&gt;performance and resilience
benefits&lt;/a&gt; that
come with HTTP/2.&lt;/p&gt;
&lt;h3 id=&quot;brotli-compression-(vs.-gzip)&quot;&gt;Brotli compression (vs. gzip) &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/wix/#brotli-compression-(vs.-gzip)&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;div class=&quot;w-figure&quot;&gt;
  &lt;div class=&quot;w-stats&quot;&gt;
    &lt;div class=&quot;w-stat&quot;&gt;
     &lt;p class=&quot;w-stat__figure&quot;&gt;21 - 25&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
     &lt;p class=&quot;w-stat__desc&quot;&gt;Reduction of median file transfer size&lt;/p&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Traditionally, all our files were compressed using &lt;a href=&quot;https://en.wikipedia.org/wiki/Gzip&quot; rel=&quot;noopener&quot;&gt;gzip
compression&lt;/a&gt;, which is the most prevalent
HTML compression option on the web. This compression protocol was initially
implemented almost 30 years ago!&lt;/p&gt;
&lt;figure class=&quot;w-figure w-figure--inline-right&quot;&gt;
  &lt;img alt=&quot;Brotli compression&quot; decoding=&quot;async&quot; height=&quot;805&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/h7KzeAfg2THMdDGMYvlR.jpg?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/h7KzeAfg2THMdDGMYvlR.jpg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/h7KzeAfg2THMdDGMYvlR.jpg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/h7KzeAfg2THMdDGMYvlR.jpg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/h7KzeAfg2THMdDGMYvlR.jpg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/h7KzeAfg2THMdDGMYvlR.jpg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/h7KzeAfg2THMdDGMYvlR.jpg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/h7KzeAfg2THMdDGMYvlR.jpg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/h7KzeAfg2THMdDGMYvlR.jpg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/h7KzeAfg2THMdDGMYvlR.jpg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/h7KzeAfg2THMdDGMYvlR.jpg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/h7KzeAfg2THMdDGMYvlR.jpg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/h7KzeAfg2THMdDGMYvlR.jpg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/h7KzeAfg2THMdDGMYvlR.jpg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/h7KzeAfg2THMdDGMYvlR.jpg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/h7KzeAfg2THMdDGMYvlR.jpg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/h7KzeAfg2THMdDGMYvlR.jpg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/h7KzeAfg2THMdDGMYvlR.jpg?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;
    &lt;a href=&quot;https://tools.paulcalvano.com/compression.php&quot;&gt;Brotli Compression Level Estimator&lt;/a&gt;
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;The newer &lt;a href=&quot;https://en.wikipedia.org/wiki/Brotli&quot; rel=&quot;noopener&quot;&gt;Brotli compression&lt;/a&gt; introduces
compression improvements with almost no trade-offs, and is slowly becoming more
popular, as described in the yearly Web Almanac &lt;a href=&quot;https://almanac.httparchive.org/en/2020/compression#what-type-of-content-should-we-compress&quot; rel=&quot;noopener&quot;&gt;Compression
chapter&lt;/a&gt;.
It has been supported by &lt;a href=&quot;https://caniuse.com/brotli&quot; rel=&quot;noopener&quot;&gt;all the major browsers&lt;/a&gt;
for a while.&lt;/p&gt;
&lt;p&gt;We enabled Brotli support on our nginx proxies in the edges, for all clients
that support it.&lt;/p&gt;
&lt;p&gt;Moving to use Brotli compression reduced our median file transfer sizes by
&lt;strong&gt;21% to 25%&lt;/strong&gt; resulting in a reduced bandwidth usage and improved loading times.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;Mobile and Desktop Median Response Sizes&quot; decoding=&quot;async&quot; height=&quot;173&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/392RWYamrwkdFozk91LC.jpg?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/392RWYamrwkdFozk91LC.jpg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/392RWYamrwkdFozk91LC.jpg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/392RWYamrwkdFozk91LC.jpg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/392RWYamrwkdFozk91LC.jpg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/392RWYamrwkdFozk91LC.jpg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/392RWYamrwkdFozk91LC.jpg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/392RWYamrwkdFozk91LC.jpg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/392RWYamrwkdFozk91LC.jpg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/392RWYamrwkdFozk91LC.jpg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/392RWYamrwkdFozk91LC.jpg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/392RWYamrwkdFozk91LC.jpg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/392RWYamrwkdFozk91LC.jpg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/392RWYamrwkdFozk91LC.jpg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/392RWYamrwkdFozk91LC.jpg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/392RWYamrwkdFozk91LC.jpg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/392RWYamrwkdFozk91LC.jpg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/392RWYamrwkdFozk91LC.jpg?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;Median Response Sizes&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;content-delivery-networks-(cdns)&quot;&gt;Content delivery networks (CDNs) &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/wix/#content-delivery-networks-(cdns)&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id=&quot;dynamic-cdn-selection&quot;&gt;Dynamic CDN selection &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/wix/#dynamic-cdn-selection&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;At Wix, we have always used &lt;a href=&quot;https://web.dev/content-delivery-networks/&quot;&gt;CDNs&lt;/a&gt; to serve all the
JavaScript code and images on user websites.&lt;/p&gt;
&lt;p&gt;Recently, we integrated with a solution by our DNS provider, to automatically
select the best performing CDN according to the client&#39;s network and origin.
This enables us to serve the static files from the best location for each
visitor, and avoid availability issues on a certain CDN.&lt;/p&gt;
&lt;h3 id=&quot;coming-soon...-user-domains-served-by-cdns&quot;&gt;Coming soon… user domains served by CDNs &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/wix/#coming-soon...-user-domains-served-by-cdns&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;The final piece of the puzzle is serving the last, and most critical part,
through a CDN: the HTML from the user domain.&lt;/p&gt;
&lt;p&gt;As described above, we created our own in-house solution to cache and serve the
site-specific HTML and API results. Maintaining this solution in so many new
regions also has its operational costs, and adding new locations becomes a
process we need to manage and continually optimize.&lt;/p&gt;
&lt;p&gt;We are currently integrating with various CDN providers to support serving the
entire Wix site directly from CDN locations to improve the distribution of our
servers across the globe and thus further improve response times. This is a
challenge due to the large amount of domains we serve, which require SSL
termination at the edge.&lt;/p&gt;
&lt;p&gt;Integrating with CDNs brings Wix websites closer than ever to the customer and
comes with more improvements to the loading experience, including newer
technologies such as HTTP/3 without added effort on our side.&lt;/p&gt;
&lt;hr /&gt;
&lt;h3 id=&quot;a-few-words-on-performance-monitoring&quot;&gt;A few words on performance monitoring &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/wix/#a-few-words-on-performance-monitoring&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;If you run a Wix site, you&#39;re probably wondering how this translates to your Wix
site performance results, and how we compare against other website platforms.&lt;/p&gt;
&lt;p&gt;Most of the work done above has been deployed in the past year, and some is
still being rolled out.&lt;/p&gt;
&lt;p&gt;The Web Almanac by HTTPArchive recently published the &lt;a href=&quot;https://almanac.httparchive.org/en/2020&quot; rel=&quot;noopener&quot;&gt;2020
edition&lt;/a&gt; which includes an excellent
chapter on &lt;a href=&quot;https://almanac.httparchive.org/en/2020/cms&quot; rel=&quot;noopener&quot;&gt;CMS user experience&lt;/a&gt;.
Keep in mind that many of the numbers described in this article are from the
middle of 2020.&lt;/p&gt;
&lt;p&gt;We look forward to seeing the updated report in 2021, and are actively
monitoring
&lt;a href=&quot;https://developers.google.com/web/tools/chrome-user-experience-report/&quot; rel=&quot;noopener&quot;&gt;CrUX&lt;/a&gt;
reports for our sites as well as our internal performance metrics.&lt;/p&gt;
&lt;p&gt;We are committed to continuously improve loading times and provide our users
with a platform where they can build sites as they imagine, without compromising
on performance.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;LCP, Speed Index and FCP for a mobile site over time&quot; decoding=&quot;async&quot; height=&quot;259&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/AADz7d1yVOWZlq0iSb6P.jpg?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/AADz7d1yVOWZlq0iSb6P.jpg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/AADz7d1yVOWZlq0iSb6P.jpg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/AADz7d1yVOWZlq0iSb6P.jpg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/AADz7d1yVOWZlq0iSb6P.jpg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/AADz7d1yVOWZlq0iSb6P.jpg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/AADz7d1yVOWZlq0iSb6P.jpg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/AADz7d1yVOWZlq0iSb6P.jpg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/AADz7d1yVOWZlq0iSb6P.jpg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/AADz7d1yVOWZlq0iSb6P.jpg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/AADz7d1yVOWZlq0iSb6P.jpg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/AADz7d1yVOWZlq0iSb6P.jpg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/AADz7d1yVOWZlq0iSb6P.jpg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/AADz7d1yVOWZlq0iSb6P.jpg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/AADz7d1yVOWZlq0iSb6P.jpg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/AADz7d1yVOWZlq0iSb6P.jpg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/AADz7d1yVOWZlq0iSb6P.jpg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/BrQidfK9jaQyIHwdw91aVpkPiib2/AADz7d1yVOWZlq0iSb6P.jpg?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;LCP, Speed Index and FCP for a mobile site over time&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;DebugBear recently released a very interesting &lt;a href=&quot;https://www.debugbear.com/blog/website-builder-performance-review&quot; rel=&quot;noopener&quot;&gt;Website Builder Performance
Review&lt;/a&gt;,
which touches on some of the areas I mentioned above and examines the
performance of very simple sites built on each platform. This
&lt;a href=&quot;https://matt05041.wixsite.com/bizsolutions&quot; rel=&quot;noopener&quot;&gt;site&lt;/a&gt; was built almost two years
ago, and not modified since, but the platform is continually improving, and the
site performance along with it, which can be witnessed by &lt;a href=&quot;https://www.debugbear.com/project/175/pageLoad/873/overview?dateRange=2019-03-31T21%3A00Z-to-2021-03-31T21%3A59Z&quot; rel=&quot;noopener&quot;&gt;viewing its
data&lt;/a&gt;
over the past year and a half.&lt;/p&gt;
&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/wix/#conclusion&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;We hope our experience inspires you to adopt a performance-oriented culture at
your organisation and that the details above are helpful and applicable to your
platform or site.&lt;/p&gt;
&lt;p&gt;To sum up:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pick a set of metrics that you can track consistently using tools endorsed by
the industry. We recommend Core Web Vitals.&lt;/li&gt;
&lt;li&gt;Leverage browser caching and CDNs.&lt;/li&gt;
&lt;li&gt;Migrate to HTTP/2 (or HTTP/3 if possible).&lt;/li&gt;
&lt;li&gt;Use Brotli compression.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Thanks for learning our story and we invite you to ask questions, share ideas on
&lt;a href=&quot;https://twitter.com/alonkochba&quot; rel=&quot;noopener&quot;&gt;Twitter&lt;/a&gt; and
&lt;a href=&quot;https://github.com/alonkochba&quot; rel=&quot;noopener&quot;&gt;GitHub&lt;/a&gt; and join the web performance
conversation on your favorite channels.&lt;/p&gt;
&lt;h2 id=&quot;so-how-does-your-recent-wix-site-performance-look-like&quot;&gt;So, how does &lt;strong&gt;your&lt;/strong&gt; recent Wix site performance look like? &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/wix/#so-how-does-your-recent-wix-site-performance-look-like&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
</content>
    <author>
      <name>Alon Kochba</name>
    </author>
  </entry>
  
  <entry>
    <title>Agrofy: A 70% improvement in LCP correlated to a 76% reduction in load abandonment</title>
    <link href="https://web.dev/agrofy/"/>
    <updated>2021-03-01T00:00:00Z</updated>
    <id>https://web.dev/agrofy/</id>
    <content type="text/html" mode="escaped">&lt;p&gt;&lt;a href=&quot;https://www.agrofy.com.ar/&quot; rel=&quot;noopener&quot;&gt;Agrofy&lt;/a&gt; is an online marketplace for Latin
America&#39;s agribusiness market. They match up buyers and sellers of farm
machines, land, equipment, and financial services. In Q3 2020 a 4-person
development team at Agrofy spent a month optimizing their website because they
hypothesized that improved performance would lead to reduced bounce rates. They
specifically focused on improving &lt;a href=&quot;https://web.dev/lcp/&quot;&gt;LCP&lt;/a&gt;, which is one of
the &lt;a href=&quot;https://web.dev/vitals/#core-web-vitals&quot;&gt;Core Web Vitals&lt;/a&gt;. These
performance optimizations led to a 70% improvement in LCP, which correlated to a
76% reduction in load abandonment (from 3.8% to 0.9%).&lt;/p&gt;
&lt;div class=&quot;w-stats&quot;&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;70&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;Lower LCP&lt;/p&gt;
  &lt;/div&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;76&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;Lower load abandonment&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&quot;problem&quot;&gt;Problem &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/agrofy/#problem&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;While studying their business metrics, a development team at Agrofy noticed
that their bounce rates seemed higher than industry benchmarks. Technical
debt was also increasing in the website codebase.&lt;/p&gt;
&lt;h2 id=&quot;solution&quot;&gt;Solution &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/agrofy/#solution&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The Agrofy team pitched their executives and got buy-in to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Migrate from an older, deprecated framework to a newer, actively
supported one.&lt;/li&gt;
&lt;li&gt;Optimize the load performance of the new codebase.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The migration took 2 months. Aside from the 4-person development team mentioned
earlier, this migration also involved product and UX specialists and a software
architect.
The optimization project took the 4-person development team 1 month. They
focused on LCP, &lt;a href=&quot;https://web.dev/cls/&quot;&gt;CLS&lt;/a&gt; (another Core Web Vitals metric),
and &lt;a href=&quot;https://web.dev/fcp/&quot;&gt;FCP&lt;/a&gt;. Specific optimizations included:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Lazy loading all non-visible elements with the
&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API&quot; rel=&quot;noopener&quot;&gt;Intersection Observer API&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Delivering static resources faster with a &lt;a href=&quot;https://web.dev/content-delivery-networks/&quot;&gt;content delivery
network&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://web.dev/browser-level-image-lazy-loading/&quot;&gt;Lazy loading images&lt;/a&gt;
with &lt;code&gt;loading=&amp;quot;lazy&amp;quot;&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developers.google.com/web/updates/2019/02/rendering-on-the-web&quot; rel=&quot;noopener&quot;&gt;Server-side rendering&lt;/a&gt;
of
&lt;a href=&quot;https://developers.google.com/web/fundamentals/performance/critical-rendering-path&quot; rel=&quot;noopener&quot;&gt;critical rendering path&lt;/a&gt;
content.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://web.dev/fast/#optimize-your-resource-delivery&quot;&gt;Preloading and preconnecting&lt;/a&gt;
critical resources to minimize handshake times.&lt;/li&gt;
&lt;li&gt;Using real user monitoring (RUM) tools to identify which product detail
pages were experiencing lots of layout shifts and then make adjustments to
the codebase&#39;s architecture.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Check out the
&lt;a href=&quot;https://mollar-luciano.medium.com/how-agrofy-optimised-core-web-vitals-and-improved-business-metrics-2f73311bca&quot; rel=&quot;noopener&quot;&gt;Agrofy engineering blog post&lt;/a&gt;
for more technical details.&lt;/p&gt;
&lt;p&gt;After enabling the new codebase on 20% of traffic, they launched the new site to
all visitors in early September 2020.&lt;/p&gt;
&lt;h2 id=&quot;results&quot;&gt;Results &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/agrofy/#results&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The development team&#39;s optimizations led to measurable improvements in many
different metrics:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;LCP improved 70%.&lt;/li&gt;
&lt;li&gt;CLS improved 72%.&lt;/li&gt;
&lt;li&gt;Blocking JS requests reduced 100% and blocking CSS requests 80%.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://web.dev/long-tasks-devtools/&quot;&gt;Long tasks&lt;/a&gt; reduced 72%.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://web.dev/first-cpu-idle/&quot;&gt;First CPU Idle&lt;/a&gt; improved 25%.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Over the same time frame, real user monitoring data (also known as &lt;a href=&quot;https://web.dev/how-to-measure-speed/#lab-data-vs-field-data&quot;&gt;field
data&lt;/a&gt;) showed that
the load abandonment rate on product detail pages dropped 76%, from 3.8% to
0.9%:&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
&lt;img alt=&quot;A graph showing load abandonment rate decrease of 76% on the product details page after performance optimizations.&quot; decoding=&quot;async&quot; height=&quot;461&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/2lMYiXdjh5aLr4UIMVJF.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/2lMYiXdjh5aLr4UIMVJF.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/2lMYiXdjh5aLr4UIMVJF.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/2lMYiXdjh5aLr4UIMVJF.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/2lMYiXdjh5aLr4UIMVJF.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/2lMYiXdjh5aLr4UIMVJF.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/2lMYiXdjh5aLr4UIMVJF.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/2lMYiXdjh5aLr4UIMVJF.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/2lMYiXdjh5aLr4UIMVJF.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/2lMYiXdjh5aLr4UIMVJF.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/2lMYiXdjh5aLr4UIMVJF.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/2lMYiXdjh5aLr4UIMVJF.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/2lMYiXdjh5aLr4UIMVJF.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/2lMYiXdjh5aLr4UIMVJF.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/2lMYiXdjh5aLr4UIMVJF.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/2lMYiXdjh5aLr4UIMVJF.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/2lMYiXdjh5aLr4UIMVJF.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vgdbNJBYHma2o62ZqYmcnkq3j0o1/2lMYiXdjh5aLr4UIMVJF.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;
    Load abandonment rate trend on product detail page.
  &lt;/figcaption&gt;
&lt;/figure&gt;
</content>
    <author>
      <name>Kayce Basques</name>
    </author>
  </entry>
  
  <entry>
    <title>Clipchamp&#39;s video editor PWA installs see a 97% monthly growth</title>
    <link href="https://web.dev/clipchamp/"/>
    <updated>2020-12-08T00:00:00Z</updated>
    <id>https://web.dev/clipchamp/</id>
    <content type="text/html" mode="escaped">&lt;div class=&quot;w-stats&quot;&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;97&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;Monthly growth in PWA installations&lt;/p&gt;
  &lt;/div&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;2.3&lt;sub class=&quot;w-stat__sub&quot;&gt;x&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;Performance improvement&lt;/p&gt;
  &lt;/div&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;9&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;Higher retention in PWA users&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Clipchamp is the in-browser online &lt;a href=&quot;https://clipchamp.com/en/video-editor/&quot; rel=&quot;noopener&quot;&gt;video
editor&lt;/a&gt; that empowers anyone to tell
stories worth sharing through video. Around the world, over 12 million creators
use Clipchamp to easily edit videos. We offer simple solutions for making videos,
from intuitive tools like crop and trim, to practical features like our screen
recorder, and even a &lt;a href=&quot;https://clipchamp.com/en/video-meme-generator/&quot; rel=&quot;noopener&quot;&gt;meme maker&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;who-uses-clipchamp&quot;&gt;Who uses Clipchamp? &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/clipchamp/#who-uses-clipchamp&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Our users (or everyday editors as we call them) are diverse. No expertise is
necessary to be a video editor with Clipchamp. Specifically, we&#39;re currently
noticing sales, support training, and product marketing teams using our webcam
and screen recorder for quick explainer content with added text and GIFs to make
it engaging. We&#39;re also observing a lot of small businesses edit and post social
videos while on the move.&lt;/p&gt;
&lt;h3 id=&quot;what-challenges-do-they-face&quot;&gt;What challenges do they face? &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/clipchamp/#what-challenges-do-they-face&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;We recognise that video editing can be intimidating at first. The assumption is
that it&#39;s hard, probably due to previous frustrating experiences with complex
editing software. In contrast, Clipchamp focuses on ease and simplicity,
providing support with text overlays, stock video and music, templates, and
more.&lt;/p&gt;
&lt;p&gt;We find most everyday editors aren&#39;t wanting to create motion picture
masterpieces. We talk to our users a lot and are continually reminded that
they&#39;re busy and just want to get their story out to the world as quickly and
easily as possible, so this is a focus for us.&lt;/p&gt;
&lt;h2 id=&quot;developing-a-clipchamp-pwa&quot;&gt;Developing a Clipchamp PWA &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/clipchamp/#developing-a-clipchamp-pwa&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;At Clipchamp, we&#39;re all about empowering people to tell their stories through
video. To live up to this vision, we soon realised that allowing our users to
use their own footage when putting together a video project is important.&lt;/p&gt;
&lt;p&gt;That insight put the pressure on Clipchamp&#39;s engineering team to come up with a
technology that can efficiently process Gigabyte-scale media files in a web
application. Having network bandwidth constraints in mind, we were quick to rule
out a traditional cloud-based solution. Uploading large media files from a
retail internet connection would invariably introduce massive waiting times
before editing could even begin, effectively resulting in a poor user
experience.&lt;/p&gt;
&lt;p&gt;That made us switch to a fully in-browser solution, where all the &amp;quot;heavy
lifting&amp;quot; of video processing is done locally using hardware resources available
on the end user&#39;s device. We strategically bet on the Chrome browser and, by
extension, the Chrome OS platform to help us overcome the inevitable challenges
of building an in-browser video creation platform.&lt;/p&gt;
&lt;p&gt;Video processing is enormously resource hungry, affecting computer and storage
resources alike. We started out building the first version of Clipchamp on top
of Google&#39;s (Portable) Native Client (PNaCl). While eventually phased out, PNaCl
was a great confirmation for our team that web apps can be fast and low latency,
while still running on end user hardware.&lt;/p&gt;
&lt;p&gt;When later switching to WebAssembly, we were glad to see Chrome taking the lead
in incorporating post-MVP features such as bulk memory operations, threading,
and most recently: fixed-width vector operations. The latter has been hotly
anticipated by our engineering team, offering us the ability to optimize our
video processing stack to take advantage of &lt;a href=&quot;https://v8.dev/features/simd&quot; rel=&quot;noopener&quot;&gt;SIMD&lt;/a&gt;
operations, prevalent on contemporary CPUs. Taking advantage of Chrome&#39;s
WebAssembly SIMD support, we were able to speed up some particularly demanding
workloads such as 4K video decoding and video encoding.&lt;/p&gt;
&lt;img alt=&quot;Encoder performance (1080p, 8.33 sec @ 30 fps). Default preset without SIMD: 25 seconds. Default preset with SIMD: ~13 seconds. Compression preset without SIMD: ~83 seconds. Compression preset with SIMD: ~33 seconds. Quality preset (new!) without SIMD: ~75 seconds. Quality preset with SIMD: ~30 seconds.&quot; decoding=&quot;async&quot; height=&quot;495&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/9NFi12YDG360SlfMl1OP.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/9NFi12YDG360SlfMl1OP.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/9NFi12YDG360SlfMl1OP.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/9NFi12YDG360SlfMl1OP.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/9NFi12YDG360SlfMl1OP.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/9NFi12YDG360SlfMl1OP.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/9NFi12YDG360SlfMl1OP.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/9NFi12YDG360SlfMl1OP.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/9NFi12YDG360SlfMl1OP.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/9NFi12YDG360SlfMl1OP.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/9NFi12YDG360SlfMl1OP.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/9NFi12YDG360SlfMl1OP.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/9NFi12YDG360SlfMl1OP.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/9NFi12YDG360SlfMl1OP.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/9NFi12YDG360SlfMl1OP.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/9NFi12YDG360SlfMl1OP.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/9NFi12YDG360SlfMl1OP.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/9NFi12YDG360SlfMl1OP.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;p&gt;With little prior experience and in less than a month of effort for one of our
engineers, we managed to improve performance by 2.3x. While still limited to a
Chrome origin trial, we were already able to roll out these SIMD enhancements to
the majority of our users. While our users run wildly different hardware setups,
we were able to confirm a matching performance uplift in production without
seeing any detrimental effects in failure rates.&lt;/p&gt;
&lt;p&gt;More recently, we integrated the emerging WebCodecs API, currently available
under another Chrome origin trial. Using this new capability, we will be able to
further improve performance of video decoding on low-spec hardware as found
in many popular Chromebooks.&lt;/p&gt;
&lt;p&gt;With a PWA created, it&#39;s important to encourage its adoption. As with many web
apps, we&#39;ve focused on ease of access which includes things like social logins
including Google, quickly getting the user into a place where they can edit
video and then making it easy to export the video. Additionally, we promoted
our PWA install prompts in the toolbar and as a pop-up notice in our menu
navigation.&lt;/p&gt;
&lt;h2 id=&quot;results&quot;&gt;Results &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/clipchamp/#results&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Our installable Chrome PWA has been doing really well. We&#39;ve been so pleased to
see 9% higher retention with PWA users than with our standard desktop users.
Installation of the PWA has been massive, increasing at a rate of 97% a month
since we launched five months ago. And, as mentioned before, the WebAssembly
SIMD enhancements improved performance 2.3x.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;June 2020: ~1K installs. July 2020: ~5K installs. August 2020: ~12K installs. September 2020: ~20K installs. October 2020: ~30K installs.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;266&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/MR7YUGQ4r99r3oG4w0Jx.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/MR7YUGQ4r99r3oG4w0Jx.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/MR7YUGQ4r99r3oG4w0Jx.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/MR7YUGQ4r99r3oG4w0Jx.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/MR7YUGQ4r99r3oG4w0Jx.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/MR7YUGQ4r99r3oG4w0Jx.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/MR7YUGQ4r99r3oG4w0Jx.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/MR7YUGQ4r99r3oG4w0Jx.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/MR7YUGQ4r99r3oG4w0Jx.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/MR7YUGQ4r99r3oG4w0Jx.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/MR7YUGQ4r99r3oG4w0Jx.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/MR7YUGQ4r99r3oG4w0Jx.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/MR7YUGQ4r99r3oG4w0Jx.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/MR7YUGQ4r99r3oG4w0Jx.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/MR7YUGQ4r99r3oG4w0Jx.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/MR7YUGQ4r99r3oG4w0Jx.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/MR7YUGQ4r99r3oG4w0Jx.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/MR7YUGQ4r99r3oG4w0Jx.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;
    Clipchamp PWA installs over the last 6 months.
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;future&quot;&gt;Future &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/clipchamp/#future&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;We&#39;re pleasantly surprised by the engagement and uptake of our PWA. We think
Clipchamp user retention benefited because the PWA is installed and easier to
get to. We also noted the PWA performs better for the editor, which makes it
more compelling and keeps people coming back.&lt;/p&gt;
&lt;p&gt;Looking to the future, we&#39;re excited about the opportunity Chrome OS provides
for even more users to get more done with less fuss. Specifically, we&#39;re excited
about some of the convenience integrations with the local OS when working with
files. We think this will help speed up workflows for our busy everyday editors,
and that&#39;s one of our highest priorities.&lt;/p&gt;
</content>
    <author>
      <name>Sören Balko</name>
    </author>
  </entry>
  
  <entry>
    <title>PWA users are 2.5x more likely to purchase Gravit Designer PRO</title>
    <link href="https://web.dev/gravit-designer/"/>
    <updated>2020-12-08T00:00:00Z</updated>
    <id>https://web.dev/gravit-designer/</id>
    <content type="text/html" mode="escaped">&lt;div class=&quot;w-stats&quot;&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;+24&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;PWA users have 24% more active sessions than all other platforms&lt;/p&gt;
  &lt;/div&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;+31&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;PWA accounts for 31% more repeat users than all other platforms&lt;/p&gt;
  &lt;/div&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;2.5&lt;sub class=&quot;w-stat__sub&quot;&gt;x&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;PWA users are 2.5x more likely to purchase Gravit Designer PRO&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;w-aside w-aside--note&quot;&gt;
&lt;p&gt;Reza is a product manager at Corel.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Corel Corporation&#39;s &lt;a href=&quot;https://www.designer.io/en/&quot; rel=&quot;noopener&quot;&gt;Gravit Designer&lt;/a&gt; is a powerful
vector design tool. With roots as a startup, Gravit Designer joined Corel&#39;s
extensive product portfolio in 2018, and serves tens of thousands of daily
active users demanding rich, affordable, and accessible vector illustration
software. Corel builds a host of creative and productivity software including
&lt;a href=&quot;https://www.coreldraw.com/&quot; rel=&quot;noopener&quot;&gt;CorelDRAW&lt;/a&gt;, &lt;a href=&quot;https://www.coreldraw.com/en/pages/photo-paint/&quot; rel=&quot;noopener&quot;&gt;Corel
PHOTO-PAINT&lt;/a&gt;, &lt;a href=&quot;https://www.painterartist.com/&quot; rel=&quot;noopener&quot;&gt;Corel
Painter&lt;/a&gt;,
&lt;a href=&quot;https://www.parallels.com/&quot; rel=&quot;noopener&quot;&gt;Parallels&lt;/a&gt;, and more.&lt;/p&gt;
&lt;p&gt;Gravit Designer&#39;s target audience is creators of all stripes - from students
learning about vector illustration to seasoned designers looking for a
fully-functional solution. Corel has always wanted to meet
designers and creatives where they are, on their platform of choice, and Gravit
Designer allows us to deliver powerful vector illustration tools via the web.&lt;/p&gt;
&lt;p&gt;Progressive web apps (PWAs) are of particular interest to Gravit Designer and
Corel&#39;s Online Graphics initiatives, as they help bridge the gap between web
apps and traditional desktop applications. Progressive web apps are quickly
becoming the
&lt;a href=&quot;https://chromeos.dev/en/web/desktop-progressive-web-apps&quot; rel=&quot;noopener&quot;&gt;preferred way to deliver desktop experiences&lt;/a&gt;
for traditional web apps. Chrome OS and the Play Store also present a great
opportunity to Corel by offering secure in-app payments, PWA support for
bringing the web app experience to the desktop in a seamless manner (&lt;a href=&quot;https://web.dev/local-fonts/&quot;&gt;local
font&lt;/a&gt; and &lt;a href=&quot;https://web.dev/file-system-access/&quot;&gt;file system
access&lt;/a&gt; are particularly relevant for us),
and most importantly, greater visibility to our web apps for more users.
Students and educators can install the Chrome OS version of Gravit Designer with
ease, and enjoy the same powerful features regardless of platform.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;A screenshot of Gravit Designer.&quot; class=&quot;w-screenshot w-screenshot--filled&quot; decoding=&quot;async&quot; height=&quot;476&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/CPOALQnJw0G03EHczYIh.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/CPOALQnJw0G03EHczYIh.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/CPOALQnJw0G03EHczYIh.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/CPOALQnJw0G03EHczYIh.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/CPOALQnJw0G03EHczYIh.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/CPOALQnJw0G03EHczYIh.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/CPOALQnJw0G03EHczYIh.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/CPOALQnJw0G03EHczYIh.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/CPOALQnJw0G03EHczYIh.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/CPOALQnJw0G03EHczYIh.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/CPOALQnJw0G03EHczYIh.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/CPOALQnJw0G03EHczYIh.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/CPOALQnJw0G03EHczYIh.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/CPOALQnJw0G03EHczYIh.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/CPOALQnJw0G03EHczYIh.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/CPOALQnJw0G03EHczYIh.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/CPOALQnJw0G03EHczYIh.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/CPOALQnJw0G03EHczYIh.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;engineering-challenges&quot;&gt;Engineering challenges &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/gravit-designer/#engineering-challenges&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;There are a great many engineering challenges with supporting multiple
platforms, particularly web and desktop. In our case, we take great care when
deciding to support a new platform, as our app began its life on the web. When
supporting desktop platforms, we typically have to wrap our application in a
supporting container, which brings its own set of challenges depending on the
host platform.&lt;/p&gt;
&lt;p&gt;Our users want an experience that carries over seamlessly from one platform to
another. This is vital to many of our customers who might switch from web, to
desktop, to Chromebooks, and back to web in the course of a design. Furthermore,
our users want their work to travel with them, unencumbered by their situation.
Whether on-the-go, offline, or connected to the internet, they want their
documents accessible in the Gravit Cloud, for example.&lt;/p&gt;
&lt;p&gt;At Corel, we have decades of experience porting software to many platforms and
navigating the challenges therein. There is a balancing act in ensuring proper
performance, feature parity, and platform-specific UI support. Gravit Designer
is no stranger to these challenges.&lt;/p&gt;
&lt;h2 id=&quot;gravit-designer&#39;s-desktop-pwa&quot;&gt;Gravit Designer&#39;s desktop PWA &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/gravit-designer/#gravit-designer&#39;s-desktop-pwa&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;With some platforms, the answer will be wrapping a web app in a
platform-specific container application for the foreseeable future (e.g.
Electron). However, with PWAs and Chrome OS we can start to deliver on the
promise of a web app ported to a desktop experience with minimal disruption.&lt;/p&gt;
&lt;p&gt;For Gravit Designer, our team could see the growing value of PWAs, and made
great strides to support it as an enabling technology going forward. The
potential of several major platforms supporting PWA (namely Chrome OS, iOS,
Windows, and more) could usher in a new era of cross-platform support for
certain applications. Since Chrome was the clear leader in browsers among our
users, and provided the best user experience for PWA, we decided to investigate
the work involved in building out a PWA version of Gravit Designer.&lt;/p&gt;
&lt;p&gt;The team began by first creating a proof-of-concept to understand the effort
required. Next came the development effort associated with local font and local
file system support. In the end, we had to stage our support for local fonts.
Once improvements were made to file loading times, installation, and
performance, we felt more comfortable moving past the proof-of-concept phase and
targeting PWA support for a major release.&lt;/p&gt;
&lt;h2 id=&quot;impact&quot;&gt;Impact &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/gravit-designer/#impact&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Since launching our desktop PWA, we&#39;ve seen a steady increase in installations,
and we&#39;re excited by the prospect of releasing the PWA version with enhanced
platform-specific features for Chrome OS and other platforms. In fact, the
standard PWA version of Gravit Designer now leads downloads from the Microsoft
Store and Linux installations, so we&#39;re looking forward to even more
growth.&lt;/p&gt;
&lt;h3 id=&quot;key-figures&quot;&gt;Key figures &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/gravit-designer/#key-figures&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;18% of total Chrome OS users have installed our PWA (PWA installs across all
operating systems account for ~5% of our total).&lt;/li&gt;
&lt;li&gt;PWA users are 24% more active than all other install types (more
sessions per user).&lt;/li&gt;
&lt;li&gt;PWA accounts for 31% more repeat users than all other platforms.&lt;/li&gt;
&lt;li&gt;PWA users are 2.5x more likely to purchase Gravit Designer PRO.&lt;/li&gt;
&lt;li&gt;PWA makes up about 5% of all new user accounts, and growing.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;summary&quot;&gt;Summary &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/gravit-designer/#summary&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The growth of PWA installations in general-past other more established
platforms-points to a future where we could offer a satisfying desktop
experience without the need for platform-specific wrappers on a multitude of
platforms. Our work with Google on PWAs and Chrome OS is vital to this aim, as
more and more features are supported.&lt;/p&gt;
</content>
    <author>
      <name>Reza Kazemi</name>
    </author>
  </entry>
  
  <entry>
    <title>JD.ID improves their mobile conversion rate by 53% with caching strategies, installation, and push notifications
</title>
    <link href="https://web.dev/jdid/"/>
    <updated>2020-11-24T00:00:00Z</updated>
    <id>https://web.dev/jdid/</id>
    <content type="text/html" mode="escaped">&lt;p&gt;&lt;a href=&quot;https://www.jd.id/&quot; rel=&quot;noopener&quot;&gt;JD.ID&lt;/a&gt; is an e-commerce platform in Indonesia providing
delivery services for a wide range of products including electronic devices,
household appliances, clothing, fashion accessories, and sports products.
Currently operating across more than 350 Indonesian cities, JD.ID wanted to
expand its online presence further by focusing on performance and a strong
network-independent experience for their &lt;a href=&quot;https://web.dev/pwa&quot;&gt;Progressive Web App
&lt;/a&gt;(PWA). With this enhanced experience, JD.ID was able to
increase its overall mobile conversion rate (mCVR) by 53%, its mCVR for
installed users by 200%, and its daily active users by 26%, putting it on course
to becoming the most popular and trusted e-commerce company in the country.&lt;/p&gt;
&lt;img alt=&quot;Screenshots of a user installing the JD.ID PWA&quot; decoding=&quot;async&quot; height=&quot;480&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/admin/0nJBxHM0wbQKuAVnCAEX.jpg?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/admin/0nJBxHM0wbQKuAVnCAEX.jpg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/admin/0nJBxHM0wbQKuAVnCAEX.jpg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/admin/0nJBxHM0wbQKuAVnCAEX.jpg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/admin/0nJBxHM0wbQKuAVnCAEX.jpg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/admin/0nJBxHM0wbQKuAVnCAEX.jpg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/admin/0nJBxHM0wbQKuAVnCAEX.jpg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/admin/0nJBxHM0wbQKuAVnCAEX.jpg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/admin/0nJBxHM0wbQKuAVnCAEX.jpg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/admin/0nJBxHM0wbQKuAVnCAEX.jpg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/admin/0nJBxHM0wbQKuAVnCAEX.jpg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/admin/0nJBxHM0wbQKuAVnCAEX.jpg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/admin/0nJBxHM0wbQKuAVnCAEX.jpg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/admin/0nJBxHM0wbQKuAVnCAEX.jpg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/admin/0nJBxHM0wbQKuAVnCAEX.jpg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/admin/0nJBxHM0wbQKuAVnCAEX.jpg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/admin/0nJBxHM0wbQKuAVnCAEX.jpg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/admin/0nJBxHM0wbQKuAVnCAEX.jpg?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;h2 id=&quot;highlighting-the-opportunity&quot;&gt;Highlighting the opportunity &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/jdid/#highlighting-the-opportunity&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;To overcome the unstable mobile networks in Indonesia due to the vast number of
operators, JD.ID was looking for a solution that would keep its website and user
experience performing at all times, as well as solve any local caching issues.
It saw huge acquisition potential from users that had visited its website but
not downloaded the iOS/Android app. To capture this opportunity it used &lt;a href=&quot;https://web.dev/pwa-checklist/&quot;&gt;PWA
best practices&lt;/a&gt; to help build an app-like UX on
its website to enhance engagement, with a focus on &lt;a href=&quot;https://web.dev/reliable/&quot;&gt;network
resilience&lt;/a&gt; for dependability.&lt;/p&gt;
&lt;h2 id=&quot;the-approach&quot;&gt;The approach &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/jdid/#the-approach&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id=&quot;caching-strategies&quot;&gt;Caching strategies &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/jdid/#caching-strategies&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;To mitigate network issues and improve user experience, the JD.ID team used
&lt;a href=&quot;https://developers.google.com/web/tools/workbox&quot; rel=&quot;noopener&quot;&gt;Workbox&lt;/a&gt; to ensure its PWA
performed well even when the user was offline or on a bad network. Workbox made
it easier to execute their PWA caching strategy, which consisted of 3 parts:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://web.dev/offline-cookbook/#network-falling-back-to-cache&quot;&gt;&lt;strong&gt;Network first, falling back to cache&lt;/strong&gt;&lt;/a&gt;:
This strategy aims to get a response from the network first. Once a
response is received, it passes it to the browser and saves it to a cache.
If the network request fails, the last cached response will be used. JD.ID
applied this strategy to the homepage to ensure that users can access the
homepage even if they&#39;re offline.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://web.dev/offline-cookbook/#cache-falling-back-to-network&quot;&gt;&lt;strong&gt;Cache first, falling back to network&lt;/strong&gt;&lt;/a&gt;:
This strategy checks the cache for a response first and uses it if
available. If not, the JD.ID website goes to the network, caches the
response, and then passes it to the browser. When the
&lt;a href=&quot;https://web.dev/service-workers-cache-storage/#service-workers&quot;&gt;service worker&lt;/a&gt;
gets installed, it will have the static resources of the homepage, offline
fallback page (explained below), category page, product page, shopping
cart, and settlement page cached into the user&#39;s
&lt;a href=&quot;https://web.dev/cache-api-quick-guide/&quot;&gt;cache&lt;/a&gt; in advance. When the user
routes to any of these pages, this caching strategy ensures the browser
gets the static resource files from the cache directly, improving the
loading speed of these critical pages.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://web.dev/offline-cookbook/#network-only&quot;&gt;&lt;strong&gt;Network only&lt;/strong&gt;&lt;/a&gt;: This
strategy forces the response to come from the network only. JD.ID uses this
strategy for the shopping cart and settlement page because those pages
require very high data accuracy.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Workbox also enables JD.ID to configure routing rules, the default duration of
request timeouts, the number of responses that can be stored in the cache, and
the duration of how long responses should be cached.&lt;/p&gt;
&lt;h3 id=&quot;offline-fallback-page&quot;&gt;Offline fallback page &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/jdid/#offline-fallback-page&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;The JD.ID team &lt;a href=&quot;https://web.dev/offline-fallback-page/&quot;&gt;created an offline fallback
page&lt;/a&gt; to provide users with a consistent
experience and enhance the branding for the website. They also added a &lt;a href=&quot;https://web.dev/add-manifest/&quot;&gt;web app
manifest&lt;/a&gt; which enables users to easily install
the web app on their mobile device.&lt;/p&gt;
&lt;img alt=&quot;A screenshot of the offline fallback page&quot; decoding=&quot;async&quot; height=&quot;480&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/admin/bE0afj8wH2XUmZdKH28R.jpg?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/admin/bE0afj8wH2XUmZdKH28R.jpg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/admin/bE0afj8wH2XUmZdKH28R.jpg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/admin/bE0afj8wH2XUmZdKH28R.jpg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/admin/bE0afj8wH2XUmZdKH28R.jpg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/admin/bE0afj8wH2XUmZdKH28R.jpg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/admin/bE0afj8wH2XUmZdKH28R.jpg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/admin/bE0afj8wH2XUmZdKH28R.jpg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/admin/bE0afj8wH2XUmZdKH28R.jpg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/admin/bE0afj8wH2XUmZdKH28R.jpg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/admin/bE0afj8wH2XUmZdKH28R.jpg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/admin/bE0afj8wH2XUmZdKH28R.jpg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/admin/bE0afj8wH2XUmZdKH28R.jpg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/admin/bE0afj8wH2XUmZdKH28R.jpg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/admin/bE0afj8wH2XUmZdKH28R.jpg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/admin/bE0afj8wH2XUmZdKH28R.jpg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/admin/bE0afj8wH2XUmZdKH28R.jpg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/admin/bE0afj8wH2XUmZdKH28R.jpg?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;h3 id=&quot;push-notifications&quot;&gt;Push notifications &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/jdid/#push-notifications&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Additionally, for further re-engagement, JD.ID implemented push notifications
with
&lt;a href=&quot;https://firebase.google.com/docs/cloud-messaging/js/client&quot; rel=&quot;noopener&quot;&gt;Firebase Cloud Messaging for Web&lt;/a&gt;,
applying them specifically during product sale promotional events.&lt;/p&gt;
&lt;img alt=&quot;Screenshots of enabling push notifications&quot; decoding=&quot;async&quot; height=&quot;480&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/admin/aTQmYAWe65pkwoaatfcp.jpg?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/admin/aTQmYAWe65pkwoaatfcp.jpg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/admin/aTQmYAWe65pkwoaatfcp.jpg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/admin/aTQmYAWe65pkwoaatfcp.jpg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/admin/aTQmYAWe65pkwoaatfcp.jpg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/admin/aTQmYAWe65pkwoaatfcp.jpg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/admin/aTQmYAWe65pkwoaatfcp.jpg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/admin/aTQmYAWe65pkwoaatfcp.jpg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/admin/aTQmYAWe65pkwoaatfcp.jpg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/admin/aTQmYAWe65pkwoaatfcp.jpg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/admin/aTQmYAWe65pkwoaatfcp.jpg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/admin/aTQmYAWe65pkwoaatfcp.jpg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/admin/aTQmYAWe65pkwoaatfcp.jpg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/admin/aTQmYAWe65pkwoaatfcp.jpg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/admin/aTQmYAWe65pkwoaatfcp.jpg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/admin/aTQmYAWe65pkwoaatfcp.jpg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/admin/aTQmYAWe65pkwoaatfcp.jpg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/admin/aTQmYAWe65pkwoaatfcp.jpg?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;h2 id=&quot;overall-business-results&quot;&gt;Overall business results &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/jdid/#overall-business-results&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;div class=&quot;w-columns&quot;&gt;
  &lt;ul&gt;
    &lt;li&gt;Overall mobile conversion rate (mCVR) improved 53%&lt;/li&gt;
    &lt;li&gt;mCVR for users who installed the JD.ID PWA improved 200%&lt;/li&gt;
    &lt;li&gt;
      Daily active users from mobile platforms increased 26% due to increased
      re-enagement from push notifications
    &lt;/li&gt;
  &lt;/ul&gt;
  &lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;The impact statistics.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;870&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/j6cgF8sQt5IH2XcISQsk.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/j6cgF8sQt5IH2XcISQsk.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/j6cgF8sQt5IH2XcISQsk.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/j6cgF8sQt5IH2XcISQsk.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/j6cgF8sQt5IH2XcISQsk.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/j6cgF8sQt5IH2XcISQsk.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/j6cgF8sQt5IH2XcISQsk.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/j6cgF8sQt5IH2XcISQsk.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/j6cgF8sQt5IH2XcISQsk.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/j6cgF8sQt5IH2XcISQsk.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/j6cgF8sQt5IH2XcISQsk.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/j6cgF8sQt5IH2XcISQsk.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/j6cgF8sQt5IH2XcISQsk.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/j6cgF8sQt5IH2XcISQsk.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/j6cgF8sQt5IH2XcISQsk.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/j6cgF8sQt5IH2XcISQsk.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/j6cgF8sQt5IH2XcISQsk.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/j6cgF8sQt5IH2XcISQsk.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;/figure&gt;
&lt;/div&gt;
&lt;blockquote&gt;
  &lt;p style=&quot;font-style: italic; font-size: 1.5rem;&quot;&gt;
    Our business is growing rapidly and we have a deeper focus on improving our
    user experience. We aim to become the most popular and trusted e-commerce
    company by constantly striving to provide services and a variety of products to
    all users and customers in Indonesia. Web performance and PWA are a crucial part
    of our UX and overall strategy and we will continue to invest in these areas.
  &lt;/p&gt;
  &lt;cite&gt;Fengxian Liu, Web Engineering Manager, JD.ID&lt;/cite&gt;
&lt;/blockquote&gt;
&lt;p&gt;Check out the &lt;a href=&quot;https://web.dev/tags/scale-on-web/&quot;&gt;Scale on web case studies
page&lt;/a&gt; for more success stories from India
and Southeast Asia.&lt;/p&gt;
</content>
    
  </entry>
  
  <entry>
    <title>Rakuten 24’s investment in PWA increases user retention by 450%</title>
    <link href="https://web.dev/rakuten-24/"/>
    <updated>2020-11-17T00:00:00Z</updated>
    <id>https://web.dev/rakuten-24/</id>
    <content type="text/html" mode="escaped">&lt;p&gt;&lt;a href=&quot;https://24.rakuten.co.jp/&quot; rel=&quot;noopener&quot;&gt;Rakuten 24&lt;/a&gt; is an online store provided by Rakuten,
one of the largest e-commerce companies in Japan. It provides a wide selection
of everyday items including grocery, medicine, healthcare, kitchen utensils, and
more. The team&#39;s main goal over the last year was to improve mobile customer
retention and re-engagement. By making their web app
&lt;a href=&quot;https://web.dev/define-install-strategy/&quot;&gt;installable&lt;/a&gt;, they saw a 450% jump in
visitor retention rate as compared to the previous mobile web flow over a
1-month timeframe.&lt;/p&gt;
&lt;h2 id=&quot;opportunity&quot;&gt;Highlighting the opportunity &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/rakuten-24/#opportunity&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;In their efforts to gain market share and improve user experience, Rakuten 24
identified the following areas of opportunities:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;As a relatively new service, Rakuten 24 was not in a position to
invest the time and cost in developing a platform-specific app both for iOS
and Android and were seeking an alternative, efficient way to fill this gap.&lt;/li&gt;
&lt;li&gt;As Rakuten-Ichiba (Rakuten&#39;s e-commerce marketplace) is the biggest
service in Japan, many people think Rakuten 24 is a seller in
Rakuten-Ichiba. As a result, they acknowledged the need to invest in brand
awareness and drive more user retention.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;tools&quot;&gt;The tools they used &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/rakuten-24/#tools&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id=&quot;installability&quot;&gt;Installability &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/rakuten-24/#installability&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;To capture the two opportunities identified above, Rakuten 24 decided to build
&lt;a href=&quot;https://web.dev/pwa&quot;&gt;Progressive Web App&lt;/a&gt; (PWA) features on an incremental
basis, starting with &lt;a href=&quot;https://web.dev/define-install-strategy/&quot;&gt;installability&lt;/a&gt;.
Implementing installability resulted in increased traffic, visitor retention,
sales per customer, and conversions.&lt;/p&gt;
&lt;h3 id=&quot;beforeinstallprompt&quot;&gt;&lt;code&gt;beforeinstallprompt&lt;/code&gt; &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/rakuten-24/#beforeinstallprompt&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;To gain more flexibility and control over their install dialogue&#39;s behaviour,
the team implemented their own install prompt using the
&lt;a href=&quot;https://developers.google.com/web/updates/2018/06/a2hs-updates&quot; rel=&quot;noopener&quot;&gt;&lt;code&gt;beforeinstallprompt&lt;/code&gt;&lt;/a&gt;
event. In doing so, they were able to detect if the app was already installed on
Android or iOS and provide a more meaningful and relevant experience to their
users.&lt;/p&gt;
&lt;h3 id=&quot;instructions&quot;&gt;Custom installation instructions &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/rakuten-24/#instructions&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;For users who weren&#39;t able to install the PWA from the banner, they created a
&lt;a href=&quot;https://24.rakuten.co.jp/addto/&quot;&gt;custom guide&lt;/a&gt;
(linked from the banner) with instructions on how to install the PWA manually on
both Android and iOS devices.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;Screenshots of the custom installation instructions.&quot; decoding=&quot;async&quot; height=&quot;480&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/APDhzk6SjyxQTgxVidFR.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/APDhzk6SjyxQTgxVidFR.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/APDhzk6SjyxQTgxVidFR.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/APDhzk6SjyxQTgxVidFR.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/APDhzk6SjyxQTgxVidFR.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/APDhzk6SjyxQTgxVidFR.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/APDhzk6SjyxQTgxVidFR.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/APDhzk6SjyxQTgxVidFR.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/APDhzk6SjyxQTgxVidFR.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/APDhzk6SjyxQTgxVidFR.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/APDhzk6SjyxQTgxVidFR.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/APDhzk6SjyxQTgxVidFR.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/APDhzk6SjyxQTgxVidFR.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/APDhzk6SjyxQTgxVidFR.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/APDhzk6SjyxQTgxVidFR.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/APDhzk6SjyxQTgxVidFR.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/APDhzk6SjyxQTgxVidFR.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/APDhzk6SjyxQTgxVidFR.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;workbox&quot;&gt;Workbox for service workers &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/rakuten-24/#workbox&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;The Rakuten 24 team used
&lt;a href=&quot;https://developers.google.com/web/tools/workbox&quot; rel=&quot;noopener&quot;&gt;Workbox&lt;/a&gt; (the
&lt;a href=&quot;https://developers.google.com/web/tools/workbox/modules/workbox-webpack-plugin&quot; rel=&quot;noopener&quot;&gt;workbox-webpack-plugin&lt;/a&gt;
to be precise) to ensure their PWA worked well even when the user was offline or
on a bad network.  Workbox&#39;s APIs for controlling
&lt;a href=&quot;https://web.dev/service-workers-cache-storage/#the-cache-storage-api&quot;&gt;the cache&lt;/a&gt;
worked significantly better than Rakuten 24&#39;s previous in-house script.
Moreover, with workbox-webpack-plugin (and Babel), was able to automate the
process of supporting a wider range of browsers. To further build network
resilience, they implemented a
&lt;a href=&quot;https://developers.google.com/web/ilt/pwa/caching-files-with-service-worker&quot; rel=&quot;noopener&quot;&gt;cache-first strategy&lt;/a&gt;
for their CSS and JS assets, and used
&lt;a href=&quot;https://web.dev/stale-while-revalidate/&quot;&gt;stale-while-revalidate&lt;/a&gt; for their
images that don&#39;t change frequently.&lt;/p&gt;
&lt;h2 id=&quot;results&quot;&gt;Overall business results &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/rakuten-24/#results&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;div class=&quot;w-columns&quot;&gt;
  &lt;div&gt;
    &lt;p&gt;
      By implementing installability, Rakuten 24 was able to increase visit frequency
      per user by 310% compared to the rest of their web users. It also saw a 450%
      jump in visitor retention (compared to the previous mobile web flow), a 150%
      increase in sales per customer, and a 200% increase in conversion rate. All of
      the improvements were observed over a 1-month timeframe.
    &lt;/p&gt;
    &lt;div class=&quot;w-aside w-aside--note&quot;&gt;
      All stats represent users that installed the Rakuten 24 PWA, compared to
      web users who did not.
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;310% increase in visit frequency per user.  450% increase in visitor retention rate. 150% increase in sales per customer.200% increase in conversion rate.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;1074&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/l49plmwrrFO3V953MQZD.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/l49plmwrrFO3V953MQZD.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/l49plmwrrFO3V953MQZD.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/l49plmwrrFO3V953MQZD.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/l49plmwrrFO3V953MQZD.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/l49plmwrrFO3V953MQZD.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/l49plmwrrFO3V953MQZD.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/l49plmwrrFO3V953MQZD.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/l49plmwrrFO3V953MQZD.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/l49plmwrrFO3V953MQZD.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/l49plmwrrFO3V953MQZD.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/l49plmwrrFO3V953MQZD.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/l49plmwrrFO3V953MQZD.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/l49plmwrrFO3V953MQZD.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/l49plmwrrFO3V953MQZD.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/l49plmwrrFO3V953MQZD.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/l49plmwrrFO3V953MQZD.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/l49plmwrrFO3V953MQZD.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;/figure&gt;
&lt;/div&gt;
&lt;h2 id=&quot;other-improvements&quot;&gt;Other ways the business improved with installability &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/rakuten-24/#other-improvements&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Brand Awareness:&lt;/strong&gt; Since users can directly access Rakuten 24 from
their home screen, it helped both users and Rakuten separate Rakuten 24
from Rakuten-Ichiba.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Efficiency:&lt;/strong&gt; Rakuten 24 was able to drive these results without
spending significant time and money building platform-specific apps for iOS
and Android.&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
  &lt;p style=&quot;font-style: italic; font-size: 1.5rem;&quot;&gt;
    Our mission is to contribute to society by creating value through
    innovation and　entrepreneurship. A step towards achieving this was to
    improve the Rakuten 24 customer experience by implementing A2HS. And in the
    near future we also plan to enhance our PWA engagement and customer
    proposition by developing push notifications using the Web Push API.
  &lt;/p&gt;
  &lt;cite&gt;Masashi Watanabe, General Manager, Group Marketing Department, Rakuten Inc.&lt;/cite&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;w-aside w-aside--note&quot;&gt;
&lt;p&gt;Previously the concept of installability was known as &lt;em&gt;add to homescreen&lt;/em&gt;
(A2HS).&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Check out the &lt;a href=&quot;https://web.dev/scale-on-web&quot;&gt;Scale on web case studies&lt;/a&gt; page for
more success stories from India and Asia.&lt;/p&gt;
</content>
    
  </entry>
  
  <entry>
    <title>NDTV achieved a 55% improvement in LCP by optimizing for Core Web Vitals</title>
    <link href="https://web.dev/ndtv/"/>
    <updated>2020-10-27T00:00:00Z</updated>
    <id>https://web.dev/ndtv/</id>
    <content type="text/html" mode="escaped">&lt;p&gt;&lt;a href=&quot;https://ndtv.com/&quot; rel=&quot;noopener&quot;&gt;NDTV&lt;/a&gt; is one of India&#39;s leading news stations and websites. By following the &lt;a href=&quot;https://web.dev/vitals/&quot;&gt;Web
Vitals&lt;/a&gt; program, they improved one of their most important user metrics,
&lt;a href=&quot;https://web.dev/lcp/&quot;&gt;Largest Contentful Paint&lt;/a&gt; (LCP), by 55% in just a month. This was correlated
with a 50% reduction in bounce rates.&lt;/p&gt;
&lt;div class=&quot;w-aside w-aside--note&quot;&gt;
&lt;p&gt;NDTV made other product changes while they optimized for Web Vitals
so it is not possible to conclusively say that optimizing for Web Vitals was
the only cause of the bounce rate reduction.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;w-stats&quot;&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;55&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;Improvement in LCP&lt;/p&gt;
  &lt;/div&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;50&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;Reduction in bounce rates&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&quot;highlighting-the-opportunity&quot;&gt;Highlighting the opportunity &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/ndtv/#highlighting-the-opportunity&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;With close to 200M unique users every month, it was critical for NDTV to optimize for quality of
user experience. Although their engagement rates were well over industry average and the highest
amongst their peers, the NDTV team still saw room for improvement and decided to invest in Web
Vitals along with other product changes to further improve their engagement rates.&lt;/p&gt;
&lt;h2 id=&quot;the-approach-they-used&quot;&gt;The approach they used &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/ndtv/#the-approach-they-used&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;With the help of tools like &lt;a href=&quot;https://web.dev/chrome-ux-report-pagespeed-insights/&quot;&gt;PageSpeed
Insights&lt;/a&gt;,
&lt;a href=&quot;https://web.dev/measure&quot;&gt;web.dev/measure&lt;/a&gt;, and &lt;a href=&quot;https://www.webpagetest.org/&quot; rel=&quot;noopener&quot;&gt;WebPageTest&lt;/a&gt; the NDTV
team analyzed potential improvement areas on the site. These clearly defined optimization ideas
helped them re-prioritize high-impact tasks and achieve immediate results in the improvement of Core
Web Vitals. Optimizations included:&lt;/p&gt;
&lt;div class=&quot;w-columns&quot;&gt;
  &lt;ul&gt;
    &lt;li&gt;
      &lt;b&gt;Prioritizing the largest content block&lt;/b&gt; by
      &lt;a href=&quot;https://web.dev/efficiently-load-third-party-javascript/#use-async-or-defer&quot;&gt;delaying third-party requests&lt;/a&gt;,
      including ad calls for below-the-fold ad slots, and social network embeds, which are also
      below-the-fold.
    &lt;/li&gt;
    &lt;li&gt;
      &lt;b&gt;Increasing the &lt;a href=&quot;https://web.dev/uses-long-cache-ttl/&quot;&gt;caching&lt;/a&gt;&lt;/b&gt; of static content from a
      few minutes to 30 days.
    &lt;/li&gt;
    &lt;li&gt;
      &lt;b&gt;Using &lt;a href=&quot;https://web.dev/avoid-invisible-text/&quot;&gt;&lt;code&gt;font-display&lt;/code&gt;&lt;/a&gt;&lt;/b&gt;
      to display text sooner while fonts are downloaded.
    &lt;/li&gt;
    &lt;li&gt;
      &lt;b&gt;Using vector graphics for icons&lt;/b&gt; instead of TrueType Fonts (TTF).
    &lt;/li&gt;
    &lt;li&gt;
      &lt;b&gt;Lazy loading
      &lt;a href=&quot;https://web.dev/efficiently-load-third-party-javascript/#lazy-load-third-party-resources&quot;&gt;JavaScript&lt;/a&gt;
      and &lt;a href=&quot;https://css-tricks.com/native-lazy-loading/&quot;&gt;CSS&lt;/a&gt;&lt;/b&gt;: loading the page with the minimum
      possible JS and CSS and then lazy loading the remaining JS and CSS on page scroll.
    &lt;/li&gt;
    &lt;li&gt;
      &lt;b&gt;&lt;a href=&quot;https://web.dev/uses-rel-preconnect/&quot;&gt;Preconnecting&lt;/a&gt;&lt;/b&gt; to origins delivering critical assets.
    &lt;/li&gt;
  &lt;/ul&gt;
  &lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;A summary of the optimizations: Largest Contentful Paint, Caching, CSS, vector graphics, lazily loaded JS and CSS, preconnecting.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;920&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/h8k2D4AqsGbeDtpjsfNe.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/h8k2D4AqsGbeDtpjsfNe.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/h8k2D4AqsGbeDtpjsfNe.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/h8k2D4AqsGbeDtpjsfNe.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/h8k2D4AqsGbeDtpjsfNe.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/h8k2D4AqsGbeDtpjsfNe.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/h8k2D4AqsGbeDtpjsfNe.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/h8k2D4AqsGbeDtpjsfNe.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/h8k2D4AqsGbeDtpjsfNe.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/h8k2D4AqsGbeDtpjsfNe.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/h8k2D4AqsGbeDtpjsfNe.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/h8k2D4AqsGbeDtpjsfNe.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/h8k2D4AqsGbeDtpjsfNe.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/h8k2D4AqsGbeDtpjsfNe.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/h8k2D4AqsGbeDtpjsfNe.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/h8k2D4AqsGbeDtpjsfNe.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/h8k2D4AqsGbeDtpjsfNe.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/h8k2D4AqsGbeDtpjsfNe.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;/figure&gt;
&lt;/div&gt;
&lt;h2 id=&quot;impact&quot;&gt;Impact &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/ndtv/#impact&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Web Vitals equipped the team with metric-driven signals to expedite the
process of improving user experience.&lt;/p&gt;
&lt;div class=&quot;w-columns&quot;&gt;
  &lt;p&gt;
    Before beginning the optimization project, the NDTV team benchmarked their LCP
    score at 3.0 seconds (for the 75th percentile of their users, based on
    &lt;a href=&quot;https://web.dev/chrome-ux-report/&quot;&gt;Chrome User Experience Report&lt;/a&gt; field data).
    After the optimization project, it was down to 1.6 seconds.
    They also reduced their &lt;a href=&quot;https://web.dev/cls&quot;&gt;Cumulative Layout Shift&lt;/a&gt; (CLS) score to
    0.05. Other metrics on WebPageTest like
    &quot;&lt;a href=&quot;https://web.dev/time-to-first-byte&quot;&gt;First Byte Time&lt;/a&gt;&quot; and &quot;Effective use of
    &lt;a href=&quot;https://web.dev/content-delivery-networks/&quot;&gt;CDN&lt;/a&gt;&quot; improved to an A grade.
  &lt;/p&gt;
  &lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;0.05 CLS score.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;370&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/WSQ9ATmLBzHmNtTWBIf8.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/WSQ9ATmLBzHmNtTWBIf8.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/WSQ9ATmLBzHmNtTWBIf8.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/WSQ9ATmLBzHmNtTWBIf8.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/WSQ9ATmLBzHmNtTWBIf8.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/WSQ9ATmLBzHmNtTWBIf8.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/WSQ9ATmLBzHmNtTWBIf8.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/WSQ9ATmLBzHmNtTWBIf8.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/WSQ9ATmLBzHmNtTWBIf8.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/WSQ9ATmLBzHmNtTWBIf8.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/WSQ9ATmLBzHmNtTWBIf8.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/WSQ9ATmLBzHmNtTWBIf8.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/WSQ9ATmLBzHmNtTWBIf8.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/WSQ9ATmLBzHmNtTWBIf8.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/WSQ9ATmLBzHmNtTWBIf8.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/WSQ9ATmLBzHmNtTWBIf8.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/WSQ9ATmLBzHmNtTWBIf8.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/WSQ9ATmLBzHmNtTWBIf8.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;/figure&gt;
&lt;/div&gt;
&lt;div class=&quot;w-aside w-aside--note&quot;&gt;
&lt;p&gt;When optimizing your site, remember that it&#39;s important to not think of your
metric scores as single values, but rather a distribution of field data values
from real users. You&#39;ll want to make sure that the distribution overall is improving.
See &lt;a href=&quot;https://youtu.be/6Ljq-Jn-EgU?t=120&quot; rel=&quot;noopener&quot;&gt;Web Performance: Leveraging The Metrics That Most Affect UX&lt;/a&gt;
for more information.&lt;/p&gt;
&lt;/div&gt;
&lt;h2 id=&quot;return-on-investment&quot;&gt;Return on investment &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/ndtv/#return-on-investment&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Despite the complexity and depth of &lt;a href=&quot;https://ndtv.com/&quot; rel=&quot;noopener&quot;&gt;ndtv.com&lt;/a&gt;, the site was
already achieving decent FID and CLS scores, thanks to the team&#39;s longstanding
focus on performance and UX best practices. To further improve their user
experience, the team focused on LCP and managed to meet the threshold within a
few weeks of kicking off their optimization work.&lt;/p&gt;
&lt;h2 id=&quot;overall-business-results&quot;&gt;Overall business results &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/ndtv/#overall-business-results&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;div class=&quot;w-columns&quot;&gt;
  &lt;ul&gt;
    &lt;li&gt;55% improvement in LCP as a result of optimizing for Core Web Vitals.&lt;/li&gt;
    &lt;li&gt;
      50% reduction in bounce rate on the website after optimizing for Core Web Vitals, along with
      other product changes.
    &lt;/li&gt;
    &lt;li&gt;
      Increased engagement and consumption of content directly, and proportionally increased
      revenue for their website.
    &lt;/li&gt;
  &lt;/ul&gt;
  &lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;55% improvement in LCP. 50% reduction in bounce rate. Increased engagement and consumption.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;825&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/lN46T0iOTj45lSOkE8mo.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/lN46T0iOTj45lSOkE8mo.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/lN46T0iOTj45lSOkE8mo.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/lN46T0iOTj45lSOkE8mo.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/lN46T0iOTj45lSOkE8mo.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/lN46T0iOTj45lSOkE8mo.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/lN46T0iOTj45lSOkE8mo.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/lN46T0iOTj45lSOkE8mo.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/lN46T0iOTj45lSOkE8mo.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/lN46T0iOTj45lSOkE8mo.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/lN46T0iOTj45lSOkE8mo.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/lN46T0iOTj45lSOkE8mo.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/lN46T0iOTj45lSOkE8mo.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/lN46T0iOTj45lSOkE8mo.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/lN46T0iOTj45lSOkE8mo.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/lN46T0iOTj45lSOkE8mo.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/lN46T0iOTj45lSOkE8mo.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/lN46T0iOTj45lSOkE8mo.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;/figure&gt;
&lt;/div&gt;
&lt;blockquote&gt;
  &lt;p style=&quot;font-style: italic; font-size: 1.5rem;&quot;&gt;
    NDTV has long followed best practices to deliver a top-quality user experience. We consider
    measuring Web Vitals to be an integral part of our product development now, and the engagement
    uplift we&#39;ve seen makes it a good ROI.
  &lt;/p&gt;
  &lt;cite&gt;Kawaljit Singh Bedi, Chief Technology and Product Officer, NDTV Group&lt;/cite&gt;
&lt;/blockquote&gt;
&lt;p&gt;Check out the &lt;a href=&quot;https://web.dev/scale-on-web&quot;&gt;Scale on web case studies&lt;/a&gt; page for more success
stories from India and Southeast Asia.&lt;/p&gt;
</content>
    
  </entry>
  
  <entry>
    <title>How focusing on web performance improved Tokopedia&#39;s click-through rate by 35%</title>
    <link href="https://web.dev/tokopedia/"/>
    <updated>2020-10-13T00:00:00Z</updated>
    <id>https://web.dev/tokopedia/</id>
    <content type="text/html" mode="escaped">&lt;p&gt;Tokopedia is one of the largest e-commerce companies in Indonesia. With 2.7M+ nationwide merchant
networks, 18M+ product listings, and 50M+ monthly visitors, the web team knew  that investment in
web performance was essential. By building a performance-first culture, they achieved a 35% increase
in click-through rates (CTR) and an 8% increase in conversions (CVR).&lt;/p&gt;
&lt;div class=&quot;w-stats&quot;&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;35&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;Increase in CTR&lt;/p&gt;
  &lt;/div&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;8&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;Increase in CVR&lt;/p&gt;
  &lt;/div&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;4&lt;sub class=&quot;w-stat__sub&quot;&gt;sec&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;Improvement in TTI&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&quot;highlighting-the-opportunity&quot;&gt;Highlighting the opportunity &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/tokopedia/#highlighting-the-opportunity&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The web team talked to their leadership team on the importance of investing in web performance to
improve user experience and engagement, and also showed the impact of performance using advanced
patterns and APIs.&lt;/p&gt;
&lt;div class=&quot;w-aside w-aside--note&quot;&gt;
&lt;p&gt;Check out web.dev&#39;s &lt;a href=&quot;https://web.dev/fast/#build-a-performance-culture&quot;&gt;Build a performance culture&lt;/a&gt;
collection for tips on how to persuade your cross-functional stakeholders to focus on website
performance.&lt;/p&gt;
&lt;/div&gt;
&lt;h2 id=&quot;the-approach-they-used&quot;&gt;The approach they used &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/tokopedia/#the-approach-they-used&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id=&quot;javascript-and-resource-optimization&quot;&gt;JavaScript and resource optimization &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/tokopedia/#javascript-and-resource-optimization&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;div class=&quot;w-columns&quot;&gt;
  &lt;div&gt;
    &lt;p&gt;
      Render-blocking or long-running &lt;a href=&quot;https://web.dev/fast/#optimize-your-javascript&quot;&gt;JavaScript&lt;/a&gt;
      is a common cause of performance issues. The team took several steps to minimize this:
    &lt;/p&gt;
    &lt;ul&gt;
      &lt;li&gt;
        Built a script controller library to selectively load third-party scripts to optimize for
        critical rendering path.
      &lt;/li&gt;
      &lt;li&gt;
        Replaced heavier libraries with lighter ones.
      &lt;/li&gt;
      &lt;li&gt;
        Implemented &lt;a href=&quot;https://web.dev/reduce-javascript-payloads-with-code-splitting/&quot;&gt;code splitting&lt;/a&gt;
        and optimized for above-the-fold content.
      &lt;/li&gt;
      &lt;li&gt;
        Implemented &lt;a href=&quot;https://web.dev/adaptive-loading-cds-2019/&quot;&gt;adaptive loading&lt;/a&gt;, e.g. only
        loading high-quality images for devices on fast networks and using lower-quality images for
        devices on slow networks.
      &lt;/li&gt;
      &lt;li&gt;
        &lt;a href=&quot;https://web.dev/lazy-loading-images/&quot;&gt;Lazy-loaded&lt;/a&gt; below-the-fold images.
      &lt;/li&gt;
      &lt;li&gt;
        Deferred loading of non-critical JavaScript.
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
  &lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;Script controller library improved TTI by 4 seconds&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;707&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/G8s0LNl7BwXuNJkCsPwV.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/G8s0LNl7BwXuNJkCsPwV.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/G8s0LNl7BwXuNJkCsPwV.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/G8s0LNl7BwXuNJkCsPwV.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/G8s0LNl7BwXuNJkCsPwV.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/G8s0LNl7BwXuNJkCsPwV.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/G8s0LNl7BwXuNJkCsPwV.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/G8s0LNl7BwXuNJkCsPwV.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/G8s0LNl7BwXuNJkCsPwV.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/G8s0LNl7BwXuNJkCsPwV.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/G8s0LNl7BwXuNJkCsPwV.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/G8s0LNl7BwXuNJkCsPwV.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/G8s0LNl7BwXuNJkCsPwV.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/G8s0LNl7BwXuNJkCsPwV.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/G8s0LNl7BwXuNJkCsPwV.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/G8s0LNl7BwXuNJkCsPwV.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/G8s0LNl7BwXuNJkCsPwV.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/G8s0LNl7BwXuNJkCsPwV.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;/figure&gt;
&lt;/div&gt;
&lt;h3 id=&quot;homepage-optimization&quot;&gt;Homepage optimization &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/tokopedia/#homepage-optimization&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;div class=&quot;w-columns&quot;&gt;
  &lt;p&gt;
    The team used &lt;a href=&quot;https://svelte.dev/&quot;&gt;Svelte&lt;/a&gt; to build a lite version of the homepage
    for first-time visitors, ensuring a fast website experience. This version also used a service
    worker to cache the non-lite assets in the background.
  &lt;/p&gt;
  &lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;Reduced app JavaScript size by 88% (from 320 KB to 37 KB). Boosted Lighthouse score by 90 points. Achieved FCP of less than 1 second. 35% CTR increase. 8% CVR increase.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;657&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gSJXd2GT8nT7Uzsth4Gg.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gSJXd2GT8nT7Uzsth4Gg.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gSJXd2GT8nT7Uzsth4Gg.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gSJXd2GT8nT7Uzsth4Gg.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gSJXd2GT8nT7Uzsth4Gg.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gSJXd2GT8nT7Uzsth4Gg.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gSJXd2GT8nT7Uzsth4Gg.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gSJXd2GT8nT7Uzsth4Gg.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gSJXd2GT8nT7Uzsth4Gg.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gSJXd2GT8nT7Uzsth4Gg.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gSJXd2GT8nT7Uzsth4Gg.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gSJXd2GT8nT7Uzsth4Gg.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gSJXd2GT8nT7Uzsth4Gg.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gSJXd2GT8nT7Uzsth4Gg.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gSJXd2GT8nT7Uzsth4Gg.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gSJXd2GT8nT7Uzsth4Gg.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gSJXd2GT8nT7Uzsth4Gg.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gSJXd2GT8nT7Uzsth4Gg.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;/figure&gt;
&lt;/div&gt;
&lt;h3 id=&quot;performance-budgeting-and-monitoring&quot;&gt;Performance budgeting and monitoring &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/tokopedia/#performance-budgeting-and-monitoring&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;div class=&quot;w-columns&quot;&gt;
  &lt;div&gt;
    &lt;p&gt;
      The team built a performance monitoring dashboard using
      &lt;a href=&quot;https://web.dev/lighthouse-whats-new-6.0/&quot;&gt;Lighthouse&lt;/a&gt;
      and other tools to improve the quality of web pages:
    &lt;/p&gt;
    &lt;ul&gt;
      &lt;li&gt;
        Measures network quality, infrastructure monitoring, frontend performance, and server
        performance.
      &lt;/li&gt;
      &lt;li&gt;
        Uses a combination of web platform APIs (such as the
        &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Resource_Timing_API/Using_the_Resource_Timing_API&quot;&gt;
          Resource Timing API
        &lt;/a&gt; and the
        &lt;code&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Server-Timing&quot;&gt;Server-Timing&lt;/a&gt;&lt;/code&gt;
        header), the &lt;a href=&quot;https://developers.google.com/speed/docs/insights/v5/get-started&quot;&gt;
          PageSpeed Insights (PSI) API&lt;/a&gt;, and
        &lt;a href=&quot;https://developers.google.com/web/tools/chrome-user-experience-report&quot;&gt;
          Chrome User Experience Report&lt;/a&gt; data to monitor field and lab metrics.
      &lt;/li&gt;
      &lt;li&gt;
        Analyzes images from Lighthouse to help identify image optimization opportunities.
      &lt;/li&gt;
      &lt;li&gt;
        Enforces a bundle-size budget during continuous integration (CI). The CI run fails if the
        bundle size is over budget.
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
  &lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;2.2 second TTI score on the homepage (Lighthouse score: 88). 1.9 second TTI score on product pages (Lighthouse score: 86).&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;1097&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gObv2y7p7ozM190w61M3.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gObv2y7p7ozM190w61M3.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gObv2y7p7ozM190w61M3.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gObv2y7p7ozM190w61M3.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gObv2y7p7ozM190w61M3.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gObv2y7p7ozM190w61M3.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gObv2y7p7ozM190w61M3.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gObv2y7p7ozM190w61M3.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gObv2y7p7ozM190w61M3.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gObv2y7p7ozM190w61M3.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gObv2y7p7ozM190w61M3.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gObv2y7p7ozM190w61M3.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gObv2y7p7ozM190w61M3.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gObv2y7p7ozM190w61M3.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gObv2y7p7ozM190w61M3.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gObv2y7p7ozM190w61M3.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gObv2y7p7ozM190w61M3.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gObv2y7p7ozM190w61M3.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;/figure&gt;
&lt;/div&gt;
&lt;blockquote&gt;
  &lt;p style=&quot;font-style: italic; font-size: 1.5rem;&quot;&gt;
    Being an e-commerce business, user acquisition is at the heart of our success. We acknowledge
    the importance of the web and thus we are passionate about investing in all
    the tools and features that will give the best user experience to our users.
  &lt;/p&gt;
  &lt;cite&gt;Dendi Sunardi, Engineering Manager, Web Platform, Tokopedia&lt;/cite&gt;
&lt;/blockquote&gt;
&lt;p&gt;Check out the &lt;a href=&quot;https://web.dev/scale-on-web&quot;&gt;Scale on web case studies&lt;/a&gt; page for more success
stories from India and Southeast Asia.&lt;/p&gt;
</content>
    
  </entry>
  
  <entry>
    <title>How ZDF created a video PWA with offline and dark mode</title>
    <link href="https://web.dev/zdf/"/>
    <updated>2020-10-07T00:00:00Z</updated>
    <id>https://web.dev/zdf/</id>
    <content type="text/html" mode="escaped">&lt;p&gt;When broadcaster ZDF was considering redesigning their frontend technology
stack, they decided to take a closer look at &lt;a href=&quot;https://web.dev/pwa/&quot;&gt;Progressive Web Apps&lt;/a&gt; for their
streaming site &lt;a href=&quot;https://pwa.zdf.de/&quot; rel=&quot;noopener&quot;&gt;ZDFmediathek&lt;/a&gt;. Development agency
&lt;a href=&quot;https://www.cellular.de/&quot; rel=&quot;noopener&quot;&gt;Cellular&lt;/a&gt; took on the challenge to build a web-based
experience that is on par with ZDF&#39;s platform-specific iOS and Android apps. The
PWA offers installability, offline video playback, transition animations, and a
dark mode.&lt;/p&gt;
&lt;h2 id=&quot;adding-a-service-worker&quot;&gt;Adding a service worker &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/zdf/#adding-a-service-worker&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;A key feature of a PWA is offline support. For ZDF most of the heavy lifting is done by
&lt;a href=&quot;https://web.dev/workbox/&quot;&gt;Workbox&lt;/a&gt;, a set of libraries
and Node modules that make it easy to support different caching strategies. The
ZDF PWA is built with TypeScript and React, so it uses the Workbox library
already built into
&lt;a href=&quot;https://reactjs.org/docs/create-a-new-react-app.html&quot; rel=&quot;noopener&quot;&gt;create-react-app&lt;/a&gt; to
precache static assets. This lets the application focus on making the dynamic
content available offline, in this case the videos and their metadata.&lt;/p&gt;
&lt;p&gt;The basic idea is quite simple: fetch the video and store it as a blob in
IndexedDB. Then during playback, listen for online/offline events, and switch to
the downloaded version when the device goes offline.&lt;/p&gt;
&lt;p&gt;Unfortunately things turned out to be a little more complex. One of the project
requirements was to use the official ZDF web player which doesn&#39;t provide any
offline support. The player takes a content ID as input, talks to the ZDF API,
and plays back the associated video.&lt;/p&gt;
&lt;p&gt;This is where one of the web&#39;s most powerful features comes to the rescue:
&lt;a href=&quot;https://web.dev/service-worker-mindset/&quot;&gt;service workers&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The service worker can intercept the various requests done by the player and
respond with the data from IndexedDB. This transparently adds offline
capabilities without having to change a single line of the player&#39;s code.&lt;/p&gt;
&lt;p&gt;Since offline videos tend to be quite large, a big question is how many of them
can actually be stored on a device. With the help of the &lt;a href=&quot;https://web.dev/storage-for-the-web/#how-much&quot;&gt;StorageManager
API&lt;/a&gt; the app can estimate the
available space and inform the user when there is insufficient space before even
starting the download. Unfortunately Safari isn&#39;t on the list of browsers
implementing this API and at the time of writing there wasn&#39;t much up-to-date
information about how other browsers applied quotas. Therefore, the team wrote a
&lt;a href=&quot;https://cellular.github.io/quota&quot; rel=&quot;noopener&quot;&gt;small utility&lt;/a&gt; to test the behavior on
various devices. By now a &lt;a href=&quot;https://web.dev/storage-for-the-web/&quot;&gt;comprehensive
article&lt;/a&gt; exists that sums up all the
details.&lt;/p&gt;
&lt;h2 id=&quot;adding-a-custom-install-prompt&quot;&gt;Adding a custom install prompt &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/zdf/#adding-a-custom-install-prompt&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The ZDF PWA offers a custom in-app installation flow and prompts users to
install the app as soon as they want to download their first video. This is a
good point in time to prompt for install because the user has expressed a clear intention to
use the app offline.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;div class=&quot;w-columns&quot;&gt;
    &lt;img alt=&quot;Custom invitation to install.&quot; decoding=&quot;async&quot; height=&quot;1595&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/sj4J2JMlYdgf4BrhaRsT.jpg?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/sj4J2JMlYdgf4BrhaRsT.jpg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/sj4J2JMlYdgf4BrhaRsT.jpg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/sj4J2JMlYdgf4BrhaRsT.jpg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/sj4J2JMlYdgf4BrhaRsT.jpg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/sj4J2JMlYdgf4BrhaRsT.jpg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/sj4J2JMlYdgf4BrhaRsT.jpg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/sj4J2JMlYdgf4BrhaRsT.jpg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/sj4J2JMlYdgf4BrhaRsT.jpg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/sj4J2JMlYdgf4BrhaRsT.jpg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/sj4J2JMlYdgf4BrhaRsT.jpg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/sj4J2JMlYdgf4BrhaRsT.jpg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/sj4J2JMlYdgf4BrhaRsT.jpg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/sj4J2JMlYdgf4BrhaRsT.jpg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/sj4J2JMlYdgf4BrhaRsT.jpg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/sj4J2JMlYdgf4BrhaRsT.jpg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/sj4J2JMlYdgf4BrhaRsT.jpg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/sj4J2JMlYdgf4BrhaRsT.jpg?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
    &lt;img alt=&quot;Custom install prompt being triggered when downloading a video for offline consumption.&quot; decoding=&quot;async&quot; height=&quot;1595&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FT4Xt5xpjCp57C8BwLtn.jpg?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FT4Xt5xpjCp57C8BwLtn.jpg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FT4Xt5xpjCp57C8BwLtn.jpg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FT4Xt5xpjCp57C8BwLtn.jpg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FT4Xt5xpjCp57C8BwLtn.jpg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FT4Xt5xpjCp57C8BwLtn.jpg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FT4Xt5xpjCp57C8BwLtn.jpg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FT4Xt5xpjCp57C8BwLtn.jpg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FT4Xt5xpjCp57C8BwLtn.jpg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FT4Xt5xpjCp57C8BwLtn.jpg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FT4Xt5xpjCp57C8BwLtn.jpg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FT4Xt5xpjCp57C8BwLtn.jpg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FT4Xt5xpjCp57C8BwLtn.jpg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FT4Xt5xpjCp57C8BwLtn.jpg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FT4Xt5xpjCp57C8BwLtn.jpg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FT4Xt5xpjCp57C8BwLtn.jpg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FT4Xt5xpjCp57C8BwLtn.jpg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FT4Xt5xpjCp57C8BwLtn.jpg?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;/div&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;Custom install prompt being triggered when downloading a video for offline consumption.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;building-an-offline-page-to-access-downloads&quot;&gt;Building an offline page to access downloads &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/zdf/#building-an-offline-page-to-access-downloads&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;When the device is not connected to the internet and the user navigates to a
page that is not available in offline mode, a special page is shown instead that
lists all videos that have previously been downloaded or (in case no content has
been downloaded yet) a short explanation of the offline feature.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;div class=&quot;w-columns&quot;&gt;
    &lt;img alt=&quot;Offline page showing all content available for watching offline.&quot; decoding=&quot;async&quot; height=&quot;1418&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FcWDhtuSSpHg04krFqUD.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FcWDhtuSSpHg04krFqUD.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FcWDhtuSSpHg04krFqUD.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FcWDhtuSSpHg04krFqUD.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FcWDhtuSSpHg04krFqUD.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FcWDhtuSSpHg04krFqUD.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FcWDhtuSSpHg04krFqUD.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FcWDhtuSSpHg04krFqUD.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FcWDhtuSSpHg04krFqUD.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FcWDhtuSSpHg04krFqUD.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FcWDhtuSSpHg04krFqUD.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FcWDhtuSSpHg04krFqUD.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FcWDhtuSSpHg04krFqUD.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FcWDhtuSSpHg04krFqUD.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FcWDhtuSSpHg04krFqUD.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FcWDhtuSSpHg04krFqUD.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FcWDhtuSSpHg04krFqUD.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/FcWDhtuSSpHg04krFqUD.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
    &lt;img alt=&quot;Offline page showing that no content is available for watching offline.&quot; decoding=&quot;async&quot; height=&quot;1423&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/PUvFyyaVfhh7PFyXDwCo.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/PUvFyyaVfhh7PFyXDwCo.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/PUvFyyaVfhh7PFyXDwCo.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/PUvFyyaVfhh7PFyXDwCo.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/PUvFyyaVfhh7PFyXDwCo.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/PUvFyyaVfhh7PFyXDwCo.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/PUvFyyaVfhh7PFyXDwCo.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/PUvFyyaVfhh7PFyXDwCo.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/PUvFyyaVfhh7PFyXDwCo.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/PUvFyyaVfhh7PFyXDwCo.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/PUvFyyaVfhh7PFyXDwCo.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/PUvFyyaVfhh7PFyXDwCo.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/PUvFyyaVfhh7PFyXDwCo.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/PUvFyyaVfhh7PFyXDwCo.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/PUvFyyaVfhh7PFyXDwCo.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/PUvFyyaVfhh7PFyXDwCo.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/PUvFyyaVfhh7PFyXDwCo.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/PUvFyyaVfhh7PFyXDwCo.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;/div&gt;
  &lt;figcaption class=&quot;w-figcaption&quot;&gt;Offline page showing all content available for watching offline.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;using-frame-loading-rate-for-adaptive-features&quot;&gt;Using frame loading rate for adaptive features &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/zdf/#using-frame-loading-rate-for-adaptive-features&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;To offer a rich user experience the ZDF PWA includes some subtle transitions
that happen when the user scrolls or navigates. On low-end devices such
animations usually have the opposite effect and make the app feel sluggish and
less responsive if they don&#39;t run at 60 frames per second. To take this into
account the app measures the actual frame rate via &lt;code&gt;requestAnimationFrame()&lt;/code&gt; while
the application loads and disables all animations when the value drops below a
certain threshold.&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; frameRate &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; lastTick&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; samples &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;measure&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; tick &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Date&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;lastTick&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; samples&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tick &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; lastTick&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    lastTick &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; tick&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;samples&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;requestAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;measure&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; avg &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; samples&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;reduce&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; samples&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fps &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; avg&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;      &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fps&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token function&quot;&gt;measure&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;p&gt;Even if this measurement provides only a rough indication of the device&#39;s
performance and varies on each load, it was still a good basis for
decision-making. It&#39;s worth mentioning that depending on the use case there are
&lt;a href=&quot;https://web.dev/adaptive-loading-with-service-workers/&quot;&gt;other techniques for adaptive loading&lt;/a&gt;
that developers can implement. One great advantage of this approach is that it
is available on all platforms.&lt;/p&gt;
&lt;h2 id=&quot;dark-mode&quot;&gt;Dark mode &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/zdf/#dark-mode&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;A popular feature for modern mobile experiences is
&lt;a href=&quot;https://web.dev/prefers-color-scheme/&quot;&gt;dark mode&lt;/a&gt;.
Especially when
watching videos in low ambient light many people prefer a dimmed UI. The ZDF PWA
not only provides a switch that allows users to toggle between a light and a
dark theme, it also reacts to changes of the OS-wide color preferences. This way
the app will automatically change its appearance on devices that have set up a
schedule to change the theme base on the time of day.&lt;/p&gt;
&lt;h2 id=&quot;results&quot;&gt;Results &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/zdf/#results&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The new progressive web app was silently launched as a public beta in March 2020
and has received a lot of positive feedback since then. While the beta phase
continues, the PWA still runs under its own temporary domain. Even though the
PWA wasn&#39;t publicly promoted there is a steadily growing number of users. Many
of these are from the Microsoft Store which allows Windows 10 users to discover
PWAs and install them like platform-specific apps.&lt;/p&gt;
&lt;h2 id=&quot;what&#39;s-next&quot;&gt;What&#39;s next? &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/zdf/#what&#39;s-next&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ZDF plans to continue adding features to their PWA, including login for
personalization, cross-device and platform viewing, and push notifications.&lt;/p&gt;
</content>
    <author>
      <name>Scott Friesen</name>
    </author><author>
      <name>Martin Schierle</name>
    </author>
  </entry>
  
  <entry>
    <title>How Goibibo&#39;s PWA improved conversions by 60%</title>
    <link href="https://web.dev/goibibo/"/>
    <updated>2020-09-29T00:00:00Z</updated>
    <id>https://web.dev/goibibo/</id>
    <content type="text/html" mode="escaped">&lt;p&gt;&lt;a href=&quot;https://goibibo.com/&quot; rel=&quot;noopener&quot;&gt;Goibibo&lt;/a&gt; is India&#39;s leading online travel booking portal. By building a full-featured
and reliable &lt;a href=&quot;https://web.dev/pwa&quot;&gt;Progressive Web App&lt;/a&gt; that matched the capabilities of their iOS and Android
apps, Goibibo achieved a 60% increase in conversions (compared to their previous web flow).&lt;/p&gt;
&lt;div class=&quot;w-stats&quot;&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;60&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;Increase in conversions&lt;/p&gt;
  &lt;/div&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;20&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;Increase in logged-in users&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&quot;opportunity&quot;&gt;Highlighting the opportunity &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/goibibo/#opportunity&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;In their journey to improve user experience, Goibibo noticed a few trends:&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;Goibibo&amp;#x27;s PWA.&quot; class=&quot;w-screenshot w-screenshot--filled w-figure--inline-right&quot; decoding=&quot;async&quot; height=&quot;1624&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0dmwrJViuhgA3I4IDCkj.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0dmwrJViuhgA3I4IDCkj.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0dmwrJViuhgA3I4IDCkj.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0dmwrJViuhgA3I4IDCkj.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0dmwrJViuhgA3I4IDCkj.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0dmwrJViuhgA3I4IDCkj.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0dmwrJViuhgA3I4IDCkj.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0dmwrJViuhgA3I4IDCkj.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0dmwrJViuhgA3I4IDCkj.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0dmwrJViuhgA3I4IDCkj.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0dmwrJViuhgA3I4IDCkj.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0dmwrJViuhgA3I4IDCkj.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0dmwrJViuhgA3I4IDCkj.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0dmwrJViuhgA3I4IDCkj.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0dmwrJViuhgA3I4IDCkj.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0dmwrJViuhgA3I4IDCkj.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0dmwrJViuhgA3I4IDCkj.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/0dmwrJViuhgA3I4IDCkj.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;With users either already shifted or quickly shifting to mobile, their initial strategy
towards mobile web was to build a lightweight and functional application. This worked, with
search-to-details-page conversions equalizing on web and iOS/Android, but the iOS/Android apps
won in all further steps of the conversion funnel.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;There were significant drop offs at the payment stage of the PWA compared to their
iOS/Android apps. This was when they decided to invest in their PWA with the goal of letting
users experience the same UX on their PWA as on their iOS/Android apps.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;They also noticed nearly 20% of their users were starting a session on the web and
converting on the app. This reiterated their belief that a chunk of users will go untapped
without an aligned PWA and iOS/Android app strategy.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;tools&quot;&gt;The tools they used &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/goibibo/#tools&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id=&quot;contact-picker&quot;&gt;Contact Picker API &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/goibibo/#contact-picker&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;div class=&quot;w-columns&quot;&gt;
  &lt;p&gt;
    Nearly 15% of Goibibo&#39;s logged-in users make bookings for family or friends on the mobile web.
    Goibibo used the &lt;a href=&quot;https://web.dev/contact-picker/&quot;&gt;Contact Picker API&lt;/a&gt; to enable PWA users to fill
    in forms on behalf of others hassle-free.
  &lt;/p&gt;
  &lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;Impact: 20% of users chose the seamless Goibibo experience.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;360&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Pdqx8qyXbwzzS8ivNS3l.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Pdqx8qyXbwzzS8ivNS3l.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Pdqx8qyXbwzzS8ivNS3l.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Pdqx8qyXbwzzS8ivNS3l.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Pdqx8qyXbwzzS8ivNS3l.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Pdqx8qyXbwzzS8ivNS3l.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Pdqx8qyXbwzzS8ivNS3l.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Pdqx8qyXbwzzS8ivNS3l.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Pdqx8qyXbwzzS8ivNS3l.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Pdqx8qyXbwzzS8ivNS3l.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Pdqx8qyXbwzzS8ivNS3l.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Pdqx8qyXbwzzS8ivNS3l.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Pdqx8qyXbwzzS8ivNS3l.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Pdqx8qyXbwzzS8ivNS3l.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Pdqx8qyXbwzzS8ivNS3l.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Pdqx8qyXbwzzS8ivNS3l.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Pdqx8qyXbwzzS8ivNS3l.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Pdqx8qyXbwzzS8ivNS3l.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;/figure&gt;
&lt;/div&gt;
&lt;h3 id=&quot;web-otp&quot;&gt;WebOTP &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/goibibo/#web-otp&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;div class=&quot;w-columns&quot;&gt;
  &lt;p&gt;
    Because secure authentication is a big challenge in India, Goibibo
    used the &lt;a href=&quot;https://web.dev/web-otp/&quot;&gt;WebOTP (One-Time Password) API&lt;/a&gt;
    to reduce sign-in friction on their PWA.
  &lt;/p&gt;
  &lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;Impact: 20% increase in their mobile web logged-in users; 25% drop in OTP retry API calls during sign up.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;526&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Nf0NeE3sSFOrYleAsxVd.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Nf0NeE3sSFOrYleAsxVd.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Nf0NeE3sSFOrYleAsxVd.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Nf0NeE3sSFOrYleAsxVd.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Nf0NeE3sSFOrYleAsxVd.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Nf0NeE3sSFOrYleAsxVd.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Nf0NeE3sSFOrYleAsxVd.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Nf0NeE3sSFOrYleAsxVd.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Nf0NeE3sSFOrYleAsxVd.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Nf0NeE3sSFOrYleAsxVd.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Nf0NeE3sSFOrYleAsxVd.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Nf0NeE3sSFOrYleAsxVd.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Nf0NeE3sSFOrYleAsxVd.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Nf0NeE3sSFOrYleAsxVd.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Nf0NeE3sSFOrYleAsxVd.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Nf0NeE3sSFOrYleAsxVd.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Nf0NeE3sSFOrYleAsxVd.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Nf0NeE3sSFOrYleAsxVd.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;/figure&gt;
&lt;/div&gt;
&lt;h3 id=&quot;web-share&quot;&gt;Web Share API &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/goibibo/#web-share&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;div class=&quot;w-columns&quot;&gt;
  &lt;p&gt;
    To bridge the gap between their web and iOS/Android experiences,  Goibibo adopted the
    &lt;a href=&quot;https://web.dev/web-share/&quot;&gt;Web Share API&lt;/a&gt; to make it easier to share  links, text, or files around hotel
    details, train availability, and so on.
  &lt;/p&gt;
  &lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;Impact: 5% of new sessions came from Web Share API.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;356&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/u5pl2i6MHBkDZESQRHXR.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/u5pl2i6MHBkDZESQRHXR.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/u5pl2i6MHBkDZESQRHXR.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/u5pl2i6MHBkDZESQRHXR.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/u5pl2i6MHBkDZESQRHXR.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/u5pl2i6MHBkDZESQRHXR.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/u5pl2i6MHBkDZESQRHXR.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/u5pl2i6MHBkDZESQRHXR.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/u5pl2i6MHBkDZESQRHXR.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/u5pl2i6MHBkDZESQRHXR.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/u5pl2i6MHBkDZESQRHXR.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/u5pl2i6MHBkDZESQRHXR.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/u5pl2i6MHBkDZESQRHXR.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/u5pl2i6MHBkDZESQRHXR.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/u5pl2i6MHBkDZESQRHXR.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/u5pl2i6MHBkDZESQRHXR.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/u5pl2i6MHBkDZESQRHXR.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/u5pl2i6MHBkDZESQRHXR.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;/figure&gt;
&lt;/div&gt;
&lt;h3 id=&quot;notifications&quot;&gt;Push notifications &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/goibibo/#notifications&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;div class=&quot;w-columns&quot;&gt;
  &lt;p&gt;
    Goibibo used &lt;a href=&quot;https://developers.google.com/web/fundamentals/push-notifications&quot;&gt;web push
    notifications&lt;/a&gt; to retarget bounced users with relevant updates like flight fare alerts and other
    customized content.
  &lt;/p&gt;
  &lt;figure class=&quot;w-figure&quot;&gt;
    &lt;img alt=&quot;Impact: Retargeted users converted 4x more compared to normal user base.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;414&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/baFHO5RXsOVdE6qiT0AR.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/baFHO5RXsOVdE6qiT0AR.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/baFHO5RXsOVdE6qiT0AR.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/baFHO5RXsOVdE6qiT0AR.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/baFHO5RXsOVdE6qiT0AR.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/baFHO5RXsOVdE6qiT0AR.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/baFHO5RXsOVdE6qiT0AR.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/baFHO5RXsOVdE6qiT0AR.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/baFHO5RXsOVdE6qiT0AR.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/baFHO5RXsOVdE6qiT0AR.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/baFHO5RXsOVdE6qiT0AR.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/baFHO5RXsOVdE6qiT0AR.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/baFHO5RXsOVdE6qiT0AR.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/baFHO5RXsOVdE6qiT0AR.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/baFHO5RXsOVdE6qiT0AR.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/baFHO5RXsOVdE6qiT0AR.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/baFHO5RXsOVdE6qiT0AR.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/baFHO5RXsOVdE6qiT0AR.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
  &lt;/figure&gt;
&lt;/div&gt;
&lt;h2 id=&quot;funnel&quot;&gt;How new web capabilities improved Goibibo&#39;s funnel &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/goibibo/#funnel&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;style&gt;
@media (min-width: 865px) {
  #funnel {
    max-width: 75%;
  }
}
&lt;/style&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;1. Web Share improved returning user percentage 2. Contact Picker enhanced user experience, making it easier for guests to book 3. WebOTP reduced friction during transactions, resulting in less time spent on OTP screen and less retry API calls 4. Push notifications improved conversions of retargeted users&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;627&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 711px) 711px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rsENPcTITCviudxIhPU1.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rsENPcTITCviudxIhPU1.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rsENPcTITCviudxIhPU1.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rsENPcTITCviudxIhPU1.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rsENPcTITCviudxIhPU1.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rsENPcTITCviudxIhPU1.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rsENPcTITCviudxIhPU1.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rsENPcTITCviudxIhPU1.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rsENPcTITCviudxIhPU1.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rsENPcTITCviudxIhPU1.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rsENPcTITCviudxIhPU1.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rsENPcTITCviudxIhPU1.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rsENPcTITCviudxIhPU1.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rsENPcTITCviudxIhPU1.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rsENPcTITCviudxIhPU1.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rsENPcTITCviudxIhPU1.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rsENPcTITCviudxIhPU1.png?auto=format&amp;w=1422 1422w&quot; width=&quot;711&quot; /&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;results&quot;&gt;Overall business results &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/goibibo/#results&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Iterations to PWA interfaces resulted in a 60% jump in conversion rate (compared to the
previous mobile web flow) and delighted users.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://web.dev/fugu-status/&quot;&gt;New web capabilities&lt;/a&gt; improved UX and caused a 20% increase
in logged-in users (who convert 6x more).&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
  &lt;p style=&quot;font-style: italic; font-size: 1.5rem;&quot;&gt;
    We always strive for seamless user experience and in turn better  conversion rates. We saw
    improved user engagement and better conversion rates on PWA than on the original mobile web flow.
    Hence,  investing in PWA is critical to our success and if we had not, it would have cost us a
    fortune.
  &lt;/p&gt;
  &lt;cite&gt;Rithish Saralaya, VP Engineering, Goibibo&lt;/cite&gt;
&lt;/blockquote&gt;
&lt;p&gt;Check out the &lt;a href=&quot;https://web.dev/tags/scale-on-web&quot;&gt;Scale on web case studies&lt;/a&gt; page for more
success stories from India and Southeast Asia.&lt;/p&gt;
</content>
    
  </entry>
  
  <entry>
    <title>How Mercado Libre optimized for Web Vitals (TBT/FID)</title>
    <link href="https://web.dev/how-mercadolibre-optimized-web-vitals/"/>
    <updated>2020-09-21T00:00:00Z</updated>
    <id>https://web.dev/how-mercadolibre-optimized-web-vitals/</id>
    <content type="text/html" mode="escaped">&lt;p&gt;Mercado Libre is the largest e-commerce and payments ecosystem in Latin America. It is present in 18
countries and is a market leader in Brazil, Mexico, and Argentina (based on unique visitors and
pageviews).&lt;/p&gt;
&lt;p&gt;Web performance has been a focus for the company for a long time, but they recently formed a team to
monitor performance and apply optimizations across different parts of the site.&lt;/p&gt;
&lt;p&gt;This article summarizes the work done by &lt;a href=&quot;https://twitter.com/pazguille&quot; rel=&quot;noopener&quot;&gt;Guille Paz&lt;/a&gt;, &lt;a href=&quot;https://www.linkedin.com/in/pcarminatti/&quot; rel=&quot;noopener&quot;&gt;Pablo
Carminatti&lt;/a&gt;, and &lt;a href=&quot;https://twitter.com/oburkhay&quot; rel=&quot;noopener&quot;&gt;Oleh
Burkhay&lt;/a&gt; from Mercado Libre&#39;s frontend architecture team to optimize
one of the Core Web Vitals: &lt;a href=&quot;https://web.dev/fid/&quot;&gt;First Input Delay (FID)&lt;/a&gt; and its lab proxy,
&lt;a href=&quot;https://web.dev/tbt/&quot;&gt;Total Blocking Time (TBT)&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;w-stats&quot;&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;90&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;Reduction in Max Potential FID in Lighthouse&lt;/p&gt;
  &lt;/div&gt;
  &lt;div class=&quot;w-stat&quot;&gt;
    &lt;p class=&quot;w-stat__figure&quot;&gt;9&lt;sub class=&quot;w-stat__sub&quot;&gt;%&lt;/sub&gt;&lt;/p&gt;
    &lt;p class=&quot;w-stat__desc&quot;&gt;More users perceiving FID as &quot;Fast&quot; in CrUX&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&quot;long-tasks-first-input-delay-and-total-blocking-time&quot;&gt;Long tasks, First Input Delay, and Total Blocking Time &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/how-mercadolibre-optimized-web-vitals/#long-tasks-first-input-delay-and-total-blocking-time&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Running expensive JavaScript code can lead to &lt;a href=&quot;https://web.dev/long-tasks-devtools/&quot;&gt;long tasks&lt;/a&gt;,
which are those that run for more than &lt;strong&gt;50ms&lt;/strong&gt; in the browser&#39;s main thread.&lt;/p&gt;
&lt;p&gt;FID (First Input Delay) measures the time from when a user first interacts with a page (e.g. when
they click on a link) to the time when the browser is actually able to begin processing event
handlers in response to that interaction. A site that executes expensive JavaScript code will likely
have several long tasks, which will end up negatively impacting FID.&lt;/p&gt;
&lt;p&gt;To provide a good user experience, sites should strive to have a First Input Delay of less than 100
milliseconds:
&lt;picture&gt;&lt;/picture&gt;&lt;/p&gt;
  &lt;source srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/eXyvkqRHQZ5iG38Axh1Z.svg&quot; media=&quot;(min-width: 640px)&quot; /&gt;
  &lt;img alt=&quot;Good fid values are 2.5 seconds, poor values are greater than 4.0 seconds and anything in between needs improvement&quot; class=&quot;w-screenshot w-screenshot--filled&quot; decoding=&quot;async&quot; height=&quot;96&quot; loading=&quot;lazy&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Se4TiXIdp8jtLJVScWed.svg&quot; width=&quot;384&quot; /&gt;

&lt;p&gt;While Mercado Libre&#39;s site was performing well in most sections, they found in the &lt;a href=&quot;https://developers.google.com/web/tools/chrome-user-experience-report&quot; rel=&quot;noopener&quot;&gt;Chrome User
Experience Report&lt;/a&gt; that
product detail pages had a poor FID. Based on that information, they decided to focus their efforts
on improving the interactivity for product pages in the site.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;Mobile and Desktop versions of a Mercado Libre product detail page.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;346&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gg8ohXTbFgr6Msacklt0.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gg8ohXTbFgr6Msacklt0.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gg8ohXTbFgr6Msacklt0.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gg8ohXTbFgr6Msacklt0.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gg8ohXTbFgr6Msacklt0.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gg8ohXTbFgr6Msacklt0.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gg8ohXTbFgr6Msacklt0.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gg8ohXTbFgr6Msacklt0.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gg8ohXTbFgr6Msacklt0.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gg8ohXTbFgr6Msacklt0.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gg8ohXTbFgr6Msacklt0.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gg8ohXTbFgr6Msacklt0.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gg8ohXTbFgr6Msacklt0.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gg8ohXTbFgr6Msacklt0.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gg8ohXTbFgr6Msacklt0.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gg8ohXTbFgr6Msacklt0.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gg8ohXTbFgr6Msacklt0.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gg8ohXTbFgr6Msacklt0.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
   &lt;figcaption class=&quot;w-figcaption&quot;&gt;
      Mobile and Desktop versions of a Mercado Libre product detail page.
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;These pages allow the user to perform complex interactions, so the goal was interactivity
optimization, without interfering with valuable functionality.&lt;/p&gt;
&lt;h2 id=&quot;measure-interactivity-of-product-detail-pages&quot;&gt;Measure interactivity of product detail pages &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/how-mercadolibre-optimized-web-vitals/#measure-interactivity-of-product-detail-pages&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;FID requires a real user and thus cannot be measured in the lab. However, the &lt;a href=&quot;https://web.dev/tbt/&quot;&gt;Total Blocking Time
(TBT)&lt;/a&gt; metric is lab-measurable, correlates well with FID in the field, and
also captures issues that affect interactivity.&lt;/p&gt;
&lt;p&gt;In the following trace, for example, while the &lt;strong&gt;total time&lt;/strong&gt; spent running tasks on the main thread
is 560 ms, only 345 ms of that time is considered &lt;strong&gt;total blocking time&lt;/strong&gt; (the sum of the portions
of each task that exceeds 50ms):&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/us8USZRiCh9sg1X2zEpN.svg&quot;&gt;&lt;img alt=&quot;A tasks timeline on the main thread showing blocking time&quot; decoding=&quot;async&quot; height=&quot;156&quot; loading=&quot;lazy&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/us8USZRiCh9sg1X2zEpN.svg&quot; width=&quot;800&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Mercado Libre took TBT as a proxy metric in the lab, in order to measure and improve the
interactivity of product detail pages in the real world.&lt;/p&gt;
&lt;p&gt;Here&#39;s the general approach they took:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Use &lt;a href=&quot;https://www.webpagetest.org/&quot; rel=&quot;noopener&quot;&gt;WebPageTest&lt;/a&gt; to determine exactly which scripts were keeping
the main thread busy on a real device.&lt;/li&gt;
&lt;li&gt;Use &lt;a href=&quot;https://developers.google.com/web/tools/lighthouse&quot; rel=&quot;noopener&quot;&gt;Lighthouse&lt;/a&gt; to determine the impact of
the changes in &lt;a href=&quot;https://web.dev/lighthouse-max-potential-fid/&quot;&gt;Max Potential First Input Delay (Max Potential
FID)&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;w-aside w-aside--note&quot;&gt;
&lt;p&gt;During this project Mercado Libre used &lt;a href=&quot;https://web.dev/lighthouse-max-potential-fid/&quot;&gt;Max Potential
FID&lt;/a&gt; in Lighthouse because that was the tool&#39;s main
metric for measuring interactivity at that time. Lighthouse now recommends using &lt;a href=&quot;https://web.dev/tbt/&quot;&gt;Total Blocking
Time&lt;/a&gt; instead. &lt;/p&gt;&lt;/div&gt;&lt;p&gt;&lt;/p&gt;
&lt;h2 id=&quot;use-webpagetest-to-visualize-long-tasks&quot;&gt;Use WebPageTest to visualize long tasks &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/how-mercadolibre-optimized-web-vitals/#use-webpagetest-to-visualize-long-tasks&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;WebPageTest (WPT) is a web performance tool that allows you to run tests on real devices in
different locations around the world.&lt;/p&gt;
&lt;p&gt;Mercado Libre used WPT to reproduce the experience of their users by choosing a device type and
location similar to real users. Specifically, they chose a &lt;strong&gt;Moto 4G device&lt;/strong&gt; and &lt;strong&gt;Dulles,
Virginia&lt;/strong&gt;, because they wanted to approximate the experience of Mercado Libre users in Mexico. By
observing the main thread view of WPT, Mercado Libre found that there were several consecutive long
tasks blocking the main thread for 2 seconds:&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;Main thread view of Mercado Libre&amp;#x27;s product detail pages.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;188&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/NbVmhDK9MLvyvEBbBYAZ.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/NbVmhDK9MLvyvEBbBYAZ.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/NbVmhDK9MLvyvEBbBYAZ.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/NbVmhDK9MLvyvEBbBYAZ.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/NbVmhDK9MLvyvEBbBYAZ.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/NbVmhDK9MLvyvEBbBYAZ.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/NbVmhDK9MLvyvEBbBYAZ.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/NbVmhDK9MLvyvEBbBYAZ.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/NbVmhDK9MLvyvEBbBYAZ.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/NbVmhDK9MLvyvEBbBYAZ.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/NbVmhDK9MLvyvEBbBYAZ.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/NbVmhDK9MLvyvEBbBYAZ.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/NbVmhDK9MLvyvEBbBYAZ.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/NbVmhDK9MLvyvEBbBYAZ.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/NbVmhDK9MLvyvEBbBYAZ.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/NbVmhDK9MLvyvEBbBYAZ.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/NbVmhDK9MLvyvEBbBYAZ.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/NbVmhDK9MLvyvEBbBYAZ.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
   &lt;figcaption class=&quot;w-figcaption&quot;&gt;
      Main thread view of Mercado Libre&#39;s product detail pages.
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;Analyzing the corresponding waterfall they found that a considerable part of those two seconds came
from their analytics module. The main bundle size of the application was large (950KB) and took a
long time to parse, compile, and execute.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;Waterfall view of product detail pages.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;363&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7QHKOutyGzfXN52hPOOz.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7QHKOutyGzfXN52hPOOz.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7QHKOutyGzfXN52hPOOz.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7QHKOutyGzfXN52hPOOz.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7QHKOutyGzfXN52hPOOz.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7QHKOutyGzfXN52hPOOz.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7QHKOutyGzfXN52hPOOz.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7QHKOutyGzfXN52hPOOz.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7QHKOutyGzfXN52hPOOz.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7QHKOutyGzfXN52hPOOz.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7QHKOutyGzfXN52hPOOz.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7QHKOutyGzfXN52hPOOz.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7QHKOutyGzfXN52hPOOz.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7QHKOutyGzfXN52hPOOz.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7QHKOutyGzfXN52hPOOz.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7QHKOutyGzfXN52hPOOz.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7QHKOutyGzfXN52hPOOz.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7QHKOutyGzfXN52hPOOz.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
   &lt;figcaption class=&quot;w-figcaption&quot;&gt;
      Waterfall view of Mercado Libre&#39;s product detail pages.
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;use-lighthouse-to-determine-max-potential-fid&quot;&gt;Use Lighthouse to determine Max Potential FID &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/how-mercadolibre-optimized-web-vitals/#use-lighthouse-to-determine-max-potential-fid&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Lighthouse doesn&#39;t allow you to choose between different devices and locations, but it&#39;s a very
useful tool for diagnosing sites and obtaining performance recommendations.&lt;/p&gt;
&lt;p&gt;When running Lighthouse on product detail pages, Mercado Libre found that the &lt;strong&gt;Max Potential FID&lt;/strong&gt;
was the only metric marked in red, with a value of &lt;strong&gt;1710ms&lt;/strong&gt;.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;Lighthouse metrics in a PSI report for Mercado Libre&amp;#x27;s product detail pages.&quot; decoding=&quot;async&quot; height=&quot;235&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rufTQY4scq1V3ghVIQPy.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rufTQY4scq1V3ghVIQPy.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rufTQY4scq1V3ghVIQPy.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rufTQY4scq1V3ghVIQPy.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rufTQY4scq1V3ghVIQPy.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rufTQY4scq1V3ghVIQPy.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rufTQY4scq1V3ghVIQPy.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rufTQY4scq1V3ghVIQPy.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rufTQY4scq1V3ghVIQPy.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rufTQY4scq1V3ghVIQPy.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rufTQY4scq1V3ghVIQPy.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rufTQY4scq1V3ghVIQPy.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rufTQY4scq1V3ghVIQPy.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rufTQY4scq1V3ghVIQPy.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rufTQY4scq1V3ghVIQPy.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rufTQY4scq1V3ghVIQPy.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rufTQY4scq1V3ghVIQPy.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/rufTQY4scq1V3ghVIQPy.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Based on this, Mercado Libre set a goal to improve their Max Potential FID score in a laboratory
tool like Lighthouse and WebPageTest, under the assumption that these improvements would affect
their real users, and therefore, show up in real user monitoring tools like the Chrome User
Experience Report.&lt;/p&gt;
&lt;h2 id=&quot;optimize-long-tasks&quot;&gt;Optimize long tasks &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/how-mercadolibre-optimized-web-vitals/#optimize-long-tasks&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id=&quot;first-iteration&quot;&gt;First iteration &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/how-mercadolibre-optimized-web-vitals/#first-iteration&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Based on the main thread trace, Mercado Libre set the goal of optimizing the two modules that were
running expensive code.&lt;/p&gt;
&lt;p&gt;They started optimizing the performance of the internal tracking module. This module contained a
CPU-heavy task that wasn&#39;t critical for the module to work, and therefore could be safely removed.
This led to a 2% reduction in JavaScript for the whole site.&lt;/p&gt;
&lt;p&gt;After that they started to work on &lt;strong&gt;improving the general bundle size&lt;/strong&gt;:&lt;/p&gt;
&lt;p&gt;Mercado Libre used
&lt;a href=&quot;https://github.com/webpack-contrib/webpack-bundle-analyzer&quot; rel=&quot;noopener&quot;&gt;webpack-bundle-analyzer&lt;/a&gt; to detect
opportunities for optimization:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Initially they were requiring the full &lt;a href=&quot;https://lodash.com/&quot; rel=&quot;noopener&quot;&gt;Lodash module&lt;/a&gt;. This was replaced
with a &lt;a href=&quot;https://lodash.com/per-method-packages&quot; rel=&quot;noopener&quot;&gt;per-method require&lt;/a&gt; to load only a subset of
Lodash instead of the whole library, and used in conjunction with
&lt;a href=&quot;https://github.com/lodash/lodash-webpack-plugin&quot; rel=&quot;noopener&quot;&gt;lodash-webpack-plugin&lt;/a&gt; to shrink Lodash even
further.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;They also applied the following &lt;a href=&quot;https://babeljs.io/&quot; rel=&quot;noopener&quot;&gt;Babel&lt;/a&gt; optimizations:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Using &lt;a href=&quot;https://babeljs.io/docs/en/babel-plugin-transform-runtime&quot; rel=&quot;noopener&quot;&gt;@babel/plugin-transform-runtime&lt;/a&gt;
to reuse Babel&#39;s helpers throughout the code, and reduce the size of the bundle considerably.&lt;/li&gt;
&lt;li&gt;Using
&lt;a href=&quot;https://github.com/jean-smaug/babel-plugin-search-and-replace#readme&quot; rel=&quot;noopener&quot;&gt;babel-plugin-search-and-replace&lt;/a&gt;
to replace tokens at build time, in order to remove a large configuration file inside the main
bundle.&lt;/li&gt;
&lt;li&gt;Adding
&lt;a href=&quot;https://github.com/oliviertassinari/babel-plugin-transform-react-remove-prop-types#readme&quot; rel=&quot;noopener&quot;&gt;babel-plugin-transform-react-remove-prop-types&lt;/a&gt;
to save some extra bytes by removing the prop types.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;As a result of these optimizations, the bundle size was reduced &lt;strong&gt;by approximately 16%&lt;/strong&gt;.&lt;/p&gt;
&lt;h2 id=&quot;measure-impact&quot;&gt;Measure impact &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/how-mercadolibre-optimized-web-vitals/#measure-impact&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The changes lowered Mercado Libre&#39;s consecutive long tasks &lt;strong&gt;from two seconds to one second&lt;/strong&gt;:&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;Main thread view of Mercado Libre&amp;#x27;s product detail pages after first round of optimizations.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;315&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/17At96aKcPrvNTWgb3FU.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/17At96aKcPrvNTWgb3FU.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/17At96aKcPrvNTWgb3FU.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/17At96aKcPrvNTWgb3FU.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/17At96aKcPrvNTWgb3FU.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/17At96aKcPrvNTWgb3FU.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/17At96aKcPrvNTWgb3FU.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/17At96aKcPrvNTWgb3FU.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/17At96aKcPrvNTWgb3FU.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/17At96aKcPrvNTWgb3FU.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/17At96aKcPrvNTWgb3FU.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/17At96aKcPrvNTWgb3FU.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/17At96aKcPrvNTWgb3FU.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/17At96aKcPrvNTWgb3FU.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/17At96aKcPrvNTWgb3FU.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/17At96aKcPrvNTWgb3FU.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/17At96aKcPrvNTWgb3FU.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/17At96aKcPrvNTWgb3FU.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
   &lt;figcaption class=&quot;w-figcaption&quot;&gt;
      In the top waterfall of WPT there’s a long red bar (in the &lt;b&gt;Page is Interactive&lt;/b&gt; row) between seconds 3 and 5. In the bottom waterfall, the bar has been broken into smaller pieces, occupying the main thread for shorter periods of time.
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;Lighthouse showed a &lt;strong&gt;57% reduction&lt;/strong&gt; in Max Potential First Input Delay:&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;Lighthouse metrics in a PSI report for Mercado Libre&amp;#x27;s product detail pages after first round of optimizations.&quot; decoding=&quot;async&quot; height=&quot;252&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Sxa1wKCXVfsHZNbfQ1ZZ.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Sxa1wKCXVfsHZNbfQ1ZZ.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Sxa1wKCXVfsHZNbfQ1ZZ.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Sxa1wKCXVfsHZNbfQ1ZZ.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Sxa1wKCXVfsHZNbfQ1ZZ.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Sxa1wKCXVfsHZNbfQ1ZZ.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Sxa1wKCXVfsHZNbfQ1ZZ.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Sxa1wKCXVfsHZNbfQ1ZZ.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Sxa1wKCXVfsHZNbfQ1ZZ.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Sxa1wKCXVfsHZNbfQ1ZZ.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Sxa1wKCXVfsHZNbfQ1ZZ.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Sxa1wKCXVfsHZNbfQ1ZZ.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Sxa1wKCXVfsHZNbfQ1ZZ.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Sxa1wKCXVfsHZNbfQ1ZZ.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Sxa1wKCXVfsHZNbfQ1ZZ.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Sxa1wKCXVfsHZNbfQ1ZZ.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Sxa1wKCXVfsHZNbfQ1ZZ.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Sxa1wKCXVfsHZNbfQ1ZZ.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;second-iteration&quot;&gt;Second iteration &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/how-mercadolibre-optimized-web-vitals/#second-iteration&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The team continued digging into long tasks in order to find subsequent improvements.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;Detailed view of main thread view of Mercado Libre&amp;#x27;s product detail pages after first round of optimizations.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;259&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/tlMIQRWDAeEY7UV4cFQo.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/tlMIQRWDAeEY7UV4cFQo.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/tlMIQRWDAeEY7UV4cFQo.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/tlMIQRWDAeEY7UV4cFQo.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/tlMIQRWDAeEY7UV4cFQo.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/tlMIQRWDAeEY7UV4cFQo.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/tlMIQRWDAeEY7UV4cFQo.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/tlMIQRWDAeEY7UV4cFQo.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/tlMIQRWDAeEY7UV4cFQo.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/tlMIQRWDAeEY7UV4cFQo.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/tlMIQRWDAeEY7UV4cFQo.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/tlMIQRWDAeEY7UV4cFQo.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/tlMIQRWDAeEY7UV4cFQo.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/tlMIQRWDAeEY7UV4cFQo.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/tlMIQRWDAeEY7UV4cFQo.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/tlMIQRWDAeEY7UV4cFQo.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/tlMIQRWDAeEY7UV4cFQo.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/tlMIQRWDAeEY7UV4cFQo.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
   &lt;figcaption class=&quot;w-figcaption&quot;&gt;
      The Waterfall (not pictured) helped Mercado Libre identify which libraries were using the main thread heavily (&lt;b&gt;Browser Main Thread&lt;/b&gt; row) and the &lt;b&gt;Page is Interactive&lt;/b&gt; row clearly shows that this main thread activity is blocking interactivity.
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;Based on that information they decided to implement the following changes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Continue reducing the main bundle size to optimize compile and parse time (e.g. by removing
duplicate dependencies throughout the different modules).&lt;/li&gt;
&lt;li&gt;Apply &lt;a href=&quot;https://web.dev/reduce-javascript-payloads-with-code-splitting/&quot;&gt;code splitting&lt;/a&gt; at
component level, to divide JavaScript in smaller chunks and allow for smarter loading of the
different components.&lt;/li&gt;
&lt;li&gt;Defer &lt;a href=&quot;https://developers.google.com/web/updates/2019/02/rendering-on-the-web#rehydration&quot; rel=&quot;noopener&quot;&gt;component
hydration&lt;/a&gt; to
allow for a smarter use of the main thread. This technique is commonly referred to as &lt;a href=&quot;https://addyosmani.com/blog/rehydration/&quot; rel=&quot;noopener&quot;&gt;partial
hydration&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;measure-impact-2&quot;&gt;Measure impact &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/how-mercadolibre-optimized-web-vitals/#measure-impact-2&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The resulting WebPageTest trace showed even smaller chunks of JS execution:&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;Main thread view of Mercado Libre&amp;#x27;s product detail pages after secoond round of optimizations.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;150&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gAvo2VXimablQ8OhFDdn.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gAvo2VXimablQ8OhFDdn.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gAvo2VXimablQ8OhFDdn.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gAvo2VXimablQ8OhFDdn.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gAvo2VXimablQ8OhFDdn.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gAvo2VXimablQ8OhFDdn.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gAvo2VXimablQ8OhFDdn.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gAvo2VXimablQ8OhFDdn.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gAvo2VXimablQ8OhFDdn.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gAvo2VXimablQ8OhFDdn.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gAvo2VXimablQ8OhFDdn.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gAvo2VXimablQ8OhFDdn.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gAvo2VXimablQ8OhFDdn.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gAvo2VXimablQ8OhFDdn.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gAvo2VXimablQ8OhFDdn.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gAvo2VXimablQ8OhFDdn.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gAvo2VXimablQ8OhFDdn.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/gAvo2VXimablQ8OhFDdn.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;And their Max Potential FID time in Lighthouse was reduced &lt;strong&gt;by an additional 60%&lt;/strong&gt;:&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;Lighthouse metrics in a PSI report for Mercado Libre&amp;#x27;s product detail pages after first round of optimizations.&quot; class=&quot;w-screenshot&quot; decoding=&quot;async&quot; height=&quot;345&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7W672LOor2SgqZsmK3BL.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7W672LOor2SgqZsmK3BL.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7W672LOor2SgqZsmK3BL.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7W672LOor2SgqZsmK3BL.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7W672LOor2SgqZsmK3BL.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7W672LOor2SgqZsmK3BL.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7W672LOor2SgqZsmK3BL.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7W672LOor2SgqZsmK3BL.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7W672LOor2SgqZsmK3BL.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7W672LOor2SgqZsmK3BL.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7W672LOor2SgqZsmK3BL.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7W672LOor2SgqZsmK3BL.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7W672LOor2SgqZsmK3BL.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7W672LOor2SgqZsmK3BL.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7W672LOor2SgqZsmK3BL.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7W672LOor2SgqZsmK3BL.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7W672LOor2SgqZsmK3BL.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/7W672LOor2SgqZsmK3BL.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;visualize-progress-for-real-users&quot;&gt;Visualize progress for real users &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/how-mercadolibre-optimized-web-vitals/#visualize-progress-for-real-users&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;While laboratory testing tools like WebPageTest and Lighthouse are great for iterating on solutions
during development, the true goal is to improve the experience for real users.&lt;/p&gt;
&lt;p&gt;The &lt;a href=&quot;https://developers.google.com/web/tools/chrome-user-experience-report&quot; rel=&quot;noopener&quot;&gt;Chrome User Experience
Report&lt;/a&gt; provides user
experience metrics for how real-world Chrome users experience popular destinations on the web. The
data from the report can be obtained by &lt;a href=&quot;https://web.dev/chrome-ux-report-bigquery/&quot;&gt;running queries in
BigQuery&lt;/a&gt;,
&lt;a href=&quot;https://developers.google.com/speed/pagespeed/insights/&quot; rel=&quot;noopener&quot;&gt;PageSpeedInsights&lt;/a&gt;, or the &lt;a href=&quot;https://web.dev/chrome-ux-report-api/&quot;&gt;CrUX
API&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The &lt;a href=&quot;https://datastudio.google.com/c/datasources/create?connectorId=AKfycbxk7u2UtsqzgaA7I0bvkaJbBPannEx0_zmeCsGh9bBZy7wFMLrQ8x24WxpBzk_ln2i7&quot; rel=&quot;noopener&quot;&gt;CrUX
dashboard&lt;/a&gt;
is an easy way to visualize the progress of core metrics:&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;.&quot; decoding=&quot;async&quot; height=&quot;163&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/3bUj9l2ISMr3mojaUG4o.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/3bUj9l2ISMr3mojaUG4o.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/3bUj9l2ISMr3mojaUG4o.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/3bUj9l2ISMr3mojaUG4o.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/3bUj9l2ISMr3mojaUG4o.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/3bUj9l2ISMr3mojaUG4o.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/3bUj9l2ISMr3mojaUG4o.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/3bUj9l2ISMr3mojaUG4o.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/3bUj9l2ISMr3mojaUG4o.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/3bUj9l2ISMr3mojaUG4o.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/3bUj9l2ISMr3mojaUG4o.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/3bUj9l2ISMr3mojaUG4o.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/3bUj9l2ISMr3mojaUG4o.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/3bUj9l2ISMr3mojaUG4o.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/3bUj9l2ISMr3mojaUG4o.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/3bUj9l2ISMr3mojaUG4o.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/3bUj9l2ISMr3mojaUG4o.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/3bUj9l2ISMr3mojaUG4o.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
    &lt;figcaption class=&quot;w-figcaption&quot;&gt;
      Mercado Libre&#39;s FID progress between Jan 2020 and April 2020. Before the optimization project, 82% of the users were perceiving FID as fast (below 100ms). After, more than 91% of the users were perceiving the metric as fast.
    &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;next-steps&quot;&gt;Next steps &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/how-mercadolibre-optimized-web-vitals/#next-steps&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Web performance is never a finished task, and Mercado Libre understands the value these
optimizations bring to their users. While they continue applying several optimizations across the
site, including &lt;a href=&quot;https://web.dev/instant-navigation-experiences/#production-cases&quot;&gt;prefetching&lt;/a&gt; in
product listing pages, image optimizations, and others, they continue adding improvements to product
listing pages to reduce Total Blocking Time (TBT), and by proxy FID, even more. These optimizations
include:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Iterating on the code splitting solution.&lt;/li&gt;
&lt;li&gt;Improving the execution of third-party scripts.&lt;/li&gt;
&lt;li&gt;Continuing improvements in asset bundling at the bundler level
(&lt;a href=&quot;https://webpack.js.org/&quot; rel=&quot;noopener&quot;&gt;webpack&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Mercado Libre has a holistic view of performance, so while they continue optimizing interactivity in
the site, they have also started assessing opportunities for improvement on the other two current
&lt;a href=&quot;https://web.dev/vitals/&quot;&gt;Core Web Vitals&lt;/a&gt;: &lt;a href=&quot;https://web.dev/lcp/&quot;&gt;LCP (Largest Contentful Paint)&lt;/a&gt;
and &lt;a href=&quot;https://web.dev/cls/&quot;&gt;CLS (Cumulative Layout Shift)&lt;/a&gt; even more.&lt;/p&gt;
</content>
    <author>
      <name>Demian Renzulli</name>
    </author><author>
      <name>Carlos Aranha</name>
    </author><author>
      <name>Joan Baca</name>
    </author>
  </entry>
  
  <entry>
    <title>Adaptive loading with service workers</title>
    <link href="https://web.dev/adaptive-loading-with-service-workers/"/>
    <updated>2020-06-23T00:00:00Z</updated>
    <id>https://web.dev/adaptive-loading-with-service-workers/</id>
    <content type="text/html" mode="escaped">&lt;div class=&quot;youtube&quot;&gt;  &lt;lite-youtube videoid=&quot;fhqCwDP69PI&quot; videoStartAt=&quot;161&quot;&gt;  &lt;/lite-youtube&gt;&lt;/div&gt;
&lt;p&gt;Users access websites through a wide variety of devices and network connections. Even in major cities, where mobile networks are fast and reliable, one can end up experiencing slower load times, for example, when commuting in the subway, in a car, or just when moving around.
In regions like emerging markets, this phenomenon is even more common, not only due to unreliable networks, but also because devices tend to have less memory and CPU processing power.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://web.dev/adaptive-loading-cds-2019/&quot;&gt;Adaptive loading&lt;/a&gt; is a web performance pattern that lets you adapt your site based on the user&#39;s network and device conditions.&lt;/p&gt;
&lt;p&gt;The adaptive loading pattern is made possible by &lt;a href=&quot;https://web.dev/service-workers-cache-storage/&quot;&gt;service workers&lt;/a&gt;, the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Network_Information_API&quot; rel=&quot;noopener&quot;&gt;Network Information API&lt;/a&gt;, the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/NavigatorConcurrentHardware/hardwareConcurrency&quot; rel=&quot;noopener&quot;&gt;Hardware Concurrency API&lt;/a&gt;, and the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Navigator/deviceMemory&quot; rel=&quot;noopener&quot;&gt;Device Memory API&lt;/a&gt;. In this guide we explore how you can use service workers and the Network Information API to achieve an adaptive loading strategy.&lt;/p&gt;
&lt;h2 id=&quot;production-case&quot;&gt;Production case &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/adaptive-loading-with-service-workers/#production-case&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://www.terra.com.br/&quot; rel=&quot;noopener&quot;&gt;Terra&lt;/a&gt; is one of the biggest media companies in Brazil. It has a large user base, coming from a wide variety of devices and networks.&lt;/p&gt;
&lt;p&gt;To provide a more reliable experience to all their users, Terra combines service workers and the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Network_Information_API&quot; rel=&quot;noopener&quot;&gt;Network Information API&lt;/a&gt; to deliver lower quality images to users on 2G or 3G connections.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;A screenshot of Terra&amp;#x27;s home page connected to different image qualities according to the connection type.&quot; decoding=&quot;async&quot; height=&quot;381&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 734px) 734px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/EQst12doZ2b8CLO0MtO5.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/EQst12doZ2b8CLO0MtO5.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/EQst12doZ2b8CLO0MtO5.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/EQst12doZ2b8CLO0MtO5.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/EQst12doZ2b8CLO0MtO5.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/EQst12doZ2b8CLO0MtO5.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/EQst12doZ2b8CLO0MtO5.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/EQst12doZ2b8CLO0MtO5.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/EQst12doZ2b8CLO0MtO5.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/EQst12doZ2b8CLO0MtO5.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/EQst12doZ2b8CLO0MtO5.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/EQst12doZ2b8CLO0MtO5.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/EQst12doZ2b8CLO0MtO5.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/EQst12doZ2b8CLO0MtO5.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/EQst12doZ2b8CLO0MtO5.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/EQst12doZ2b8CLO0MtO5.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/EQst12doZ2b8CLO0MtO5.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/EQst12doZ2b8CLO0MtO5.png?auto=format&amp;w=1468 1468w&quot; width=&quot;734&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;The company also found that the scripts and assets (like banners) loaded by ad networks were especially detrimental to users navigating in 3G or slower connections.&lt;/p&gt;
&lt;p&gt;As is the case with many publishers, Terra serves &lt;a href=&quot;https://amp.dev/&quot; rel=&quot;noopener&quot;&gt;AMP&lt;/a&gt; versions of their pages to users coming from search engines and other link sharing platforms. AMP pages are usually lightweight and help mitigate the impact of ads in performance by deprioritizing their load with respect to the main content of the page.&lt;/p&gt;
&lt;p&gt;Taking that into consideration, Terra decided to start serving AMP versions of their pages not only to users coming from search engines, but also to those navigating their site in 3G connections or slower.&lt;/p&gt;
&lt;p&gt;To achieve that, they use the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Network_Information_API&quot; rel=&quot;noopener&quot;&gt;Network Information API&lt;/a&gt; in the service worker to detect if the request comes from 3G or slower. If that&#39;s the case, they change the URL of the page to request the AMP version of the page instead.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;A screenshot of Terra&amp;#x27;s article page connected to different image qualities according to the connection type.&quot; decoding=&quot;async&quot; height=&quot;379&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 741px) 741px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/4kfDfkeIzxVXLoaTylug.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/4kfDfkeIzxVXLoaTylug.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/4kfDfkeIzxVXLoaTylug.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/4kfDfkeIzxVXLoaTylug.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/4kfDfkeIzxVXLoaTylug.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/4kfDfkeIzxVXLoaTylug.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/4kfDfkeIzxVXLoaTylug.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/4kfDfkeIzxVXLoaTylug.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/4kfDfkeIzxVXLoaTylug.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/4kfDfkeIzxVXLoaTylug.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/4kfDfkeIzxVXLoaTylug.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/4kfDfkeIzxVXLoaTylug.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/4kfDfkeIzxVXLoaTylug.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/4kfDfkeIzxVXLoaTylug.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/4kfDfkeIzxVXLoaTylug.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/4kfDfkeIzxVXLoaTylug.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/4kfDfkeIzxVXLoaTylug.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/4kfDfkeIzxVXLoaTylug.png?auto=format&amp;w=1482 1482w&quot; width=&quot;741&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Thanks to this technique, they send &lt;strong&gt;70% less bytes&lt;/strong&gt; to users on slower connections. The &lt;strong&gt;time spent&lt;/strong&gt; in AMP pages is higher for 3G users and ads in AMP pages have a better &lt;strong&gt;CTR (click-through-rate)&lt;/strong&gt; for that group.&lt;/p&gt;
&lt;h2 id=&quot;implement-adaptive-loading-with-workbox&quot;&gt;Implement adaptive loading with Workbox &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/adaptive-loading-with-service-workers/#implement-adaptive-loading-with-workbox&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;In this section we&#39;ll explore how &lt;a href=&quot;https://web.dev/workbox/&quot;&gt;Workbox&lt;/a&gt; can be used to implement adaptive loading strategies.&lt;/p&gt;
&lt;p&gt;Workbox provides several &lt;a href=&quot;https://web.dev/runtime-caching-with-workbox/&quot;&gt;runtime caching strategies&lt;/a&gt; out of the box. They are used to indicate how the service worker generates a response after receiving a &lt;code&gt;fetch&lt;/code&gt; event.&lt;/p&gt;
&lt;p&gt;For example, in a &lt;a href=&quot;https://developers.google.com/web/tools/workbox/modules/workbox-strategies#cache_first_cache_falling_back_to_network&quot; rel=&quot;noopener&quot;&gt;Cache First&lt;/a&gt; strategy the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Request&quot; rel=&quot;noopener&quot;&gt;&lt;code&gt;Request&lt;/code&gt;&lt;/a&gt; will be fulfilled using the cached response (if available). If there isn&#39;t a cached response, the &lt;code&gt;Request&lt;/code&gt; will be fulfilled by a network request and the response will be cached.&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;registerRoute&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;workbox-routing&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;CacheFirst&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;workbox-strategies&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token function&quot;&gt;registerRoute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RegExp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#39;/img/&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CacheFirst&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;p&gt;Caching strategies can be customized with &lt;a href=&quot;https://developers.google.com/web/tools/workbox/guides/using-plugins&quot; rel=&quot;noopener&quot;&gt;Workbox plugins&lt;/a&gt;. These allow you to add additional behaviors by manipulating requests and responses during the lifecycle of a request. Workbox has several built-in plugins for common cases and APIs, but you can also define a &lt;a href=&quot;https://developers.google.com/web/tools/workbox/guides/using-plugins#custom_plugins&quot; rel=&quot;noopener&quot;&gt;custom plugin&lt;/a&gt;, and introduce some custom logic of your choice.&lt;/p&gt;
&lt;p&gt;To achieve adapting loading, define a custom plugin, called, for example, &lt;code&gt;adaptiveLoadingPlugin&lt;/code&gt;:&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; adaptiveLoadingPlugin &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token function-variable function&quot;&gt;requestWillFetch&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;request&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; urlParts &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; request&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#39;/&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; imageQuality&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br /&gt;      navigator &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; navigator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;connection&lt;br /&gt;        &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; navigator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;connection&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;effectiveType&lt;br /&gt;        &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;&#39;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;      &lt;span class=&quot;token comment&quot;&gt;//...&lt;/span&gt;&lt;br /&gt;      &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;3g&#39;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;br /&gt;        imageQuality &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;q_30&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;      &lt;span class=&quot;token comment&quot;&gt;//...&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; newUrl &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; urlParts&lt;br /&gt;      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;splice&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;urlParts&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; imageQuality&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#39;/&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br /&gt;      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#39;.jpg&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;.png&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; newRequest &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Request&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;newUrl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;href&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;headers&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; request&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;headers&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; newRequest&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;p&gt;The previous code does the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Implements a &lt;code&gt;requestWillFetch()&lt;/code&gt; callback: This is called whenever a network request is about to be made, so you can alter the &lt;code&gt;Request&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Checks the connection type, by using the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/NavigatorConcurrentHardware/hardwareConcurrency&quot; rel=&quot;noopener&quot;&gt;Network Information API&lt;/a&gt;. Based on the status of the network, it creates a new URL part, indicating the quality of the image to fetch (e.g. &lt;code&gt;q_30&lt;/code&gt; for 3G users).&lt;/li&gt;
&lt;li&gt;Creates a new URL based on the dynamic &lt;code&gt;newPart&lt;/code&gt; value, and returns the new &lt;code&gt;Request&lt;/code&gt; to be made, based on that URL.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Next, pass the plugin to a &lt;code&gt;cacheFirst&lt;/code&gt; strategy containing a regular expression to match image URLs (e.g. &lt;code&gt;/img/&lt;/code&gt;):&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;highlight-line&quot;&gt;workbox&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;routing&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;registerRoute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RegExp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#39;/img/&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  workbox&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strategies&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;cacheFirst&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    cacheName&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;images&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    plugins&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;mark class=&quot;highlight-line highlight-line-active&quot;&gt;      adaptiveLoadingPlugin&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/mark&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;      workbox&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;expiration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Plugin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;        maxEntries&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;        purgeOnQuotaError&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;p&gt;As a result, when requests for images are intercepted, the runtime caching strategy will try to fulfill the request from the cache. If it&#39;s not available, it will run the logic in the plugin, to decide which image quality to fetch from the network.&lt;/p&gt;
&lt;p&gt;Finally the response will be persisted in the cache, and sent back to the page.&lt;/p&gt;
&lt;h2 id=&quot;cloudinary-workbox-plugin&quot;&gt;Cloudinary Workbox Plugin &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/adaptive-loading-with-service-workers/#cloudinary-workbox-plugin&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Cloudinary, a video and image hosting service, has a &lt;a href=&quot;https://www.npmjs.com/package/cloudinary-workbox-plugin&quot; rel=&quot;noopener&quot;&gt;Workbox Plugin&lt;/a&gt; that encapsulates the functionality explained in the previous section, making it even easier to implement.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;Cloudinary and Workbox logos.&quot; decoding=&quot;async&quot; height=&quot;269&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 637px) 637px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/iY2R0e4PvimaoVORo8Go.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/iY2R0e4PvimaoVORo8Go.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/iY2R0e4PvimaoVORo8Go.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/iY2R0e4PvimaoVORo8Go.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/iY2R0e4PvimaoVORo8Go.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/iY2R0e4PvimaoVORo8Go.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/iY2R0e4PvimaoVORo8Go.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/iY2R0e4PvimaoVORo8Go.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/iY2R0e4PvimaoVORo8Go.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/iY2R0e4PvimaoVORo8Go.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/iY2R0e4PvimaoVORo8Go.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/iY2R0e4PvimaoVORo8Go.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/iY2R0e4PvimaoVORo8Go.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/iY2R0e4PvimaoVORo8Go.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/iY2R0e4PvimaoVORo8Go.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/iY2R0e4PvimaoVORo8Go.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/iY2R0e4PvimaoVORo8Go.png?auto=format&amp;w=1274 1274w&quot; width=&quot;637&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;The plugin is designed to work with the &lt;a href=&quot;https://developers.google.com/web/tools/workbox/modules/workbox-webpack-plugin&quot; rel=&quot;noopener&quot;&gt;Workbox webpack plugin&lt;/a&gt;. To implement it, use the &lt;a href=&quot;https://developers.google.com/web/tools/workbox/reference-docs/latest/module-workbox-webpack-plugin.GenerateSW&quot; rel=&quot;noopener&quot;&gt;&lt;code&gt;GenerateSW()&lt;/code&gt;&lt;/a&gt; class:&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;workboxPlugin&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;GenerateSW&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;  swDest&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;sw.js&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  importScripts&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#39;./cloudinaryPlugin.js&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  runtimeCaching&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;      urlPattern&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RegExp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#39;^https://res.cloudinary.com/.*/image/upload/&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;      handler&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;CacheFirst&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;      options&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;        cacheName&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;cloudinary-images&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;        plugins&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;br /&gt;          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;token function-variable function&quot;&gt;requestWillFetch&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;request&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;&lt;br /&gt;              cloudinaryPlugin&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;requestWillFetch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;request&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;p&gt;The previous code does the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Uses the &lt;code&gt;GenerateSW()&lt;/code&gt; class to configure webpack to generate a service worker in the destination indicated in &lt;code&gt;swDest&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Imports the cloudinary plugin script.&lt;/li&gt;
&lt;li&gt;Defines a Cache First runtime caching strategy for requests for images to the Cloudinary CDN.&lt;/li&gt;
&lt;li&gt;Passes the &lt;a href=&quot;https://www.npmjs.com/package/cloudinary-workbox-plugin&quot; rel=&quot;noopener&quot;&gt;Cloudinary Workbox Plugin&lt;/a&gt; to adjust the image quality according to the network conditions.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;explore-more-adaptive-loading-strategies&quot;&gt;Explore more adaptive loading strategies &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/adaptive-loading-with-service-workers/#explore-more-adaptive-loading-strategies&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;You can go beyond this, by mapping device signals, like &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/NavigatorConcurrentHardware/hardwareConcurrency&quot; rel=&quot;noopener&quot;&gt;hardware concurrency&lt;/a&gt; and &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Navigator/deviceMemory&quot; rel=&quot;noopener&quot;&gt;device memory&lt;/a&gt; to device categories and then serving different assets depending on the device type (low-, mid- or high-end).&lt;/p&gt;
</content>
    <author>
      <name>Demian Renzulli</name>
    </author><author>
      <name>Jeff Posnick</name>
    </author>
  </entry>
  
  <entry>
    <title>App shell UX with service workers and streams</title>
    <link href="https://web.dev/app-shell-ux-with-service-workers/"/>
    <updated>2020-06-23T00:00:00Z</updated>
    <id>https://web.dev/app-shell-ux-with-service-workers/</id>
    <content type="text/html" mode="escaped">&lt;div class=&quot;youtube&quot;&gt;  &lt;lite-youtube videoid=&quot;fhqCwDP69PI&quot; videoStartAt=&quot;438&quot;&gt;  &lt;/lite-youtube&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Single-page_application&quot; rel=&quot;noopener&quot;&gt;Single-page app (SPA)&lt;/a&gt; is an architectural pattern in which the browser runs JavaScript code to update the existing page when the user visits a different section of the site, as opposed to loading an entire new page.&lt;/p&gt;
&lt;p&gt;This means that the web app doesn&#39;t perform an actual page reload. The &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/History_API&quot; rel=&quot;noopener&quot;&gt;History API&lt;/a&gt; is used instead to navigate back and forth through the user&#39;s history and manipulate the contents of the history stack.&lt;/p&gt;
&lt;p&gt;Using this type of architecture can provide an &lt;a href=&quot;https://developers.google.com/web/fundamentals/architecture/app-shell&quot; rel=&quot;noopener&quot;&gt;app shell UX&lt;/a&gt; that&#39;s fast, reliable, and usually consumes less data when navigating.&lt;/p&gt;
&lt;p&gt;In multi-page apps (MPAs) each time a user navigates to a new URL, the browser progressively renders HTML specific to that page. This means a full page refresh every time you visit a new page.&lt;/p&gt;
&lt;p&gt;While both are equally valid models to use, you might want to bring some of the benefits of the app shell UX of SPAs to your existing MPA site.
In this article we&#39;ll analyze how you can achieve an SPA-like architecture in multi-page apps by combining partials, service workers, and streams.&lt;/p&gt;
&lt;h2 id=&quot;production-case&quot;&gt;Production case &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/app-shell-ux-with-service-workers/#production-case&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://dev.to/&quot; rel=&quot;noopener&quot;&gt;DEV&lt;/a&gt; is a community where software developers write articles, take part in discussions, and build their professional profiles.&lt;/p&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;A screenshot of https://dev.to&quot; class=&quot;w-screenshot w-screenshot--filled&quot; decoding=&quot;async&quot; height=&quot;482&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Vk2qqXg5PmLV7oCR7xVh.jpg?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Vk2qqXg5PmLV7oCR7xVh.jpg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Vk2qqXg5PmLV7oCR7xVh.jpg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Vk2qqXg5PmLV7oCR7xVh.jpg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Vk2qqXg5PmLV7oCR7xVh.jpg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Vk2qqXg5PmLV7oCR7xVh.jpg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Vk2qqXg5PmLV7oCR7xVh.jpg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Vk2qqXg5PmLV7oCR7xVh.jpg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Vk2qqXg5PmLV7oCR7xVh.jpg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Vk2qqXg5PmLV7oCR7xVh.jpg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Vk2qqXg5PmLV7oCR7xVh.jpg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Vk2qqXg5PmLV7oCR7xVh.jpg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Vk2qqXg5PmLV7oCR7xVh.jpg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Vk2qqXg5PmLV7oCR7xVh.jpg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Vk2qqXg5PmLV7oCR7xVh.jpg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Vk2qqXg5PmLV7oCR7xVh.jpg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Vk2qqXg5PmLV7oCR7xVh.jpg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Vk2qqXg5PmLV7oCR7xVh.jpg?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;Their architecture is a multi-page app based on traditional backend templating through Ruby on Rails. Their team was interested in some of the benefits of an app shell model, but didn&#39;t want to undertake a major architectural change or move away from their original tech stack.&lt;/p&gt;
&lt;p&gt;Here&#39;s how their solution works:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;First, they create partials of their home page for the header and the footer (&lt;code&gt;shell_top.html&lt;/code&gt; and &lt;code&gt;shell_bottom.html&lt;/code&gt;) and deliver them as standalone HTML snippets with an endpoint. These assets are added to the cache at the service worker &lt;code&gt;install&lt;/code&gt; event (what&#39;s commonly referred to as &lt;a href=&quot;https://web.dev/precache-with-workbox/&quot;&gt;precaching&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;When a navigation request is intercepted by the service worker, they create a &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream&quot; rel=&quot;noopener&quot;&gt;streamed response&lt;/a&gt; by combining the cached header and footer with the main page content that just came from the server. The body is the only actual part of the page that requires fetching data from the network.&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&quot;w-figure&quot;&gt;
  &lt;img alt=&quot;Dev&amp;#x27;s architecture consisting on static headers and footers that are cached and a body requested from the network.&quot; decoding=&quot;async&quot; height=&quot;363&quot; loading=&quot;lazy&quot; sizes=&quot;(min-width: 800px) 800px, calc(100vw - 48px)&quot; src=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/QkGCrnzggZmrp1PXrbHb.png?auto=format&quot; srcset=&quot;https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/QkGCrnzggZmrp1PXrbHb.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/QkGCrnzggZmrp1PXrbHb.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/QkGCrnzggZmrp1PXrbHb.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/QkGCrnzggZmrp1PXrbHb.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/QkGCrnzggZmrp1PXrbHb.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/QkGCrnzggZmrp1PXrbHb.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/QkGCrnzggZmrp1PXrbHb.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/QkGCrnzggZmrp1PXrbHb.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/QkGCrnzggZmrp1PXrbHb.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/QkGCrnzggZmrp1PXrbHb.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/QkGCrnzggZmrp1PXrbHb.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/QkGCrnzggZmrp1PXrbHb.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/QkGCrnzggZmrp1PXrbHb.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/QkGCrnzggZmrp1PXrbHb.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/QkGCrnzggZmrp1PXrbHb.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/QkGCrnzggZmrp1PXrbHb.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/QkGCrnzggZmrp1PXrbHb.png?auto=format&amp;w=1600 1600w&quot; width=&quot;800&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;The key element of this solution is the usage of &lt;a href=&quot;https://developers.google.com/web/updates/2016/06/sw-readablestreams&quot; rel=&quot;noopener&quot;&gt;streams&lt;/a&gt;, which enables &lt;a href=&quot;https://streams.spec.whatwg.org/#intro&quot; rel=&quot;noopener&quot;&gt;incremental creations and updates&lt;/a&gt; of data sources. The Streams API also provides an interface for reading or writing asynchronous chunks of data, only a subset of which might be available in memory at any given time.
This way, the header of the page can be rendered as soon as it&#39;s picked from the cache, while the rest of the content is being fetched from the network. As a result, the navigation experience is so fast that users don&#39;t perceive an actual page refresh, only the new content (the body) being updated.&lt;/p&gt;
&lt;p&gt;The resulting UX is similar to the app shell UX pattern of SPAs, implemented on a MPA site.&lt;/p&gt;
&lt;div class=&quot;w-aside w-aside--note&quot;&gt;
&lt;p&gt;The previous section contains a quick summary of DEV&#39;s solution. For a more detailed explanation check out their &lt;a href=&quot;https://dev.to/devteam/instant-webpages-and-terabytes-of-data-savings-through-the-magic-of-service-workers-1mkc&quot; rel=&quot;noopener&quot;&gt;blog post&lt;/a&gt; on this topic.&lt;/p&gt;
&lt;/div&gt;
&lt;h2 id=&quot;implement-an-app-shell-ux-architecture-in-mpas-with-workbox&quot;&gt;Implement an app shell UX architecture in MPAs with Workbox &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/app-shell-ux-with-service-workers/#implement-an-app-shell-ux-architecture-in-mpas-with-workbox&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;In this section we&#39;ll cover a summary of the different parts involved in implementing an app shell UX architecture in MPAs.
For a more detailed post on how to implement this on a real site, check out &lt;a href=&quot;https://developers.google.com/web/updates/2018/05/beyond-spa&quot; rel=&quot;noopener&quot;&gt;Beyond SPAs: alternative architectures for your PWA&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;the-server&quot;&gt;The server &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/app-shell-ux-with-service-workers/#the-server&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;h4 id=&quot;partials&quot;&gt;Partials &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/app-shell-ux-with-service-workers/#partials&quot;&gt;#&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;The first step is to adopt a site structure based on HTML partials. These are just modular pieces of your pages that can be reused across your site and also delivered as standalone HTML snippets.&lt;/p&gt;
&lt;p&gt;The &lt;strong&gt;head partial&lt;/strong&gt; can contain all the logic needed to style and render the header of the page. The &lt;strong&gt;navbar partial&lt;/strong&gt; can contain the logic for the navigation bar, the &lt;strong&gt;footer partial&lt;/strong&gt; the code that needs to execute there, and so forth.&lt;/p&gt;
&lt;p&gt;The first time the user visits the site, your server generates a response by assembling the different parts of the page:&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;routes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#39;index&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;  res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;headPartial &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; navbarPartial&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; tag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;query&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;tag &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;DEFAULT_TAG&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;requestData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;…&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;  res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;templates&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tag&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;items&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;  res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;footPartial&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;  res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;p&gt;By using the &lt;code&gt;res&lt;/code&gt; (response) object&#39;s &lt;a href=&quot;https://nodejs.org/api/http.html#http_response_write_chunk_encoding_callback&quot; rel=&quot;noopener&quot;&gt;write() method&lt;/a&gt;, and referencing locally stored partial templates, the response can be &lt;a href=&quot;https://github.com/substack/stream-handbook&quot; rel=&quot;noopener&quot;&gt;streamed&lt;/a&gt; immediately, without getting blocked by any external data source. The browser takes this initial HTML and renders a meaningful interface and loading message right away.&lt;/p&gt;
&lt;p&gt;The next portion of the page uses API data, which involves a network request. The web app can&#39;t render anything else until it gets a response back and processes it, but at least users aren&#39;t staring at a blank screen while they wait.&lt;/p&gt;
&lt;h3 id=&quot;the-service-worker&quot;&gt;The service worker &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/app-shell-ux-with-service-workers/#the-service-worker&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;The first time a user visits a site, the header of the page will be rendered faster, without having to wait for the body of the page. The browser still needs to go to the network to fetch the rest of the page.&lt;/p&gt;
&lt;p&gt;After the first page load, the service worker is registered, allowing you to fetch the partials for the different static parts of the page (header, navbar, footer, etc.) from the cache.&lt;/p&gt;
&lt;h4 id=&quot;precaching-static-assets&quot;&gt;Precaching static assets &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/app-shell-ux-with-service-workers/#precaching-static-assets&quot;&gt;#&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;The first step is to cache the partial HTML templates, so they are immediately available.
With &lt;a href=&quot;https://developers.google.com/web/tools/workbox/modules/workbox-precaching&quot; rel=&quot;noopener&quot;&gt;Workbox precaching&lt;/a&gt; you can store these files at the &lt;code&gt;install&lt;/code&gt; event of the service worker and keep them up to date when changes are deployed to the web app.&lt;/p&gt;
&lt;p&gt;Depending on the build process, Workbox has different solutions to generate a service worker and indicate the list of files to precache, including &lt;a href=&quot;https://developers.google.com/web/tools/workbox/modules/workbox-webpack-plugin&quot; rel=&quot;noopener&quot;&gt;webpack&lt;/a&gt; and &lt;a href=&quot;https://developers.google.com/web/tools/workbox/guides/codelabs/gulp&quot; rel=&quot;noopener&quot;&gt;gulp&lt;/a&gt; plugins, a &lt;a href=&quot;https://developers.google.com/web/tools/workbox/modules/workbox-build&quot; rel=&quot;noopener&quot;&gt;generic node module&lt;/a&gt; and a &lt;a href=&quot;https://developers.google.com/web/tools/workbox/modules/workbox-cli&quot; rel=&quot;noopener&quot;&gt;command line interface&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;For a partials configuration like the one described earlier, the resulting service worker file should contain something similar to the following:&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;workbox&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;precaching&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;precacheAndRoute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    url&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;partials/about.html&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    revision&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;518747aad9d7e&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    url&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;partials/foot.html&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    revision&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;69bf746a9ecc6&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token comment&quot;&gt;// etc.&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;h4 id=&quot;streaming&quot;&gt;Streaming &lt;a class=&quot;w-headline-link&quot; href=&quot;https://web.dev/app-shell-ux-with-service-workers/#streaming&quot;&gt;#&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;Next, add the service worker logic so that the precached partial HTML can be sent back to the web app immediately. This is a crucial part of being reliably fast. Using the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Streams_API&quot; rel=&quot;noopener&quot;&gt;Streams API&lt;/a&gt; within our service worker makes that possible.
&lt;a href=&quot;https://developers.google.com/web/tools/workbox/reference-docs/latest/module-workbox-streams&quot; rel=&quot;noopener&quot;&gt;Workbox Streams&lt;/a&gt; abstracts the details of how streaming works. The package lets you pass to the library a mix of streaming sources, both from caches and runtime data that might come from the network. Workbox takes care of coordinating the individual sources and stitching them together into a single, streaming response.&lt;/p&gt;
&lt;p&gt;First, set up the strategies in Workbox to handle the different sources that will make up the streaming response.&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; cacheStrategy &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; workbox&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strategies&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;cacheFirst&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;  cacheName&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; workbox&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;core&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;cacheNames&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;precache&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; apiStrategy &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; workbox&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strategies&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;staleWhileRevalidate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;  cacheName&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;API_CACHE_NAME&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  plugins&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;workbox&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;expiration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Plugin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;maxEntries&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;The first strategy reads data that&#39;s been precached, like the partial HTML templates.&lt;/li&gt;
&lt;li&gt;The second strategy implements the &lt;a href=&quot;https://developers.google.com/web/tools/workbox/modules/workbox-strategies#stale-while-revalidate&quot; rel=&quot;noopener&quot;&gt;stale-while-revalidate&lt;/a&gt; caching logic, along with &lt;a href=&quot;https://developers.google.com/web/tools/workbox/modules/workbox-expiration#restrict_the_number_of_cache_entries&quot; rel=&quot;noopener&quot;&gt;least-recently-used cache expiration&lt;/a&gt; logic once we reach 50 entries.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Next, tell Workbox how to use the strategies to construct a complete, streaming response, by passing in an array of sources as functions to execute immediately:&lt;/p&gt;
&lt;div&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;workbox&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;streams&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;strategy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; cacheStrategy&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;handle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;      request&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Request&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getCacheKeyForURL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/head.html&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; cacheStrategy&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;handle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;      request&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Request&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getCacheKeyForURL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/navbar.html&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; url&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; tag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; url&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;searchParams&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#39;tag&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;DEFAULT_TAG&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; listResponse &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; apiStrategy&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;handle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;…&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; listResponse&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; templates&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tag&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;items&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; cacheStrategy&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;handle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br /&gt;      request&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Request&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getCacheKeyForURL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/foot.html&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;The first two sources are precached partial templates read directly from the service worker&#39;s cache, so they&#39;ll always be available immediately.&lt;/li&gt;
&lt;li&gt;The next source function fetches data from the network, and processes the response into the HTML that the web app expects.&lt;/li&gt;
&lt;li&gt;Finally, a cached copy of the footer and closing HTML tags is streamed to complete the response.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Workbox takes the result from each source and streams it to the web app, in sequence, only delaying if the next function in the array hasn&#39;t completed yet.
As a result, the user immediately sees the page being painted. The experience is so fast that when navigating the header stays in its position without making the user perceive the full page refresh. This is very similar to the UX that the app shell SPA model provides.&lt;/p&gt;
</content>
    <author>
      <name>Demian Renzulli</name>
    </author><author>
      <name>Jeff Posnick</name>
    </author>
  </entry>
</feed>
